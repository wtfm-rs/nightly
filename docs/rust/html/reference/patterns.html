<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Patterns - The Rust Reference</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/reference-bb0bdaf8.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-45a698e8.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-edc1c836.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Reference</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/reference/" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/reference/edit/master/src/patterns.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <div class="rule" id="r-patterns"><a class="rule-link" href="#r-patterns" title="patterns"><span>[patterns]</span></a>
</div>

<h1 id="patterns"><a class="header" href="#patterns">Patterns</a></h1>
<div class="rule" id="r-patterns.syntax"><a class="rule-link" href="#r-patterns.syntax" title="patterns.syntax"><span>[patterns<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-Pattern" onclick="show_railroad()"><a href="patterns.html#railroad-Pattern">Pattern</a></span> → <span class="grammar-literal">|</span><sup>?</sup> <span class="grammar-text"><a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a></span> ( <span class="grammar-literal">|</span> <span class="grammar-text"><a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a></span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-PatternNoTopAlt" onclick="show_railroad()"><a href="patterns.html#railroad-PatternNoTopAlt">PatternNoTopAlt</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-PatternWithoutRange">PatternWithoutRange</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangePattern">RangePattern</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-PatternWithoutRange" onclick="show_railroad()"><a href="patterns.html#railroad-PatternWithoutRange">PatternWithoutRange</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-LiteralPattern">LiteralPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-IdentifierPattern">IdentifierPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-WildcardPattern">WildcardPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RestPattern">RestPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-ReferencePattern">ReferencePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-StructPattern">StructPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-TupleStructPattern">TupleStructPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-TuplePattern">TuplePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-GroupedPattern">GroupedPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-SlicePattern">SlicePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-PathPattern">PathPattern</a></span> <br>    | <span class="grammar-text"><a href="macros.html#grammar-MacroInvocation">MacroInvocation</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 556px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-Pattern"><svg class="railroad" viewbox="0 0 556 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-Pattern">
<text class="comment" x="39" y="25">
Pattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55" />
<text x="73" y="71">
|</text>
</g>
</g>
<a class="link" xlink:href="patterns.html#railroad-PatternNoTopAlt">
<g class="nonterminal">
<rect height="22" width="140" x="121" y="55" />
<text x="191" y="71">
PatternNoTopAlt</text>
</g>
</a>
<g class="optional">
<path d=" M 271 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 202 m -98 0 l -5 -5 m 0 10 l 5 -5 m 98 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 295 66 h 12 m 178 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -178 m 92 0 l 5 -5 m 0 10 l -5 -5 m -92 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="307" y="55" />
<text x="321" y="71">
|</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-PatternNoTopAlt">
<g class="nonterminal">
<rect height="22" width="140" x="345" y="55" />
<text x="415" y="71">
PatternNoTopAlt</text>
</g>
</a>
<path d=" M 335 66 h 10" />
</g>
</g>
</g>
<path d=" M 111 66 h 10" />
<path d=" M 261 66 h 10" />
</g>
<path d=" M 531 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 521 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 290px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-PatternNoTopAlt"><svg class="railroad" viewbox="0 0 290 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-PatternNoTopAlt">
<text class="comment" x="67" y="25">
PatternNoTopAlt</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 172 0 h 24" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-PatternWithoutRange">
<g class="nonterminal">
<rect height="22" width="172" x="59" y="42" />
<text x="145" y="58">
PatternWithoutRange</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 196 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 116 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="patterns.html#railroad-RangePattern">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="75" />
<text x="117" y="91">
RangePattern</text>
</g>
</a>
</g>
<path d=" M 265 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 255 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 282px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-PatternWithoutRange"><svg class="railroad" viewbox="0 0 282 437" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-PatternWithoutRange">
<text class="comment" x="81" y="25">
PatternWithoutRange</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 132 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-LiteralPattern">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="42" />
<text x="125" y="58">
LiteralPattern</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 188 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 188 0 v -33" />
<path d=" M 47 107 v 33 m 188 0 v -33" />
<path d=" M 47 140 v 33 m 188 0 v -33" />
<path d=" M 47 173 v 33 m 188 0 v -33" />
<path d=" M 47 206 v 33 m 188 0 v -33" />
<path d=" M 47 239 v 33 m 188 0 v -33" />
<path d=" M 47 272 v 33 m 188 0 v -33" />
<path d=" M 47 305 v 33 m 188 0 v -33" />
<path d=" M 47 338 v 33 m 188 0 v -33" />
<path d=" M 47 371 v 33 m 188 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 156 0 h 8 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-IdentifierPattern">
<g class="nonterminal">
<rect height="22" width="156" x="59" y="75" />
<text x="137" y="91">
IdentifierPattern</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 140 0 h 24 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-WildcardPattern">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="108" />
<text x="129" y="124">
WildcardPattern</text>
</g>
</a>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 108 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RestPattern">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="141" />
<text x="113" y="157">
RestPattern</text>
</g>
</a>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 148 0 h 16 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-ReferencePattern">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="174" />
<text x="133" y="190">
ReferencePattern</text>
</g>
</a>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 124 0 h 40 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-StructPattern">
<g class="nonterminal">
<rect height="22" width="124" x="59" y="207" />
<text x="121" y="223">
StructPattern</text>
</g>
</a>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 164 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-TupleStructPattern">
<g class="nonterminal">
<rect height="22" width="164" x="59" y="240" />
<text x="141" y="256">
TupleStructPattern</text>
</g>
</a>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 116 0 h 48 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-TuplePattern">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="273" />
<text x="117" y="289">
TuplePattern</text>
</g>
</a>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 132 0 h 32 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-GroupedPattern">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="306" />
<text x="125" y="322">
GroupedPattern</text>
</g>
</a>
</g>
<path d=" M 47 338 v 0 a 12 12 0 0 0 12 12 m 116 0 h 48 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-SlicePattern">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="339" />
<text x="117" y="355">
SlicePattern</text>
</g>
</a>
</g>
<path d=" M 47 371 v 0 a 12 12 0 0 0 12 12 m 108 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-PathPattern">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="372" />
<text x="113" y="388">
PathPattern</text>
</g>
</a>
</g>
<path d=" M 47 404 v 0 a 12 12 0 0 0 12 12 m 140 0 h 24 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="macros.html#railroad-MacroInvocation">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="405" />
<text x="129" y="421">
MacroInvocation</text>
</g>
</a>
</g>
<path d=" M 257 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 247 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.intro"><a class="rule-link" href="#r-patterns.intro" title="patterns.intro"><span>[patterns<wbr>.intro]</span></a>
</div>

<p>Patterns are used to match values against structures and to, optionally, bind variables to values inside these structures.
They are also used in variable declarations and parameters for functions and closures.</p>
<p>The pattern in the following example does four things:</p>
<ul>
<li>Tests if <code>person</code> has the <code>car</code> field filled with something.</li>
<li>Tests if the person’s <code>age</code> field is between 13 and 19, and binds its value to the <code>person_age</code> variable.</li>
<li>Binds a reference to the <code>name</code> field to the variable <code>person_name</code>.</li>
<li>Ignores the rest of the fields of <code>person</code>.
The remaining fields can have any value and are not bound to any variables.</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Car;
</span><span class="boring">struct Computer;
</span><span class="boring">struct Person {
</span><span class="boring">    name: String,
</span><span class="boring">    car: Option&lt;Car&gt;,
</span><span class="boring">    computer: Option&lt;Computer&gt;,
</span><span class="boring">    age: u8,
</span><span class="boring">}
</span><span class="boring">let person = Person {
</span><span class="boring">    name: String::from("John"),
</span><span class="boring">    car: Some(Car),
</span><span class="boring">    computer: None,
</span><span class="boring">    age: 15,
</span><span class="boring">};
</span>if let
    Person {
        car: Some(_),
        age: person_age @ 13..=19,
        name: ref person_name,
        ..
    } = person
{
    println!("{} has a car and is {} years old.", person_name, person_age);
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.usage"><a class="rule-link" href="#r-patterns.usage" title="patterns.usage"><span>[patterns<wbr>.usage]</span></a>
</div>

<p>Patterns are used in:</p>
<div class="rule" id="r-patterns.let"><a class="rule-link" href="#r-patterns.let" title="patterns.let"><span>[patterns<wbr>.let]</span></a>
</div>

<ul>
<li><a href="statements.html#let-statements"><code>let</code> declarations</a></li>
</ul>
<div class="rule" id="r-patterns.param"><a class="rule-link" href="#r-patterns.param" title="patterns.param"><span>[patterns<wbr>.param]</span></a>
</div>

<ul>
<li><a href="items/functions.html">Function</a> and <a href="expressions/closure-expr.html">closure</a> parameters</li>
</ul>
<div class="rule" id="r-patterns.match"><a class="rule-link" href="#r-patterns.match" title="patterns.match"><span>[patterns<wbr>.match]</span></a>
</div>

<ul>
<li><a href="expressions/match-expr.html"><code>match</code> expressions</a></li>
</ul>
<div class="rule" id="r-patterns.if-let"><a class="rule-link" href="#r-patterns.if-let" title="patterns.if-let"><span>[patterns<wbr>.if-let]</span></a>
</div>

<ul>
<li><a href="expressions/if-expr.html"><code>if let</code> expressions</a></li>
</ul>
<div class="rule" id="r-patterns.while-let"><a class="rule-link" href="#r-patterns.while-let" title="patterns.while-let"><span>[patterns<wbr>.while-let]</span></a>
</div>

<ul>
<li><a href="expressions/loop-expr.html#while-let-patterns"><code>while let</code> expressions</a></li>
</ul>
<div class="rule" id="r-patterns.for"><a class="rule-link" href="#r-patterns.for" title="patterns.for"><span>[patterns<wbr>.for]</span></a>
</div>

<ul>
<li><a href="expressions/loop-expr.html#iterator-loops"><code>for</code> expressions</a></li>
</ul>
<div class="rule" id="r-patterns.destructure"><a class="rule-link" href="#r-patterns.destructure" title="patterns.destructure"><span>[patterns<wbr>.destructure]</span></a>
</div>

<h2 id="destructuring"><a class="header" href="#destructuring">Destructuring</a></h2>
<div class="rule" id="r-patterns.destructure.intro"><a class="rule-link" href="#r-patterns.destructure.intro" title="patterns.destructure.intro"><span>[patterns<wbr>.destructure<wbr>.intro]</span></a>
</div>

<p>Patterns can be used to <em>destructure</em> <a href="items/structs.html">structs</a>, <a href="items/enumerations.html">enums</a>, and <a href="types/tuple.html">tuples</a>.
Destructuring breaks up a value into its component pieces.
The syntax used is almost the same as when creating such values.</p>
<div class="rule" id="r-patterns.destructure.wildcard"><a class="rule-link" href="#r-patterns.destructure.wildcard" title="patterns.destructure.wildcard"><span>[patterns<wbr>.destructure<wbr>.wildcard]</span></a>
</div>

<p>In a pattern whose <a href="glossary.html#scrutinee">scrutinee</a> expression has a <code>struct</code>, <code>enum</code> or <code>tuple</code> type, a <a href="#wildcard-pattern">wildcard pattern</a> (<code>_</code>) stands in for a <em>single</em> data field, whereas an <a href="#grammar-StructPatternEtCetera">et cetera</a> or <a href="patterns.html#r-patterns.rest">rest pattern</a> (<code>..</code>) stands in for <em>all</em> the remaining fields of a particular variant.</p>
<div class="rule" id="r-patterns.destructure.named-field-shorthand"><a class="rule-link" href="#r-patterns.destructure.named-field-shorthand" title="patterns.destructure.named-field-shorthand"><span>[patterns<wbr>.destructure<wbr>.named-field-shorthand]</span></a>
</div>

<p>When destructuring a data structure with named (but not numbered) fields, it is allowed to write <code>fieldname</code> as a shorthand for <code>fieldname: fieldname</code>.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">enum Message {
</span><span class="boring">    Quit,
</span><span class="boring">    WriteString(String),
</span><span class="boring">    Move { x: i32, y: i32 },
</span><span class="boring">    ChangeColor(u8, u8, u8),
</span><span class="boring">}
</span><span class="boring">let message = Message::Quit;
</span>match message {
    Message::Quit =&gt; println!("Quit"),
    Message::WriteString(write) =&gt; println!("{}", &amp;write),
    Message::Move{ x, y: 0 } =&gt; println!("move {} horizontally", x),
    Message::Move{ .. } =&gt; println!("other move"),
    Message::ChangeColor { 0: red, 1: green, 2: _ } =&gt; {
        println!("color change, red: {}, green: {}", red, green);
    }
};
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.refutable"><a class="rule-link" href="#r-patterns.refutable" title="patterns.refutable"><span>[patterns<wbr>.refutable]</span></a>
</div>

<h2 id="refutability"><a class="header" href="#refutability">Refutability</a></h2>
<p>A pattern is said to be <em>refutable</em> when it has the possibility of not being matched by the value it is being matched against.
<em>Irrefutable</em> patterns, on the other hand, always match the value they are being matched against.
Examples:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let (x, y) = (1, 2);               // "(x, y)" is an irrefutable pattern

if let (a, 3) = (1, 2) {           // "(a, 3)" is refutable, and will not match
    panic!("Shouldn't reach here");
} else if let (a, 4) = (3, 4) {    // "(a, 4)" is refutable, and will match
    println!("Matched ({}, 4)", a);
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.literal"><a class="rule-link" href="#r-patterns.literal" title="patterns.literal"><span>[patterns<wbr>.literal]</span></a>
</div>

<h2 id="literal-patterns"><a class="header" href="#literal-patterns">Literal patterns</a></h2>
<div class="rule" id="r-patterns.literal.syntax"><a class="rule-link" href="#r-patterns.literal.syntax" title="patterns.literal.syntax"><span>[patterns<wbr>.literal<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-LiteralPattern" onclick="show_railroad()"><a href="patterns.html#railroad-LiteralPattern">LiteralPattern</a></span> → <span class="grammar-literal">-</span><sup>?</sup> <span class="grammar-text"><a href="expressions/literal-expr.html#grammar-LiteralExpression">LiteralExpression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 312px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LiteralPattern"><svg class="railroad" viewbox="0 0 312 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-LiteralPattern">
<text class="comment" x="64" y="25">
LiteralPattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55" />
<text x="73" y="71">
-</text>
</g>
</g>
<a class="link" xlink:href="expressions/literal-expr.html#railroad-LiteralExpression">
<g class="nonterminal">
<rect height="22" width="156" x="121" y="55" />
<text x="199" y="71">
LiteralExpression</text>
</g>
</a>
<path d=" M 111 66 h 10" />
</g>
<path d=" M 287 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 277 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.literal.intro"><a class="rule-link" href="#r-patterns.literal.intro" title="patterns.literal.intro"><span>[patterns<wbr>.literal<wbr>.intro]</span></a>
</div>

<p><em>Literal patterns</em> match exactly the same value as what is created by the literal. Since negative numbers are not <a href="expressions/literal-expr.html">literals</a>, literals in patterns may be prefixed by an optional minus sign, which acts like the negation operator.</p>
<div class="alert alert-warning">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p>

<p>C string and raw C string literals are accepted in literal patterns, but <code>&amp;CStr</code> doesn’t implement structural equality (<code>#[derive(Eq, PartialEq)]</code>) and therefore any such <code>match</code> on a <code>&amp;CStr</code> will be rejected with a type error.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.literal.refutable"><a class="rule-link" href="#r-patterns.literal.refutable" title="patterns.literal.refutable"><span>[patterns<wbr>.literal<wbr>.refutable]</span></a>
</div>

<p>Literal patterns are always refutable.</p>
<p>Examples:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for i in -2..5 {
    match i {
        -1 =&gt; println!("It's minus one"),
        1 =&gt; println!("It's a one"),
        2|4 =&gt; println!("It's either a two or a four"),
        _ =&gt; println!("Matched none of the arms"),
    }
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident"><a class="rule-link" href="#r-patterns.ident" title="patterns.ident"><span>[patterns<wbr>.ident]</span></a>
</div>

<h2 id="identifier-patterns"><a class="header" href="#identifier-patterns">Identifier patterns</a></h2>
<div class="rule" id="r-patterns.ident.syntax"><a class="rule-link" href="#r-patterns.ident.syntax" title="patterns.ident.syntax"><span>[patterns<wbr>.ident<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-IdentifierPattern" onclick="show_railroad()"><a href="patterns.html#railroad-IdentifierPattern">IdentifierPattern</a></span> → <span class="grammar-literal">ref</span><sup>?</sup> <span class="grammar-literal">mut</span><sup>?</sup> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> ( <span class="grammar-literal">@</span> <span class="grammar-text"><a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a></span> )<sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 610px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-IdentifierPattern"><svg class="railroad" viewbox="0 0 610 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-IdentifierPattern">
<text class="comment" x="74" y="25">
IdentifierPattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="55" />
<text x="81" y="71">
ref</text>
</g>
</g>
<g class="optional">
<path d=" M 137 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="161" y="55" />
<text x="183" y="71">
mut</text>
</g>
</g>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="239" y="55" />
<text x="289" y="71">
IDENTIFIER</text>
</g>
</a>
<g class="optional">
<path d=" M 349 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 178 m -86 0 l -5 -5 m 0 10 l 5 -5 m 86 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="373" y="55" />
<text x="387" y="71">
@</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-PatternNoTopAlt">
<g class="nonterminal">
<rect height="22" width="140" x="411" y="55" />
<text x="481" y="71">
PatternNoTopAlt</text>
</g>
</a>
<path d=" M 401 66 h 10" />
</g>
</g>
<path d=" M 127 66 h 10" />
<path d=" M 229 66 h 10" />
<path d=" M 339 66 h 10" />
</g>
<path d=" M 585 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 575 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.ident.intro"><a class="rule-link" href="#r-patterns.ident.intro" title="patterns.ident.intro"><span>[patterns<wbr>.ident<wbr>.intro]</span></a>
</div>

<p>Identifier patterns bind the value they match to a variable in the <a href="names/namespaces.html#r-names.namespaces.kinds">value namespace</a>.</p>
<div class="rule" id="r-patterns.ident.unique"><a class="rule-link" href="#r-patterns.ident.unique" title="patterns.ident.unique"><span>[patterns<wbr>.ident<wbr>.unique]</span></a>
</div>

<p>The identifier must be unique within the pattern.</p>
<div class="rule" id="r-patterns.ident.scope"><a class="rule-link" href="#r-patterns.ident.scope" title="patterns.ident.scope"><span>[patterns<wbr>.ident<wbr>.scope]</span></a>
</div>

<p>The variable will shadow any variables of the same name in scope.
The <a href="names/scopes.html">scope</a> of the new binding depends on the context of where the pattern is used (such as a <code>let</code> binding or a <code>match</code> arm).</p>
<div class="rule" id="r-patterns.ident.bare"><a class="rule-link" href="#r-patterns.ident.bare" title="patterns.ident.bare"><span>[patterns<wbr>.ident<wbr>.bare]</span></a>
</div>

<p>Patterns that consist of only an identifier, possibly with a <code>mut</code>, match any value and bind it to that identifier.
This is the most commonly used pattern in variable declarations and parameters for functions and closures.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut variable = 10;
fn sum(x: i32, y: i32) -&gt; i32 {
<span class="boring">   x + y
</span><span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.scrutinized"><a class="rule-link" href="#r-patterns.ident.scrutinized" title="patterns.ident.scrutinized"><span>[patterns<wbr>.ident<wbr>.scrutinized]</span></a>
</div>

<p>To bind the matched value of a pattern to a variable, use the syntax <code>variable @ subpattern</code>.
For example, the following binds the value 2 to <code>e</code> (not the entire range: the range here is a range subpattern).</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 2;

match x {
    e @ 1 ..= 5 =&gt; println!("got a range element {}", e),
    _ =&gt; println!("anything"),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.move"><a class="rule-link" href="#r-patterns.ident.move" title="patterns.ident.move"><span>[patterns<wbr>.ident<wbr>.move]</span></a>
</div>

<p>By default, identifier patterns bind a variable to a copy of or move from the matched value depending on whether the matched value implements <a href="special-types-and-traits.html#copy"><code>Copy</code></a>.</p>
<div class="rule" id="r-patterns.ident.ref"><a class="rule-link" href="#r-patterns.ident.ref" title="patterns.ident.ref"><span>[patterns<wbr>.ident<wbr>.ref]</span></a>
</div>

<p>This can be changed to bind to a reference by using the <code>ref</code> keyword, or to a mutable reference using <code>ref mut</code>. For example:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">let a = Some(10);
</span>match a {
    None =&gt; (),
    Some(value) =&gt; (),
}

match a {
    None =&gt; (),
    Some(ref value) =&gt; (),
}
<span class="boring">}</span></code></pre>
<p>In the first match expression, the value is copied (or moved).
In the second match, a reference to the same memory location is bound to the variable value.
This syntax is needed because in destructuring subpatterns the <code>&amp;</code> operator can’t be applied to the value’s fields.
For example, the following is not valid:</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Person {
</span><span class="boring">   name: String,
</span><span class="boring">   age: u8,
</span><span class="boring">}
</span><span class="boring">let value = Person { name: String::from("John"), age: 23 };
</span>if let Person { name: &amp;person_name, age: 18..=150 } = value { }
<span class="boring">}</span></code></pre>
<p>To make it valid, write the following:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Person {
</span><span class="boring">   name: String,
</span><span class="boring">   age: u8,
</span><span class="boring">}
</span><span class="boring">let value = Person { name: String::from("John"), age: 23 };
</span>if let Person { name: ref person_name, age: 18..=150 } = value { }
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.ref-ignored"><a class="rule-link" href="#r-patterns.ident.ref-ignored" title="patterns.ident.ref-ignored"><span>[patterns<wbr>.ident<wbr>.ref-ignored]</span></a>
</div>

<p>Thus, <code>ref</code> is not something that is being matched against.
Its objective is exclusively to make the matched binding a reference, instead of potentially copying or moving what was matched.</p>
<div class="rule" id="r-patterns.ident.precedent"><a class="rule-link" href="#r-patterns.ident.precedent" title="patterns.ident.precedent"><span>[patterns<wbr>.ident<wbr>.precedent]</span></a>
</div>

<p><a href="#path-patterns">Path patterns</a> take precedence over identifier patterns.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>When a pattern is a single-segment identifier, the grammar is ambiguous whether it means an <a href="patterns.html#grammar-IdentifierPattern">IdentifierPattern</a> or a <a href="patterns.html#grammar-PathPattern">PathPattern</a>. This ambiguity can only be resolved after <a href="names/name-resolution.html">name resolution</a>.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const EXPECTED_VALUE: u8 = 42;
//    ^^^^^^^^^^^^^^ That this constant is in scope affects how the
//                   patterns below are treated.

fn check_value(x: u8) -&gt; Result&lt;u8, u8&gt; {
    match x {
        EXPECTED_VALUE =&gt; Ok(x),
    //  ^^^^^^^^^^^^^^ Parsed as a `PathPattern` that resolves to
    //                 the constant `42`.
        other_value =&gt; Err(x),
    //  ^^^^^^^^^^^ Parsed as an `IdentifierPattern`.
    }
}

// If `EXPECTED_VALUE` were treated as an `IdentifierPattern` above,
// that pattern would always match, making the function always return
// `Ok(_) regardless of the input.
assert_eq!(check_value(42), Ok(42));
assert_eq!(check_value(43), Err(43));
<span class="boring">}</span></code></pre>
</blockquote>
</div>

<div class="rule" id="r-patterns.ident.constraint"><a class="rule-link" href="#r-patterns.ident.constraint" title="patterns.ident.constraint"><span>[patterns<wbr>.ident<wbr>.constraint]</span></a>
</div>

<p>It is an error if <code>ref</code> or <code>ref mut</code> is specified and the identifier shadows a constant.</p>
<div class="rule" id="r-patterns.ident.refutable"><a class="rule-link" href="#r-patterns.ident.refutable" title="patterns.ident.refutable"><span>[patterns<wbr>.ident<wbr>.refutable]</span></a>
</div>

<p>Identifier patterns are irrefutable if the <code>@</code> subpattern is irrefutable or the subpattern is not specified.</p>
<div class="rule" id="r-patterns.ident.binding"><a class="rule-link" href="#r-patterns.ident.binding" title="patterns.ident.binding"><span>[patterns<wbr>.ident<wbr>.binding]</span></a>
</div>

<h3 id="binding-modes"><a class="header" href="#binding-modes">Binding modes</a></h3>
<div class="rule" id="r-patterns.ident.binding.intro"><a class="rule-link" href="#r-patterns.ident.binding.intro" title="patterns.ident.binding.intro"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.intro]</span></a>
</div>

<p>To service better ergonomics, patterns operate in different <em>binding modes</em> in order to make it easier to bind references to values.
When a reference value is matched by a non-reference pattern, it will be automatically treated as a <code>ref</code> or <code>ref mut</code> binding.
Example:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x: &amp;Option&lt;i32&gt; = &amp;Some(3);
if let Some(y) = x {
    // y was converted to `ref y` and its type is &amp;i32
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.binding.non-reference"><a class="rule-link" href="#r-patterns.ident.binding.non-reference" title="patterns.ident.binding.non-reference"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.non-reference]</span></a>
</div>

<p><em>Non-reference patterns</em> include all patterns except bindings, <a href="#wildcard-pattern">wildcard patterns</a> (<code>_</code>), <a href="#path-patterns"><code>const</code> patterns</a> of reference types, and <a href="#reference-patterns">reference patterns</a>.</p>
<div class="rule" id="r-patterns.ident.binding.default-mode"><a class="rule-link" href="#r-patterns.ident.binding.default-mode" title="patterns.ident.binding.default-mode"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.default-mode]</span></a>
</div>

<p>If a binding pattern does not explicitly have <code>ref</code>, <code>ref mut</code>, or <code>mut</code>, then it uses the <em>default binding mode</em> to determine how the variable is bound.</p>
<div class="rule" id="r-patterns.ident.binding.move"><a class="rule-link" href="#r-patterns.ident.binding.move" title="patterns.ident.binding.move"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.move]</span></a>
</div>

<p>The default binding mode starts in “move” mode which uses move semantics.</p>
<div class="rule" id="r-patterns.ident.binding.top-down"><a class="rule-link" href="#r-patterns.ident.binding.top-down" title="patterns.ident.binding.top-down"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.top-down]</span></a>
</div>

<p>When matching a pattern, the compiler starts from the outside of the pattern and works inwards.</p>
<div class="rule" id="r-patterns.ident.binding.auto-deref"><a class="rule-link" href="#r-patterns.ident.binding.auto-deref" title="patterns.ident.binding.auto-deref"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.auto-deref]</span></a>
</div>

<p>Each time a reference is matched using a non-reference pattern, it will automatically dereference the value and update the default binding mode.</p>
<div class="rule" id="r-patterns.ident.binding.ref"><a class="rule-link" href="#r-patterns.ident.binding.ref" title="patterns.ident.binding.ref"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.ref]</span></a>
</div>

<p>References will set the default binding mode to <code>ref</code>.</p>
<div class="rule" id="r-patterns.ident.binding.ref-mut"><a class="rule-link" href="#r-patterns.ident.binding.ref-mut" title="patterns.ident.binding.ref-mut"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.ref-mut]</span></a>
</div>

<p>Mutable references will set the mode to <code>ref mut</code> unless the mode is already <code>ref</code> in which case it remains <code>ref</code>.</p>
<div class="rule" id="r-patterns.ident.binding.nested-references"><a class="rule-link" href="#r-patterns.ident.binding.nested-references" title="patterns.ident.binding.nested-references"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.nested-references]</span></a>
</div>

<p>If the automatically dereferenced value is still a reference, it is dereferenced and this process repeats.</p>
<div class="rule" id="r-patterns.ident.binding.mode-limitations-binding"><a class="rule-link" href="#r-patterns.ident.binding.mode-limitations-binding" title="patterns.ident.binding.mode-limitations-binding"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mode-limitations-binding]</span></a>
</div>

<p>The binding pattern may only explicitly specify a <code>ref</code> or <code>ref mut</code> binding mode, or specify mutability with <code>mut</code>, when the default binding mode is “move”. For example, these are not accepted:</p>
<pre class="playground"><code class="language-rust edition2024 compile_fail"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let [mut x] = &amp;[()]; //~ ERROR
let [ref x] = &amp;[()]; //~ ERROR
let [ref mut x] = &amp;mut [()]; //~ ERROR
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.binding.mode-limitations.edition2024"><a class="rule-link" href="#r-patterns.ident.binding.mode-limitations.edition2024" title="patterns.ident.binding.mode-limitations.edition2024"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mode-limitations<wbr>.edition2024]</span></a>
</div>

<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>

<p>Before the 2024 edition, bindings could explicitly specify a <code>ref</code> or <code>ref mut</code> binding mode even when the default binding mode was not “move”, and they could specify mutability on such bindings with <code>mut</code>. In these editions, specifying <code>mut</code> on a binding set the binding mode to “move” regardless of the current default binding mode.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.ident.binding.mode-limitations-reference"><a class="rule-link" href="#r-patterns.ident.binding.mode-limitations-reference" title="patterns.ident.binding.mode-limitations-reference"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mode-limitations-reference]</span></a>
</div>

<p>Similarly, a reference pattern may only appear when the default binding mode is “move”. For example, this is not accepted:</p>
<pre class="playground"><code class="language-rust edition2024 compile_fail"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let [&amp;x] = &amp;[&amp;()]; //~ ERROR
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.binding.mode-limitations-reference.edition2024"><a class="rule-link" href="#r-patterns.ident.binding.mode-limitations-reference.edition2024" title="patterns.ident.binding.mode-limitations-reference.edition2024"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mode-limitations-reference<wbr>.edition2024]</span></a>
</div>

<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>

<p>Before the 2024 edition, reference patterns could appear even when the default binding mode was not “move”, and had both the effect of matching against the scrutinee and of causing the default binding mode to be reset to “move”.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.ident.binding.mixed"><a class="rule-link" href="#r-patterns.ident.binding.mixed" title="patterns.ident.binding.mixed"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mixed]</span></a>
</div>

<p>Move bindings and reference bindings can be mixed together in the same pattern.
Doing so will result in partial move of the object bound to and the object cannot be used afterwards.
This applies only if the type cannot be copied.</p>
<p>In the example below, <code>name</code> is moved out of <code>person</code>.
Trying to use <code>person</code> as a whole or <code>person.name</code> would result in an error because of <em>partial move</em>.</p>
<p>Example:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Person {
</span><span class="boring">   name: String,
</span><span class="boring">   age: u8,
</span><span class="boring">}
</span><span class="boring">let person = Person{ name: String::from("John"), age: 23 };
</span>// `name` is moved from person and `age` referenced
let Person { name, ref age } = person;
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.wildcard"><a class="rule-link" href="#r-patterns.wildcard" title="patterns.wildcard"><span>[patterns<wbr>.wildcard]</span></a>
</div>

<h2 id="wildcard-pattern"><a class="header" href="#wildcard-pattern">Wildcard pattern</a></h2>
<div class="rule" id="r-patterns.wildcard.syntax"><a class="rule-link" href="#r-patterns.wildcard.syntax" title="patterns.wildcard.syntax"><span>[patterns<wbr>.wildcard<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-WildcardPattern" onclick="show_railroad()"><a href="patterns.html#railroad-WildcardPattern">WildcardPattern</a></span> → <span class="grammar-literal">_</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 135px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-WildcardPattern"><svg class="railroad" viewbox="0 0 135 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-WildcardPattern">
<text class="comment" x="67" y="25">
WildcardPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="42" />
<text x="49" y="58">
_</text>
</g>
<path d=" M 73 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 63 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.wildcard.intro"><a class="rule-link" href="#r-patterns.wildcard.intro" title="patterns.wildcard.intro"><span>[patterns<wbr>.wildcard<wbr>.intro]</span></a>
</div>

<p>The <em>wildcard pattern</em> (an underscore symbol) matches any value.
It is used to ignore values when they don’t matter.</p>
<div class="rule" id="r-patterns.wildcard.struct-matcher"><a class="rule-link" href="#r-patterns.wildcard.struct-matcher" title="patterns.wildcard.struct-matcher"><span>[patterns<wbr>.wildcard<wbr>.struct-matcher]</span></a>
</div>

<p>Inside other patterns it matches a single data field (as opposed to the <code>..</code> which matches the remaining fields).</p>
<div class="rule" id="r-patterns.wildcard.no-binding"><a class="rule-link" href="#r-patterns.wildcard.no-binding" title="patterns.wildcard.no-binding"><span>[patterns<wbr>.wildcard<wbr>.no-binding]</span></a>
</div>

<p>Unlike identifier patterns, it does not copy, move or borrow the value it matches.</p>
<p>Examples:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">let x = 20;
</span>let (a, _) = (10, x);   // the x is always matched by _
<span class="boring">assert_eq!(a, 10);
</span>
// ignore a function/closure param
let real_part = |a: f64, _: f64| { a };

// ignore a field from a struct
<span class="boring">struct RGBA {
</span><span class="boring">   r: f32,
</span><span class="boring">   g: f32,
</span><span class="boring">   b: f32,
</span><span class="boring">   a: f32,
</span><span class="boring">}
</span><span class="boring">let color = RGBA{r: 0.4, g: 0.1, b: 0.9, a: 0.5};
</span>let RGBA{r: red, g: green, b: blue, a: _} = color;
<span class="boring">assert_eq!(color.r, red);
</span><span class="boring">assert_eq!(color.g, green);
</span><span class="boring">assert_eq!(color.b, blue);
</span>
// accept any Some, with any value
<span class="boring">let x = Some(10);
</span>if let Some(_) = x {}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.wildcard.refutable"><a class="rule-link" href="#r-patterns.wildcard.refutable" title="patterns.wildcard.refutable"><span>[patterns<wbr>.wildcard<wbr>.refutable]</span></a>
</div>

<p>The wildcard pattern is always irrefutable.</p>
<div class="rule" id="r-patterns.rest"><a class="rule-link" href="#r-patterns.rest" title="patterns.rest"><span>[patterns<wbr>.rest]</span></a>
</div>

<h2 id="rest-pattern"><a class="header" href="#rest-pattern">Rest pattern</a></h2>
<div class="rule" id="r-patterns.rest.syntax"><a class="rule-link" href="#r-patterns.rest.syntax" title="patterns.rest.syntax"><span>[patterns<wbr>.rest<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RestPattern" onclick="show_railroad()"><a href="patterns.html#railroad-RestPattern">RestPattern</a></span> → <span class="grammar-literal">..</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 107px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RestPattern"><svg class="railroad" viewbox="0 0 107 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RestPattern">
<text class="comment" x="53" y="25">
RestPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="42" />
<text x="53" y="58">
..</text>
</g>
<path d=" M 81 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 71 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.rest.intro"><a class="rule-link" href="#r-patterns.rest.intro" title="patterns.rest.intro"><span>[patterns<wbr>.rest<wbr>.intro]</span></a>
</div>

<p>The <em>rest pattern</em> (the <code>..</code> token) acts as a variable-length pattern which matches zero or more elements that haven’t been matched already before and after.</p>
<div class="rule" id="r-patterns.rest.allowed-patterns"><a class="rule-link" href="#r-patterns.rest.allowed-patterns" title="patterns.rest.allowed-patterns"><span>[patterns<wbr>.rest<wbr>.allowed-patterns]</span></a>
</div>

<p>It may only be used in <a href="#tuple-patterns">tuple</a>, <a href="#tuple-struct-patterns">tuple struct</a>, and <a href="#slice-patterns">slice</a> patterns, and may only appear once as one of the elements in those patterns.
It is also allowed in an <a href="#identifier-patterns">identifier pattern</a> for <a href="#slice-patterns">slice patterns</a> only.</p>
<div class="rule" id="r-patterns.rest.refutable"><a class="rule-link" href="#r-patterns.rest.refutable" title="patterns.rest.refutable"><span>[patterns<wbr>.rest<wbr>.refutable]</span></a>
</div>

<p>The rest pattern is always irrefutable.</p>
<p>Examples:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">let words = vec!["a", "b", "c"];
</span><span class="boring">let slice = &amp;words[..];
</span>match slice {
    [] =&gt; println!("slice is empty"),
    [one] =&gt; println!("single element {}", one),
    [head, tail @ ..] =&gt; println!("head={} tail={:?}", head, tail),
}

match slice {
    // Ignore everything but the last element, which must be "!".
    [.., "!"] =&gt; println!("!!!"),

    // `start` is a slice of everything except the last element, which must be "z".
    [start @ .., "z"] =&gt; println!("starts with: {:?}", start),

    // `end` is a slice of everything but the first element, which must be "a".
    ["a", end @ ..] =&gt; println!("ends with: {:?}", end),

    // 'whole' is the entire slice and `last` is the final element
    whole @ [.., last] =&gt; println!("the last element of {:?} is {}", whole, last),

    rest =&gt; println!("{:?}", rest),
}

if let [.., penultimate, _] = slice {
    println!("next to last is {}", penultimate);
}

<span class="boring">let tuple = (1, 2, 3, 4, 5);
</span>// The rest pattern may also be used in tuple and tuple
// struct patterns.
match tuple {
    (1, .., y, z) =&gt; println!("y={} z={}", y, z),
    (.., 5) =&gt; println!("tail must be 5"),
    (..) =&gt; println!("matches everything else"),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.range"><a class="rule-link" href="#r-patterns.range" title="patterns.range"><span>[patterns<wbr>.range]</span></a>
</div>

<h2 id="range-patterns"><a class="header" href="#range-patterns">Range patterns</a></h2>
<div class="rule" id="r-patterns.range.syntax"><a class="rule-link" href="#r-patterns.range.syntax" title="patterns.range.syntax"><span>[patterns<wbr>.range<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RangePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangePattern">RangePattern</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-RangeExclusivePattern">RangeExclusivePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangeInclusivePattern">RangeInclusivePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangeFromPattern">RangeFromPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangeToExclusivePattern">RangeToExclusivePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangeToInclusivePattern">RangeToInclusivePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-ObsoleteRangePattern">ObsoleteRangePattern</a></span>​<sup class="footnote-reference" id="fr-obsolete-range-edition-1"><a href="#footnote-obsolete-range-edition">1</a></sup></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeExclusivePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeExclusivePattern">RangeExclusivePattern</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span> <span class="grammar-literal">..</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeInclusivePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeInclusivePattern">RangeInclusivePattern</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span> <span class="grammar-literal">..=</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeFromPattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeFromPattern">RangeFromPattern</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span> <span class="grammar-literal">..</span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeToExclusivePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeToExclusivePattern">RangeToExclusivePattern</a></span> → <br>      <span class="grammar-literal">..</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeToInclusivePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeToInclusivePattern">RangeToInclusivePattern</a></span> → <br>      <span class="grammar-literal">..=</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-ObsoleteRangePattern" onclick="show_railroad()"><a href="patterns.html#railroad-ObsoleteRangePattern">ObsoleteRangePattern</a></span> → <br>    <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span> <span class="grammar-literal">...</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangePatternBound" onclick="show_railroad()"><a href="patterns.html#railroad-RangePatternBound">RangePatternBound</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-LiteralPattern">LiteralPattern</a></span> <br>    | <span class="grammar-text"><a href="expressions/path-expr.html#grammar-PathExpression">PathExpression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 330px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangePattern"><svg class="railroad" viewbox="0 0 330 239" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangePattern">
<text class="comment" x="57" y="25">
RangePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 196 0 h 40" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeExclusivePattern">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="42" />
<text x="157" y="58">
RangeExclusivePattern</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 236 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 236 0 v -33" />
<path d=" M 47 107 v 33 m 236 0 v -33" />
<path d=" M 47 140 v 33 m 236 0 v -33" />
<path d=" M 47 173 v 33 m 236 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 196 0 h 16 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeInclusivePattern">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="75" />
<text x="157" y="91">
RangeInclusivePattern</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 148 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeFromPattern">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="108" />
<text x="133" y="124">
RangeFromPattern</text>
</g>
</a>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 212 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeToExclusivePattern">
<g class="nonterminal">
<rect height="22" width="212" x="59" y="141" />
<text x="165" y="157">
RangeToExclusivePattern</text>
</g>
</a>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 212 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeToInclusivePattern">
<g class="nonterminal">
<rect height="22" width="212" x="59" y="174" />
<text x="165" y="190">
RangeToInclusivePattern</text>
</g>
</a>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 188 0 h 24 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="patterns.html#railroad-ObsoleteRangePattern">
<g class="nonterminal">
<rect height="22" width="188" x="59" y="207" />
<text x="153" y="223">
ObsoleteRangePattern</text>
</g>
</a>
</g>
<path d=" M 305 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 295 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 438px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeExclusivePattern"><svg class="railroad" viewbox="0 0 438 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeExclusivePattern">
<text class="comment" x="92" y="25">
RangeExclusivePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="35" y="42" />
<text x="113" y="58">
RangePatternBound</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="201" y="42" />
<text x="219" y="58">
..</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="247" y="42" />
<text x="325" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 191 53 h 10" />
<path d=" M 237 53 h 10" />
</g>
<path d=" M 413 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 403 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 446px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeInclusivePattern"><svg class="railroad" viewbox="0 0 446 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeInclusivePattern">
<text class="comment" x="92" y="25">
RangeInclusivePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="35" y="42" />
<text x="113" y="58">
RangePatternBound</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="201" y="42" />
<text x="223" y="58">
..=</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="255" y="42" />
<text x="333" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 191 53 h 10" />
<path d=" M 245 53 h 10" />
</g>
<path d=" M 421 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 411 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 272px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeFromPattern"><svg class="railroad" viewbox="0 0 272 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeFromPattern">
<text class="comment" x="71" y="25">
RangeFromPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="35" y="42" />
<text x="113" y="58">
RangePatternBound</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="201" y="42" />
<text x="219" y="58">
..</text>
</g>
<path d=" M 191 53 h 10" />
</g>
<path d=" M 247 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 237 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 272px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeToExclusivePattern"><svg class="railroad" viewbox="0 0 272 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeToExclusivePattern">
<text class="comment" x="99" y="25">
RangeToExclusivePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="42" />
<text x="53" y="58">
..</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="81" y="42" />
<text x="159" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 71 53 h 10" />
</g>
<path d=" M 247 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 237 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 280px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeToInclusivePattern"><svg class="railroad" viewbox="0 0 280 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeToInclusivePattern">
<text class="comment" x="99" y="25">
RangeToInclusivePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="42" />
<text x="57" y="58">
..=</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="89" y="42" />
<text x="167" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 79 53 h 10" />
</g>
<path d=" M 255 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 245 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 446px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ObsoleteRangePattern"><svg class="railroad" viewbox="0 0 446 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-ObsoleteRangePattern">
<text class="comment" x="88" y="25">
ObsoleteRangePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="35" y="42" />
<text x="113" y="58">
RangePatternBound</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="201" y="42" />
<text x="223" y="58">
...</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="255" y="42" />
<text x="333" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 191 53 h 10" />
<path d=" M 245 53 h 10" />
</g>
<path d=" M 421 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 411 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 250px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangePatternBound"><svg class="railroad" viewbox="0 0 250 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangePatternBound">
<text class="comment" x="74" y="25">
RangePatternBound</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 132 0 h 24" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-LiteralPattern">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="42" />
<text x="125" y="58">
LiteralPattern</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 156 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 132 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="expressions/path-expr.html#railroad-PathExpression">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="75" />
<text x="125" y="91">
PathExpression</text>
</g>
</a>
</g>
<path d=" M 225 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 215 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.range.intro"><a class="rule-link" href="#r-patterns.range.intro" title="patterns.range.intro"><span>[patterns<wbr>.range<wbr>.intro]</span></a>
</div>

<p><em>Range patterns</em> match scalar values within the range defined by their bounds.
They comprise a <em>sigil</em> (<code>..</code> or <code>..=</code>) and a bound on one or both sides.</p>
<p>A bound on the left of the sigil is called a <em>lower bound</em>.
A bound on the right is called an <em>upper bound</em>.</p>
<div class="rule" id="r-patterns.range.exclusive"><a class="rule-link" href="#r-patterns.range.exclusive" title="patterns.range.exclusive"><span>[patterns<wbr>.range<wbr>.exclusive]</span></a>
</div>

<p>The <em>exclusive range pattern</em> matches all values from the lower bound up to, but not including the upper bound.
It is written as its lower bound, followed by <code>..</code>, followed by the upper bound.</p>
<p>For example, a pattern <code>'m'..'p'</code> will match only <code>'m'</code>, <code>'n'</code> and <code>'o'</code>, specifically <strong>not</strong> including <code>'p'</code>.</p>
<div class="rule" id="r-patterns.range.inclusive"><a class="rule-link" href="#r-patterns.range.inclusive" title="patterns.range.inclusive"><span>[patterns<wbr>.range<wbr>.inclusive]</span></a>
</div>

<p>The <em>inclusive range pattern</em> matches all values from the lower bound up to and including the upper bound.
It is written as its lower bound, followed by <code>..=</code>, followed by the upper bound.</p>
<p>For example, a pattern <code>'m'..='p'</code> will match only the values <code>'m'</code>, <code>'n'</code>, <code>'o'</code>, and <code>'p'</code>.</p>
<div class="rule" id="r-patterns.range.from"><a class="rule-link" href="#r-patterns.range.from" title="patterns.range.from"><span>[patterns<wbr>.range<wbr>.from]</span></a>
</div>

<p>The <em>from range pattern</em> matches all values greater than or equal to the lower bound.
It is written as its lower bound followed by <code>..</code>.</p>
<p>For example, <code>1..</code> will match any integer greater than or equal to 1, such as 1, 9, or 9001, or 9007199254740991 (if it is of an appropriate size), but not 0, and not negative numbers for signed integers.</p>
<div class="rule" id="r-patterns.range.to-exclusive"><a class="rule-link" href="#r-patterns.range.to-exclusive" title="patterns.range.to-exclusive"><span>[patterns<wbr>.range<wbr>.to-exclusive]</span></a>
</div>

<p>The <em>to exclusive range pattern</em> matches all values less than the upper bound.
It is written as <code>..</code> followed by the upper bound.</p>
<p>For example, <code>..10</code> will match any integer less than 10, such as 9, 1, 0, and for signed integer types, all negative values.</p>
<div class="rule" id="r-patterns.range.to-inclusive"><a class="rule-link" href="#r-patterns.range.to-inclusive" title="patterns.range.to-inclusive"><span>[patterns<wbr>.range<wbr>.to-inclusive]</span></a>
</div>

<p>The <em>to inclusive range pattern</em> matches all values less than or equal to the upper bound.
It is written as <code>..=</code> followed by the upper bound.</p>
<p>For example, <code>..=10</code> will match any integer less than or equal to 10, such as 10, 1, 0, and for signed integer types, all negative values.</p>
<div class="rule" id="r-patterns.range.constraint-nonempty"><a class="rule-link" href="#r-patterns.range.constraint-nonempty" title="patterns.range.constraint-nonempty"><span>[patterns<wbr>.range<wbr>.constraint-nonempty]</span></a>
</div>

<p>A range pattern must be nonempty; it must span at least one value in the set of possible values for its type. In other words:</p>
<ul>
<li>In <code>a..=b</code>, a ≤ b must be the case. For example, it is an error to have a range pattern <code>10..=0</code>, but <code>10..=10</code> is allowed.</li>
<li>In <code>a..b</code>, a &lt; b must be the case. For example, it is an error to have a range pattern <code>10..0</code> or <code>10..10</code>.</li>
<li>In <code>..b</code>, b must not be the smallest value of its type. For example, it is an error to have a range pattern <code>..-128i8</code> or <code>..f64::NEG_INFINITY</code>.</li>
</ul>
<div class="rule" id="r-patterns.range.bound"><a class="rule-link" href="#r-patterns.range.bound" title="patterns.range.bound"><span>[patterns<wbr>.range<wbr>.bound]</span></a>
</div>

<p>A bound is written as one of:</p>
<ul>
<li>A character, byte, integer, or float literal.</li>
<li>A <code>-</code> followed by an integer or float literal.</li>
<li>A <a href="expressions/path-expr.html">path</a>.</li>
</ul>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>We syntactically accept more than this for a <em><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></em>. We later reject the other things semantically.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.range.constraint-bound-path"><a class="rule-link" href="#r-patterns.range.constraint-bound-path" title="patterns.range.constraint-bound-path"><span>[patterns<wbr>.range<wbr>.constraint-bound-path]</span></a>
</div>

<p>If a bound is written as a path, after macro resolution, the path must resolve to a constant item of the type <code>char</code>, an integer type, or a float type.</p>
<div class="rule" id="r-patterns.range.type"><a class="rule-link" href="#r-patterns.range.type" title="patterns.range.type"><span>[patterns<wbr>.range<wbr>.type]</span></a>
</div>

<p>The range pattern matches the type of its upper and lower bounds, which must be the same type.</p>
<div class="rule" id="r-patterns.range.path-value"><a class="rule-link" href="#r-patterns.range.path-value" title="patterns.range.path-value"><span>[patterns<wbr>.range<wbr>.path-value]</span></a>
</div>

<p>If a bound is a <a href="expressions/path-expr.html">path</a>, the bound matches the type and has the value of the <a href="items/constant-items.html">constant</a> the path resolves to.</p>
<div class="rule" id="r-patterns.range.literal-value"><a class="rule-link" href="#r-patterns.range.literal-value" title="patterns.range.literal-value"><span>[patterns<wbr>.range<wbr>.literal-value]</span></a>
</div>

<p>If a bound is a literal, the bound matches the type and has the value of the corresponding <a href="expressions/literal-expr.html">literal expression</a>.</p>
<div class="rule" id="r-patterns.range.negation"><a class="rule-link" href="#r-patterns.range.negation" title="patterns.range.negation"><span>[patterns<wbr>.range<wbr>.negation]</span></a>
</div>

<p>If a bound is a literal preceded by a <code>-</code>, the bound matches the same type as the corresponding <a href="expressions/literal-expr.html">literal expression</a> and has the value of <a href="expressions/operator-expr.html#negation-operators">negating</a> the value of the corresponding literal expression.</p>
<div class="rule" id="r-patterns.range.float-restriction"><a class="rule-link" href="#r-patterns.range.float-restriction" title="patterns.range.float-restriction"><span>[patterns<wbr>.range<wbr>.float-restriction]</span></a>
</div>

<p>For float range patterns, the constant may not be a <code>NaN</code>.</p>
<p>Examples:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">let c = 'f';
</span>let valid_variable = match c {
    'a'..='z' =&gt; true,
    'A'..='Z' =&gt; true,
    'α'..='ω' =&gt; true,
    _ =&gt; false,
};

<span class="boring">let ph = 10;
</span>println!("{}", match ph {
    0..7 =&gt; "acid",
    7 =&gt; "neutral",
    8..=14 =&gt; "base",
    _ =&gt; unreachable!(),
});

<span class="boring">let uint: u32 = 5;
</span>match uint {
    0 =&gt; "zero!",
    1.. =&gt; "positive number!",
};

// using paths to constants:
<span class="boring">const TROPOSPHERE_MIN : u8 = 6;
</span><span class="boring">const TROPOSPHERE_MAX : u8 = 20;
</span><span class="boring">
</span><span class="boring">const STRATOSPHERE_MIN : u8 = TROPOSPHERE_MAX + 1;
</span><span class="boring">const STRATOSPHERE_MAX : u8 = 50;
</span><span class="boring">
</span><span class="boring">const MESOSPHERE_MIN : u8 = STRATOSPHERE_MAX + 1;
</span><span class="boring">const MESOSPHERE_MAX : u8 = 85;
</span><span class="boring">
</span><span class="boring">let altitude = 70;
</span><span class="boring">
</span>println!("{}", match altitude {
    TROPOSPHERE_MIN..=TROPOSPHERE_MAX =&gt; "troposphere",
    STRATOSPHERE_MIN..=STRATOSPHERE_MAX =&gt; "stratosphere",
    MESOSPHERE_MIN..=MESOSPHERE_MAX =&gt; "mesosphere",
    _ =&gt; "outer space, maybe",
});

<span class="boring">pub mod binary {
</span><span class="boring">    pub const MEGA : u64 = 1024*1024;
</span><span class="boring">    pub const GIGA : u64 = 1024*1024*1024;
</span><span class="boring">}
</span><span class="boring">let n_items = 20_832_425;
</span><span class="boring">let bytes_per_item = 12;
</span>if let size @ binary::MEGA..=binary::GIGA = n_items * bytes_per_item {
    println!("It fits and occupies {} bytes", size);
}

<span class="boring">trait MaxValue {
</span><span class="boring">    const MAX: u64;
</span><span class="boring">}
</span><span class="boring">impl MaxValue for u8 {
</span><span class="boring">    const MAX: u64 = (1 &lt;&lt; 8) - 1;
</span><span class="boring">}
</span><span class="boring">impl MaxValue for u16 {
</span><span class="boring">    const MAX: u64 = (1 &lt;&lt; 16) - 1;
</span><span class="boring">}
</span><span class="boring">impl MaxValue for u32 {
</span><span class="boring">    const MAX: u64 = (1 &lt;&lt; 32) - 1;
</span><span class="boring">}
</span>// using qualified paths:
println!("{}", match 0xfacade {
    0 ..= &lt;u8 as MaxValue&gt;::MAX =&gt; "fits in a u8",
    0 ..= &lt;u16 as MaxValue&gt;::MAX =&gt; "fits in a u16",
    0 ..= &lt;u32 as MaxValue&gt;::MAX =&gt; "fits in a u32",
    _ =&gt; "too big",
});
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.range.refutable"><a class="rule-link" href="#r-patterns.range.refutable" title="patterns.range.refutable"><span>[patterns<wbr>.range<wbr>.refutable]</span></a>
</div>

<p>Range patterns for fix-width integer and <code>char</code> types are irrefutable when they span the entire set of possible values of a type.
For example, <code>0u8..=255u8</code> is irrefutable.</p>
<div class="rule" id="r-patterns.range.refutable-integer"><a class="rule-link" href="#r-patterns.range.refutable-integer" title="patterns.range.refutable-integer"><span>[patterns<wbr>.range<wbr>.refutable-integer]</span></a>
</div>

<p>The range of values for an integer type is the closed range from its minimum to maximum value.</p>
<div class="rule" id="r-patterns.range.refutable-char"><a class="rule-link" href="#r-patterns.range.refutable-char" title="patterns.range.refutable-char"><span>[patterns<wbr>.range<wbr>.refutable-char]</span></a>
</div>

<p>The range of values for a <code>char</code> type are precisely those ranges containing all Unicode Scalar Values: <code>'\u{0000}'..='\u{D7FF}'</code> and <code>'\u{E000}'..='\u{10FFFF}'</code>.</p>
<div class="rule" id="r-patterns.range.constraint-slice"><a class="rule-link" href="#r-patterns.range.constraint-slice" title="patterns.range.constraint-slice"><span>[patterns<wbr>.range<wbr>.constraint-slice]</span></a>
</div>

<p><a href="patterns.html#grammar-RangeFromPattern">RangeFromPattern</a> cannot be used as a top-level pattern for subpatterns in <a href="#slice-patterns">slice patterns</a>.
For example, the pattern <code>[1.., _]</code> is not a valid pattern.</p>
<div class="rule" id="r-patterns.range.edition2021"><a class="rule-link" href="#r-patterns.range.edition2021" title="patterns.range.edition2021"><span>[patterns<wbr>.range<wbr>.edition2021]</span></a>
</div>

<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2021</span> Edition differences</p>

<p>Before the 2021 edition, range patterns with both a lower and upper bound may also be written using <code>...</code> in place of <code>..=</code>, with the same meaning.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.ref"><a class="rule-link" href="#r-patterns.ref" title="patterns.ref"><span>[patterns<wbr>.ref]</span></a>
</div>

<h2 id="reference-patterns"><a class="header" href="#reference-patterns">Reference patterns</a></h2>
<div class="rule" id="r-patterns.ref.syntax"><a class="rule-link" href="#r-patterns.ref.syntax" title="patterns.ref.syntax"><span>[patterns<wbr>.ref<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-ReferencePattern" onclick="show_railroad()"><a href="patterns.html#railroad-ReferencePattern">ReferencePattern</a></span> → ( <span class="grammar-literal">&amp;</span> | <span class="grammar-literal">&amp;&amp;</span> ) <span class="grammar-literal">mut</span><sup>?</sup> <span class="grammar-text"><a href="patterns.html#grammar-PatternWithoutRange">PatternWithoutRange</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 438px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ReferencePattern"><svg class="railroad" viewbox="0 0 438 120" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-ReferencePattern">
<text class="comment" x="71" y="25">
ReferencePattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="choice">
<path d=" M 35 66 h 24 m 28 0 h 32" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55" />
<text x="73" y="71">
&amp;</text>
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 87 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="88" />
<text x="77" y="104">
&amp;&amp;</text>
</g>
</g>
<g class="optional">
<path d=" M 129 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="153" y="55" />
<text x="175" y="71">
mut</text>
</g>
</g>
<a class="link" xlink:href="patterns.html#railroad-PatternWithoutRange">
<g class="nonterminal">
<rect height="22" width="172" x="231" y="55" />
<text x="317" y="71">
PatternWithoutRange</text>
</g>
</a>
<path d=" M 119 66 h 10" />
<path d=" M 221 66 h 10" />
</g>
<path d=" M 413 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 403 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.ref.intro"><a class="rule-link" href="#r-patterns.ref.intro" title="patterns.ref.intro"><span>[patterns<wbr>.ref<wbr>.intro]</span></a>
</div>

<p>Reference patterns dereference the pointers that are being matched and, thus, borrow them.</p>
<p>For example, these two matches on <code>x: &amp;i32</code> are equivalent:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let int_reference = &amp;3;

let a = match *int_reference { 0 =&gt; "zero", _ =&gt; "some" };
let b = match int_reference { &amp;0 =&gt; "zero", _ =&gt; "some" };

assert_eq!(a, b);
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ref.ref-ref"><a class="rule-link" href="#r-patterns.ref.ref-ref" title="patterns.ref.ref-ref"><span>[patterns<wbr>.ref<wbr>.ref-ref]</span></a>
</div>

<p>The grammar production for reference patterns has to match the token <code>&amp;&amp;</code> to match a reference to a reference because it is a token by itself, not two <code>&amp;</code> tokens.</p>
<div class="rule" id="r-patterns.ref.mut"><a class="rule-link" href="#r-patterns.ref.mut" title="patterns.ref.mut"><span>[patterns<wbr>.ref<wbr>.mut]</span></a>
</div>

<p>Adding the <code>mut</code> keyword dereferences a mutable reference. The mutability must match the mutability of the reference.</p>
<div class="rule" id="r-patterns.ref.refutable"><a class="rule-link" href="#r-patterns.ref.refutable" title="patterns.ref.refutable"><span>[patterns<wbr>.ref<wbr>.refutable]</span></a>
</div>

<p>Reference patterns are always irrefutable.</p>
<div class="rule" id="r-patterns.struct"><a class="rule-link" href="#r-patterns.struct" title="patterns.struct"><span>[patterns<wbr>.struct]</span></a>
</div>

<h2 id="struct-patterns"><a class="header" href="#struct-patterns">Struct patterns</a></h2>
<div class="rule" id="r-patterns.struct.syntax"><a class="rule-link" href="#r-patterns.struct.syntax" title="patterns.struct.syntax"><span>[patterns<wbr>.struct<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-StructPattern" onclick="show_railroad()"><a href="patterns.html#railroad-StructPattern">StructPattern</a></span> → <br>    <span class="grammar-text"><a href="paths.html#grammar-PathInExpression">PathInExpression</a></span> <span class="grammar-literal">{</span> <br>        <span class="grammar-text"><a href="patterns.html#grammar-StructPatternElements">StructPatternElements</a></span><sup>?</sup> <br>    <span class="grammar-literal">}</span></p>
<p><span class="grammar-text grammar-production" id="grammar-StructPatternElements" onclick="show_railroad()"><a href="patterns.html#railroad-StructPatternElements">StructPatternElements</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-StructPatternFields">StructPatternFields</a></span> ( <span class="grammar-literal">,</span> | <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-StructPatternEtCetera">StructPatternEtCetera</a></span> )<sup>?</sup> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-StructPatternEtCetera">StructPatternEtCetera</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-StructPatternFields" onclick="show_railroad()"><a href="patterns.html#railroad-StructPatternFields">StructPatternFields</a></span> → <br>    <span class="grammar-text"><a href="patterns.html#grammar-StructPatternField">StructPatternField</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-StructPatternField">StructPatternField</a></span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-StructPatternField" onclick="show_railroad()"><a href="patterns.html#railroad-StructPatternField">StructPatternField</a></span> → <br>    <span class="grammar-text"><a href="attributes.html#grammar-OuterAttribute">OuterAttribute</a></span><sup>*</sup> <br>    ( <br>        <span class="grammar-text"><a href="tokens.html#grammar-TUPLE_INDEX">TUPLE_INDEX</a></span> <span class="grammar-literal">:</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> <br>      | <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> <span class="grammar-literal">:</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> <br>      | <span class="grammar-literal">ref</span><sup>?</sup> <span class="grammar-literal">mut</span><sup>?</sup> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> <br>    )</p>
<p><span class="grammar-text grammar-production" id="grammar-StructPatternEtCetera" onclick="show_railroad()"><a href="patterns.html#railroad-StructPatternEtCetera">StructPatternEtCetera</a></span> → <span class="grammar-literal">..</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 548px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPattern"><svg class="railroad" viewbox="0 0 548 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPattern">
<text class="comment" x="60" y="25">
StructPattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="paths.html#railroad-PathInExpression">
<g class="nonterminal">
<rect height="22" width="148" x="35" y="55" />
<text x="109" y="71">
PathInExpression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="193" y="55" />
<text x="207" y="71">
{</text>
</g>
<g class="optional">
<path d=" M 231 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 196 m -95 0 l -5 -5 m 0 10 l 5 -5 m 95 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="patterns.html#railroad-StructPatternElements">
<g class="nonterminal">
<rect height="22" width="196" x="255" y="55" />
<text x="353" y="71">
StructPatternElements</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="485" y="55" />
<text x="499" y="71">
}</text>
</g>
<path d=" M 183 66 h 10" />
<path d=" M 221 66 h 10" />
<path d=" M 475 66 h 10" />
</g>
<path d=" M 523 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 513 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 630px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPatternElements"><svg class="railroad" viewbox="0 0 630 153" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPatternElements">
<text class="comment" x="92" y="25">
StructPatternElements</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 66 h 24 m 512 0 h 24" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-StructPatternFields">
<g class="nonterminal">
<rect height="22" width="172" x="59" y="55" />
<text x="145" y="71">
StructPatternFields</text>
</g>
</a>
<g class="optional">
<path d=" M 241 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 282 m -138 0 l -5 -5 m 0 10 l 5 -5 m 138 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="choice">
<path d=" M 265 66 h 24 m 28 0 h 230 m -112 0 l -5 -5 m 0 10 l 5 -5 m 112 0" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="55" />
<text x="303" y="71">
,</text>
</g>
<path d=" M 265 66 a 12 12 0 0 1 12 12 v 9 m 258 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 277 87 v 0 a 12 12 0 0 0 12 12 m 234 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="88" />
<text x="303" y="104">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-StructPatternEtCetera">
<g class="nonterminal">
<rect height="22" width="196" x="327" y="88" />
<text x="425" y="104">
StructPatternEtCetera</text>
</g>
</a>
<path d=" M 317 99 h 10" />
</g>
</g>
</g>
<path d=" M 231 66 h 10" />
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 42 m 536 0 v -42 a 12 12 0 0 1 12 -12" />
<path d=" M 47 120 v 0 a 12 12 0 0 0 12 12 m 196 0 h 316 m -155 0 l -5 -5 m 0 10 l 5 -5 m 155 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="patterns.html#railroad-StructPatternEtCetera">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="121" />
<text x="157" y="137">
StructPatternEtCetera</text>
</g>
</a>
</g>
<path d=" M 605 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 595 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 518px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPatternFields"><svg class="railroad" viewbox="0 0 518 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPatternFields">
<text class="comment" x="81" y="25">
StructPatternFields</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-StructPatternField">
<g class="nonterminal">
<rect height="22" width="164" x="35" y="55" />
<text x="117" y="71">
StructPatternField</text>
</g>
</a>
<g class="optional">
<path d=" M 209 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 226 m -110 0 l -5 -5 m 0 10 l 5 -5 m 110 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 233 66 h 12 m 202 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -202 m 104 0 l 5 -5 m 0 10 l -5 -5 m -104 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="55" />
<text x="259" y="71">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-StructPatternField">
<g class="nonterminal">
<rect height="22" width="164" x="283" y="55" />
<text x="365" y="71">
StructPatternField</text>
</g>
</a>
<path d=" M 273 66 h 10" />
</g>
</g>
</g>
<path d=" M 199 66 h 10" />
</g>
<path d=" M 493 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 483 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 636px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPatternField"><svg class="railroad" viewbox="0 0 636 165" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPatternField">
<text class="comment" x="78" y="25">
StructPatternField</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 59 66 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<a class="link" xlink:href="attributes.html#railroad-OuterAttribute">
<g class="nonterminal">
<rect height="22" width="132" x="71" y="55" />
<text x="137" y="71">
OuterAttribute</text>
</g>
</a>
</g>
</g>
<g class="choice">
<path d=" M 249 66 h 24 m 232 0 h 96 m -45 0 l -5 -5 m 0 10 l 5 -5 m 45 0" />
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-TUPLE_INDEX">
<g class="nonterminal">
<rect height="22" width="108" x="273" y="55" />
<text x="327" y="71">
TUPLE_INDEX</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="391" y="55" />
<text x="405" y="71">
:</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="429" y="55" />
<text x="467" y="71">
Pattern</text>
</g>
</a>
<path d=" M 381 66 h 10" />
<path d=" M 419 66 h 10" />
</g>
<path d=" M 249 66 a 12 12 0 0 1 12 12 v 9 m 328 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 261 87 v 33 m 328 0 v -33" />
<path d=" M 261 87 v 0 a 12 12 0 0 0 12 12 m 224 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="273" y="88" />
<text x="323" y="104">
IDENTIFIER</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="383" y="88" />
<text x="397" y="104">
:</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="421" y="88" />
<text x="459" y="104">
Pattern</text>
</g>
</a>
<path d=" M 373 99 h 10" />
<path d=" M 411 99 h 10" />
</g>
<path d=" M 261 120 v 12 a 12 12 0 0 0 12 12 m 304 0 h 0 a 12 12 0 0 0 12 -12 v -12" />
<g class="sequence">
<g class="optional">
<path d=" M 273 144 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="297" y="133" />
<text x="319" y="149">
ref</text>
</g>
</g>
<g class="optional">
<path d=" M 375 144 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="399" y="133" />
<text x="421" y="149">
mut</text>
</g>
</g>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="477" y="133" />
<text x="527" y="149">
IDENTIFIER</text>
</g>
</a>
<path d=" M 365 144 h 10" />
<path d=" M 467 144 h 10" />
</g>
</g>
<path d=" M 239 66 h 10" />
</g>
<path d=" M 611 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 601 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 184px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPatternEtCetera"><svg class="railroad" viewbox="0 0 184 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPatternEtCetera">
<text class="comment" x="92" y="25">
StructPatternEtCetera</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="42" />
<text x="53" y="58">
..</text>
</g>
<path d=" M 81 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 71 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.struct.intro"><a class="rule-link" href="#r-patterns.struct.intro" title="patterns.struct.intro"><span>[patterns<wbr>.struct<wbr>.intro]</span></a>
</div>

<p>Struct patterns match struct, enum, and union values that match all criteria defined by its subpatterns.
They are also used to <a href="#destructuring">destructure</a> a struct, enum, or union value.</p>
<div class="rule" id="r-patterns.struct.ignore-rest"><a class="rule-link" href="#r-patterns.struct.ignore-rest" title="patterns.struct.ignore-rest"><span>[patterns<wbr>.struct<wbr>.ignore-rest]</span></a>
</div>

<p>On a struct pattern, the fields are referenced by name, index (in the case of tuple structs) or ignored by use of <code>..</code>:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Point {
</span><span class="boring">    x: u32,
</span><span class="boring">    y: u32,
</span><span class="boring">}
</span><span class="boring">let s = Point {x: 1, y: 1};
</span><span class="boring">
</span>match s {
    Point {x: 10, y: 20} =&gt; (),
    Point {y: 10, x: 20} =&gt; (),    // order doesn't matter
    Point {x: 10, ..} =&gt; (),
    Point {..} =&gt; (),
}

<span class="boring">struct PointTuple (
</span><span class="boring">    u32,
</span><span class="boring">    u32,
</span><span class="boring">);
</span><span class="boring">let t = PointTuple(1, 2);
</span><span class="boring">
</span>match t {
    PointTuple {0: 10, 1: 20} =&gt; (),
    PointTuple {1: 10, 0: 20} =&gt; (),   // order doesn't matter
    PointTuple {0: 10, ..} =&gt; (),
    PointTuple {..} =&gt; (),
}

<span class="boring">enum Message {
</span><span class="boring">    Quit,
</span><span class="boring">    Move { x: i32, y: i32 },
</span><span class="boring">}
</span><span class="boring">let m = Message::Quit;
</span><span class="boring">
</span>match m {
    Message::Quit =&gt; (),
    Message::Move {x: 10, y: 20} =&gt; (),
    Message::Move {..} =&gt; (),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.struct.constraint-struct"><a class="rule-link" href="#r-patterns.struct.constraint-struct" title="patterns.struct.constraint-struct"><span>[patterns<wbr>.struct<wbr>.constraint-struct]</span></a>
</div>

<p>If <code>..</code> is not used, a struct pattern used to match a struct is required to specify all fields:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Struct {
</span><span class="boring">   a: i32,
</span><span class="boring">   b: char,
</span><span class="boring">   c: bool,
</span><span class="boring">}
</span><span class="boring">let mut struct_value = Struct{a: 10, b: 'X', c: false};
</span><span class="boring">
</span>match struct_value {
    Struct{a: 10, b: 'X', c: false} =&gt; (),
    Struct{a: 10, b: 'X', ref c} =&gt; (),
    Struct{a: 10, b: 'X', ref mut c} =&gt; (),
    Struct{a: 10, b: 'X', c: _} =&gt; (),
    Struct{a: _, b: _, c: _} =&gt; (),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.struct.constraint-union"><a class="rule-link" href="#r-patterns.struct.constraint-union" title="patterns.struct.constraint-union"><span>[patterns<wbr>.struct<wbr>.constraint-union]</span></a>
</div>

<p>A struct pattern used to match a union must specify exactly one field (see <a href="items/unions.html#pattern-matching-on-unions">Pattern matching on unions</a>).</p>
<div class="rule" id="r-patterns.struct.binding-shorthand"><a class="rule-link" href="#r-patterns.struct.binding-shorthand" title="patterns.struct.binding-shorthand"><span>[patterns<wbr>.struct<wbr>.binding-shorthand]</span></a>
</div>

<p>The <a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a> syntax matches any value and binds it to a variable with the same name as the given field. It is a shorthand for <code>fieldname: fieldname</code>. The <code>ref</code> and <code>mut</code> qualifiers can be included with the behavior as described in <a href="patterns.html#r-patterns.ident.ref">patterns.ident.ref</a>.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Struct {
</span><span class="boring">   a: i32,
</span><span class="boring">   b: char,
</span><span class="boring">   c: bool,
</span><span class="boring">}
</span><span class="boring">let struct_value = Struct{a: 10, b: 'X', c: false};
</span><span class="boring">
</span>let Struct { a, b, c } = struct_value;
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.struct.refutable"><a class="rule-link" href="#r-patterns.struct.refutable" title="patterns.struct.refutable"><span>[patterns<wbr>.struct<wbr>.refutable]</span></a>
</div>

<p>A struct pattern is refutable if the <a href="paths.html#grammar-PathInExpression">PathInExpression</a> resolves to a constructor of an enum with more than one variant, or one of its subpatterns is refutable.</p>
<div class="rule" id="r-patterns.struct.namespace"><a class="rule-link" href="#r-patterns.struct.namespace" title="patterns.struct.namespace"><span>[patterns<wbr>.struct<wbr>.namespace]</span></a>
</div>

<p>A struct pattern matches against the struct, union, or enum variant whose constructor is resolved from <a href="paths.html#grammar-PathInExpression">PathInExpression</a> in the <a href="names/namespaces.html#r-names.namespaces.kinds">type namespace</a>. See <a href="patterns.html#r-patterns.tuple-struct.namespace">patterns.tuple-struct.namespace</a> for more details.</p>
<div class="rule" id="r-patterns.tuple-struct"><a class="rule-link" href="#r-patterns.tuple-struct" title="patterns.tuple-struct"><span>[patterns<wbr>.tuple-struct]</span></a>
</div>

<h2 id="tuple-struct-patterns"><a class="header" href="#tuple-struct-patterns">Tuple struct patterns</a></h2>
<div class="rule" id="r-patterns.tuple-struct.syntax"><a class="rule-link" href="#r-patterns.tuple-struct.syntax" title="patterns.tuple-struct.syntax"><span>[patterns<wbr>.tuple-struct<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-TupleStructPattern" onclick="show_railroad()"><a href="patterns.html#railroad-TupleStructPattern">TupleStructPattern</a></span> → <span class="grammar-text"><a href="paths.html#grammar-PathInExpression">PathInExpression</a></span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="patterns.html#grammar-TupleStructItems">TupleStructItems</a></span><sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-TupleStructItems" onclick="show_railroad()"><a href="patterns.html#railroad-TupleStructItems">TupleStructItems</a></span> → <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 500px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TupleStructPattern"><svg class="railroad" viewbox="0 0 500 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-TupleStructPattern">
<text class="comment" x="78" y="25">
TupleStructPattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="paths.html#railroad-PathInExpression">
<g class="nonterminal">
<rect height="22" width="148" x="35" y="55" />
<text x="109" y="71">
PathInExpression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="193" y="55" />
<text x="207" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 231 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 148 m -71 0 l -5 -5 m 0 10 l 5 -5 m 71 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="patterns.html#railroad-TupleStructItems">
<g class="nonterminal">
<rect height="22" width="148" x="255" y="55" />
<text x="329" y="71">
TupleStructItems</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="437" y="55" />
<text x="451" y="71">
)</text>
</g>
<path d=" M 183 66 h 10" />
<path d=" M 221 66 h 10" />
<path d=" M 427 66 h 10" />
</g>
<path d=" M 475 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 465 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 428px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TupleStructItems"><svg class="railroad" viewbox="0 0 428 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-TupleStructItems">
<text class="comment" x="71" y="25">
TupleStructItems</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="35" y="55" />
<text x="73" y="71">
Pattern</text>
</g>
</a>
<g class="optional">
<path d=" M 121 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 138 m -66 0 l -5 -5 m 0 10 l 5 -5 m 66 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 145 66 h 12 m 114 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -114 m 60 0 l 5 -5 m 0 10 l -5 -5 m -60 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="157" y="55" />
<text x="171" y="71">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="195" y="55" />
<text x="233" y="71">
Pattern</text>
</g>
</a>
<path d=" M 185 66 h 10" />
</g>
</g>
</g>
<g class="optional">
<path d=" M 317 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="341" y="55" />
<text x="355" y="71">
,</text>
</g>
</g>
<path d=" M 111 66 h 10" />
<path d=" M 307 66 h 10" />
</g>
<path d=" M 403 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 393 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.tuple-struct.intro"><a class="rule-link" href="#r-patterns.tuple-struct.intro" title="patterns.tuple-struct.intro"><span>[patterns<wbr>.tuple-struct<wbr>.intro]</span></a>
</div>

<p>Tuple struct patterns match tuple struct and enum values that match all criteria defined by its subpatterns.
They are also used to <a href="#destructuring">destructure</a> a tuple struct or enum value.</p>
<div class="rule" id="r-patterns.tuple-struct.refutable"><a class="rule-link" href="#r-patterns.tuple-struct.refutable" title="patterns.tuple-struct.refutable"><span>[patterns<wbr>.tuple-struct<wbr>.refutable]</span></a>
</div>

<p>A tuple struct pattern is refutable if the <a href="paths.html#grammar-PathInExpression">PathInExpression</a> resolves to a constructor of an enum with more than one variant, or one of its subpatterns is refutable.</p>
<div class="rule" id="r-patterns.tuple-struct.namespace"><a class="rule-link" href="#r-patterns.tuple-struct.namespace" title="patterns.tuple-struct.namespace"><span>[patterns<wbr>.tuple-struct<wbr>.namespace]</span></a>
</div>

<p>A tuple struct pattern matches against the tuple struct or <a href="items/enumerations.html#r-items.enum.tuple-expr">tuple-like enum variant</a> whose constructor is resolved from <a href="paths.html#grammar-PathInExpression">PathInExpression</a> in the <a href="names/namespaces.html#r-names.namespaces.kinds">value namespace</a>.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>Conversely, a struct pattern for a tuple struct or <a href="items/enumerations.html#r-items.enum.tuple-expr">tuple-like enum variant</a>, e.g. <code>S { 0: _ }</code>, matches against the tuple struct or variant whose constructor is resolved in the <a href="names/namespaces.html#r-names.namespaces.kinds">type namespace</a>.</p>
<pre class="playground"><code class="language-rust no_run edition2024">enum E1 { V(u16) }
enum E2 { V(u32) }

// Import `E1::V` from the type namespace only.
mod _0 {
    const V: () = (); // For namespace masking.
    pub(super) use super::E1::*;
}
use _0::*;

// Import `E2::V` from the value namespace only.
mod _1 {
    struct V {} // For namespace masking.
    pub(super) use super::E2::*;
}
use _1::*;

fn f() {
    // This struct pattern matches against the tuple-like
    // enum variant whose constructor was found in the type
    // namespace.
    let V { 0: ..=u16::MAX } = (loop {}) else { loop {} };
    // This tuple struct pattern matches against the tuple-like
    // enum variant whose constructor was found in the value
    // namespace.
    let V(..=u32::MAX) = (loop {}) else { loop {} };
}
<span class="boring">// Required due to the odd behavior of `super` within functions.
</span><span class="boring">fn main() {}</span></code></pre>
<p>The Lang team has made certain decisions, such as in <a href="https://github.com/rust-lang/rust/pull/138458">PR #138458</a>, that raise questions about the desirability of using the value namespace in this way for patterns, as described in <a href="https://github.com/rust-lang/rust/pull/140593#issuecomment-2972338457">PR #140593</a>. It might be prudent to not intentionally rely on this nuance in your code.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.tuple"><a class="rule-link" href="#r-patterns.tuple" title="patterns.tuple"><span>[patterns<wbr>.tuple]</span></a>
</div>

<h2 id="tuple-patterns"><a class="header" href="#tuple-patterns">Tuple patterns</a></h2>
<div class="rule" id="r-patterns.tuple.syntax"><a class="rule-link" href="#r-patterns.tuple.syntax" title="patterns.tuple.syntax"><span>[patterns<wbr>.tuple<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-TuplePattern" onclick="show_railroad()"><a href="patterns.html#railroad-TuplePattern">TuplePattern</a></span> → <span class="grammar-literal">(</span> <span class="grammar-text"><a href="patterns.html#grammar-TuplePatternItems">TuplePatternItems</a></span><sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-TuplePatternItems" onclick="show_railroad()"><a href="patterns.html#railroad-TuplePatternItems">TuplePatternItems</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> <span class="grammar-literal">,</span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RestPattern">RestPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> )<sup>+</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 350px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TuplePattern"><svg class="railroad" viewbox="0 0 350 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-TuplePattern">
<text class="comment" x="57" y="25">
TuplePattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="55" />
<text x="49" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 73 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="patterns.html#railroad-TuplePatternItems">
<g class="nonterminal">
<rect height="22" width="156" x="97" y="55" />
<text x="175" y="71">
TuplePatternItems</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="287" y="55" />
<text x="301" y="71">
)</text>
</g>
<path d=" M 63 66 h 10" />
<path d=" M 277 66 h 10" />
</g>
<path d=" M 325 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 315 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 428px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TuplePatternItems"><svg class="railroad" viewbox="0 0 428 165" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-TuplePatternItems">
<text class="comment" x="74" y="25">
TuplePatternItems</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 114 0 h 220 m -107 0 l -5 -5 m 0 10 l 5 -5 m 107 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="59" y="42" />
<text x="97" y="58">
Pattern</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="145" y="42" />
<text x="159" y="58">
,</text>
</g>
<path d=" M 135 53 h 10" />
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 334 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 334 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 108 0 h 202 m -98 0 l -5 -5 m 0 10 l 5 -5 m 98 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RestPattern">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="75" />
<text x="113" y="91">
RestPattern</text>
</g>
</a>
</g>
<path d=" M 47 107 v 12 a 12 12 0 0 0 12 12 m 310 0 h 0 a 12 12 0 0 0 12 -12 v -12" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="59" y="120" />
<text x="97" y="136">
Pattern</text>
</g>
</a>
<g class="repeat">
<path d=" M 145 131 h 12 m 114 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -114 m 60 0 l 5 -5 m 0 10 l -5 -5 m -60 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="157" y="120" />
<text x="171" y="136">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="195" y="120" />
<text x="233" y="136">
Pattern</text>
</g>
</a>
<path d=" M 185 131 h 10" />
</g>
</g>
<g class="optional">
<path d=" M 293 131 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="317" y="120" />
<text x="331" y="136">
,</text>
</g>
</g>
<path d=" M 135 131 h 10" />
<path d=" M 283 131 h 10" />
</g>
</g>
<path d=" M 403 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 393 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.tuple.intro"><a class="rule-link" href="#r-patterns.tuple.intro" title="patterns.tuple.intro"><span>[patterns<wbr>.tuple<wbr>.intro]</span></a>
</div>

<p>Tuple patterns match tuple values that match all criteria defined by its subpatterns.
They are also used to <a href="#destructuring">destructure</a> a tuple.</p>
<div class="rule" id="r-patterns.tuple.rest-syntax"><a class="rule-link" href="#r-patterns.tuple.rest-syntax" title="patterns.tuple.rest-syntax"><span>[patterns<wbr>.tuple<wbr>.rest-syntax]</span></a>
</div>

<p>The form <code>(..)</code> with a single <a href="patterns.html#grammar-RestPattern">RestPattern</a> is a special form that does not require a comma, and matches a tuple of any size.</p>
<div class="rule" id="r-patterns.tuple.refutable"><a class="rule-link" href="#r-patterns.tuple.refutable" title="patterns.tuple.refutable"><span>[patterns<wbr>.tuple<wbr>.refutable]</span></a>
</div>

<p>The tuple pattern is refutable when one of its subpatterns is refutable.</p>
<p>An example of using tuple patterns:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let pair = (10, "ten");
let (a, b) = pair;

assert_eq!(a, 10);
assert_eq!(b, "ten");
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.paren"><a class="rule-link" href="#r-patterns.paren" title="patterns.paren"><span>[patterns<wbr>.paren]</span></a>
</div>

<h2 id="grouped-patterns"><a class="header" href="#grouped-patterns">Grouped patterns</a></h2>
<div class="rule" id="r-patterns.paren.syntax"><a class="rule-link" href="#r-patterns.paren.syntax" title="patterns.paren.syntax"><span>[patterns<wbr>.paren<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-GroupedPattern" onclick="show_railroad()"><a href="patterns.html#railroad-GroupedPattern">GroupedPattern</a></span> → <span class="grammar-literal">(</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> <span class="grammar-literal">)</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 222px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-GroupedPattern"><svg class="railroad" viewbox="0 0 222 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-GroupedPattern">
<text class="comment" x="64" y="25">
GroupedPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="42" />
<text x="49" y="58">
(</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="73" y="42" />
<text x="111" y="58">
Pattern</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="159" y="42" />
<text x="173" y="58">
)</text>
</g>
<path d=" M 63 53 h 10" />
<path d=" M 149 53 h 10" />
</g>
<path d=" M 197 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 187 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.paren.intro"><a class="rule-link" href="#r-patterns.paren.intro" title="patterns.paren.intro"><span>[patterns<wbr>.paren<wbr>.intro]</span></a>
</div>

<p>Enclosing a pattern in parentheses can be used to explicitly control the precedence of compound patterns.
For example, a reference pattern next to a range pattern such as <code>&amp;0..=5</code> is ambiguous and is not allowed, but can be expressed with parentheses.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let int_reference = &amp;3;
match int_reference {
    &amp;(0..=5) =&gt; (),
    _ =&gt; (),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.slice"><a class="rule-link" href="#r-patterns.slice" title="patterns.slice"><span>[patterns<wbr>.slice]</span></a>
</div>

<h2 id="slice-patterns"><a class="header" href="#slice-patterns">Slice patterns</a></h2>
<div class="rule" id="r-patterns.slice.syntax"><a class="rule-link" href="#r-patterns.slice.syntax" title="patterns.slice.syntax"><span>[patterns<wbr>.slice<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-SlicePattern" onclick="show_railroad()"><a href="patterns.html#railroad-SlicePattern">SlicePattern</a></span> → <span class="grammar-literal">[</span> <span class="grammar-text"><a href="patterns.html#grammar-SlicePatternItems">SlicePatternItems</a></span><sup>?</sup> <span class="grammar-literal">]</span></p>
<p><span class="grammar-text grammar-production" id="grammar-SlicePatternItems" onclick="show_railroad()"><a href="patterns.html#railroad-SlicePatternItems">SlicePatternItems</a></span> → <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 350px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-SlicePattern"><svg class="railroad" viewbox="0 0 350 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-SlicePattern">
<text class="comment" x="57" y="25">
SlicePattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="55" />
<text x="49" y="71">
[</text>
</g>
<g class="optional">
<path d=" M 73 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="patterns.html#railroad-SlicePatternItems">
<g class="nonterminal">
<rect height="22" width="156" x="97" y="55" />
<text x="175" y="71">
SlicePatternItems</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="287" y="55" />
<text x="301" y="71">
]</text>
</g>
<path d=" M 63 66 h 10" />
<path d=" M 277 66 h 10" />
</g>
<path d=" M 325 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 315 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 428px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-SlicePatternItems"><svg class="railroad" viewbox="0 0 428 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-SlicePatternItems">
<text class="comment" x="74" y="25">
SlicePatternItems</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="35" y="55" />
<text x="73" y="71">
Pattern</text>
</g>
</a>
<g class="optional">
<path d=" M 121 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 138 m -66 0 l -5 -5 m 0 10 l 5 -5 m 66 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 145 66 h 12 m 114 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -114 m 60 0 l 5 -5 m 0 10 l -5 -5 m -60 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="157" y="55" />
<text x="171" y="71">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="195" y="55" />
<text x="233" y="71">
Pattern</text>
</g>
</a>
<path d=" M 185 66 h 10" />
</g>
</g>
</g>
<g class="optional">
<path d=" M 317 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="341" y="55" />
<text x="355" y="71">
,</text>
</g>
</g>
<path d=" M 111 66 h 10" />
<path d=" M 307 66 h 10" />
</g>
<path d=" M 403 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 393 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.slice.intro"><a class="rule-link" href="#r-patterns.slice.intro" title="patterns.slice.intro"><span>[patterns<wbr>.slice<wbr>.intro]</span></a>
</div>

<p>Slice patterns can match both arrays of fixed size and slices of dynamic size.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Fixed size
let arr = [1, 2, 3];
match arr {
    [1, _, _] =&gt; "starts with one",
    [a, b, c] =&gt; "starts with something else",
};
<span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Dynamic size
let v = vec![1, 2, 3];
match v[..] {
    [a, b] =&gt; { /* this arm will not apply because the length doesn't match */ }
    [a, b, c] =&gt; { /* this arm will apply */ }
    _ =&gt; { /* this wildcard is required, since the length is not known statically */ }
};
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.slice.refutable-array"><a class="rule-link" href="#r-patterns.slice.refutable-array" title="patterns.slice.refutable-array"><span>[patterns<wbr>.slice<wbr>.refutable-array]</span></a>
</div>

<p>Slice patterns are irrefutable when matching an array as long as each element is irrefutable.</p>
<div class="rule" id="r-patterns.slice.refutable-slice"><a class="rule-link" href="#r-patterns.slice.refutable-slice" title="patterns.slice.refutable-slice"><span>[patterns<wbr>.slice<wbr>.refutable-slice]</span></a>
</div>

<p>When matching a slice, it is irrefutable only in the form with a single <code>..</code> <a href="patterns.html#r-patterns.rest">rest pattern</a> or <a href="#identifier-patterns">identifier pattern</a> with the <code>..</code> rest pattern as a subpattern.</p>
<div class="rule" id="r-patterns.slice.restriction"><a class="rule-link" href="#r-patterns.slice.restriction" title="patterns.slice.restriction"><span>[patterns<wbr>.slice<wbr>.restriction]</span></a>
</div>

<p>Within a slice, a range pattern without both lower and upper bound must be enclosed in parentheses, as in <code>(a..)</code>, to clarify it is intended to match against a single slice element.
A range pattern with both lower and upper bound, like <code>a..=b</code>, is not required to be enclosed in parentheses.</p>
<div class="rule" id="r-patterns.path"><a class="rule-link" href="#r-patterns.path" title="patterns.path"><span>[patterns<wbr>.path]</span></a>
</div>

<h2 id="path-patterns"><a class="header" href="#path-patterns">Path patterns</a></h2>
<div class="rule" id="r-patterns.path.syntax"><a class="rule-link" href="#r-patterns.path.syntax" title="patterns.path.syntax"><span>[patterns<wbr>.path<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-PathPattern" onclick="show_railroad()"><a href="patterns.html#railroad-PathPattern">PathPattern</a></span> → <span class="grammar-text"><a href="expressions/path-expr.html#grammar-PathExpression">PathExpression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 202px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-PathPattern"><svg class="railroad" viewbox="0 0 202 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-PathPattern">
<text class="comment" x="53" y="25">
PathPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<a class="link" xlink:href="expressions/path-expr.html#railroad-PathExpression">
<g class="nonterminal">
<rect height="22" width="132" x="35" y="42" />
<text x="101" y="58">
PathExpression</text>
</g>
</a>
<path d=" M 177 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 167 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.path.intro"><a class="rule-link" href="#r-patterns.path.intro" title="patterns.path.intro"><span>[patterns<wbr>.path<wbr>.intro]</span></a>
</div>

<p><em>Path patterns</em> are patterns that refer either to constant values or
to structs or enum variants that have no fields.</p>
<div class="rule" id="r-patterns.path.unqualified"><a class="rule-link" href="#r-patterns.path.unqualified" title="patterns.path.unqualified"><span>[patterns<wbr>.path<wbr>.unqualified]</span></a>
</div>

<p>Unqualified path patterns can refer to:</p>
<ul>
<li>enum variants</li>
<li>structs</li>
<li>constants</li>
<li>associated constants</li>
</ul>
<div class="rule" id="r-patterns.path.qualified"><a class="rule-link" href="#r-patterns.path.qualified" title="patterns.path.qualified"><span>[patterns<wbr>.path<wbr>.qualified]</span></a>
</div>

<p>Qualified path patterns can only refer to associated constants.</p>
<div class="rule" id="r-patterns.path.refutable"><a class="rule-link" href="#r-patterns.path.refutable" title="patterns.path.refutable"><span>[patterns<wbr>.path<wbr>.refutable]</span></a>
</div>

<p>Path patterns are irrefutable when they refer to structs or an enum variant when the enum has only one variant or a constant whose type is irrefutable.
They are refutable when they refer to refutable constants or enum variants for enums with multiple variants.</p>
<div class="rule" id="r-patterns.const"><a class="rule-link" href="#r-patterns.const" title="patterns.const"><span>[patterns<wbr>.const]</span></a>
</div>

<h3 id="constant-patterns"><a class="header" href="#constant-patterns">Constant patterns</a></h3>
<div class="rule" id="r-patterns.const.partial-eq"><a class="rule-link" href="#r-patterns.const.partial-eq" title="patterns.const.partial-eq"><span>[patterns<wbr>.const<wbr>.partial-eq]</span></a>
</div>

<p>When a constant <code>C</code> of type <code>T</code> is used as a pattern, we first check that <code>T: PartialEq</code>.</p>
<div class="rule" id="r-patterns.const.structural-equality"><a class="rule-link" href="#r-patterns.const.structural-equality" title="patterns.const.structural-equality"><span>[patterns<wbr>.const<wbr>.structural-equality]</span></a>
</div>

<p>Furthermore we require that the value of <code>C</code> <em>has (recursive) structural equality</em>, which is defined recursively as follows:</p>
<div class="rule" id="r-patterns.const.primitive"><a class="rule-link" href="#r-patterns.const.primitive" title="patterns.const.primitive"><span>[patterns<wbr>.const<wbr>.primitive]</span></a>
</div>

<ul>
<li>Integers as well as <code>str</code>, <code>bool</code> and <code>char</code> values always have structural equality.</li>
</ul>
<div class="rule" id="r-patterns.const.builtin-aggregate"><a class="rule-link" href="#r-patterns.const.builtin-aggregate" title="patterns.const.builtin-aggregate"><span>[patterns<wbr>.const<wbr>.builtin-aggregate]</span></a>
</div>

<ul>
<li>Tuples, arrays, and slices have structural equality if all their fields/elements have structural equality.
(In particular, <code>()</code> and <code>[]</code> always have structural equality.)</li>
</ul>
<div class="rule" id="r-patterns.const.ref"><a class="rule-link" href="#r-patterns.const.ref" title="patterns.const.ref"><span>[patterns<wbr>.const<wbr>.ref]</span></a>
</div>

<ul>
<li>References have structural equality if the value they point to has structural equality.</li>
</ul>
<div class="rule" id="r-patterns.const.aggregate"><a class="rule-link" href="#r-patterns.const.aggregate" title="patterns.const.aggregate"><span>[patterns<wbr>.const<wbr>.aggregate]</span></a>
</div>

<ul>
<li>A value of <code>struct</code> or <code>enum</code> type has structural equality if its <code>PartialEq</code> instance is derived via <code>#[derive(PartialEq)]</code>,
and all fields (for enums: of the active variant) have structural equality.</li>
</ul>
<div class="rule" id="r-patterns.const.pointer"><a class="rule-link" href="#r-patterns.const.pointer" title="patterns.const.pointer"><span>[patterns<wbr>.const<wbr>.pointer]</span></a>
</div>

<ul>
<li>A raw pointer has structural equality if it was defined as a constant integer (and then cast/transmuted).</li>
</ul>
<div class="rule" id="r-patterns.const.float"><a class="rule-link" href="#r-patterns.const.float" title="patterns.const.float"><span>[patterns<wbr>.const<wbr>.float]</span></a>
</div>

<ul>
<li>A float value has structural equality if it is not a <code>NaN</code>.</li>
</ul>
<div class="rule" id="r-patterns.const.exhaustive"><a class="rule-link" href="#r-patterns.const.exhaustive" title="patterns.const.exhaustive"><span>[patterns<wbr>.const<wbr>.exhaustive]</span></a>
</div>

<ul>
<li>Nothing else has structural equality.</li>
</ul>
<div class="rule" id="r-patterns.const.generic"><a class="rule-link" href="#r-patterns.const.generic" title="patterns.const.generic"><span>[patterns<wbr>.const<wbr>.generic]</span></a>
</div>

<p>In particular, the value of <code>C</code> must be known at pattern-building time (which is pre-monomorphization).
This means that associated consts that involve generic parameters cannot be used as patterns.</p>
<div class="rule" id="r-patterns.const.immutable"><a class="rule-link" href="#r-patterns.const.immutable" title="patterns.const.immutable"><span>[patterns<wbr>.const<wbr>.immutable]</span></a>
</div>

<p>The value of <code>C</code> must not contain any references to mutable statics (<code>static mut</code> items or interior mutable <code>static</code> items) or <code>extern</code> statics.</p>
<div class="rule" id="r-patterns.const.translation"><a class="rule-link" href="#r-patterns.const.translation" title="patterns.const.translation"><span>[patterns<wbr>.const<wbr>.translation]</span></a>
</div>

<p>After ensuring all conditions are met, the constant value is translated into a pattern, and now behaves exactly as-if that pattern had been written directly.
In particular, it fully participates in exhaustiveness checking.
(For raw pointers, constants are the only way to write such patterns. Only <code>_</code> is ever considered exhaustive for these types.)</p>
<div class="rule" id="r-patterns.or"><a class="rule-link" href="#r-patterns.or" title="patterns.or"><span>[patterns<wbr>.or]</span></a>
</div>

<h2 id="or-patterns"><a class="header" href="#or-patterns">Or-patterns</a></h2>
<p><em>Or-patterns</em> are patterns that match on one of two or more sub-patterns (for example <code>A | B | C</code>).
They can nest arbitrarily.
Syntactically, or-patterns are allowed in any of the places where other patterns are allowed (represented by the <a href="patterns.html#grammar-Pattern">Pattern</a> production), with the exceptions of <code>let</code>-bindings and function and closure parameters (represented by the <a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a> production).</p>
<div class="rule" id="r-patterns.constraints"><a class="rule-link" href="#r-patterns.constraints" title="patterns.constraints"><span>[patterns<wbr>.constraints]</span></a>
</div>

<h3 id="static-semantics"><a class="header" href="#static-semantics">Static semantics</a></h3>
<div class="rule" id="r-patterns.constraints.pattern"><a class="rule-link" href="#r-patterns.constraints.pattern" title="patterns.constraints.pattern"><span>[patterns<wbr>.constraints<wbr>.pattern]</span></a>
</div>

<ol>
<li>
<p>Given a pattern <code>p | q</code> at some depth for some arbitrary patterns <code>p</code> and <code>q</code>, the pattern is considered ill-formed if:</p>
<ul>
<li>the type inferred for <code>p</code> does not unify with the type inferred for <code>q</code>, or</li>
<li>the same set of bindings are not introduced in <code>p</code> and <code>q</code>, or</li>
<li>the type of any two bindings with the same name in <code>p</code> and <code>q</code> do not unify with respect to types or binding modes.</li>
</ul>
<p>Unification of types is in all instances aforementioned exact and implicit <a href="type-coercions.html">type coercions</a> do not apply.</p>
</li>
</ol>
<div class="rule" id="r-patterns.constraints.match-type-check"><a class="rule-link" href="#r-patterns.constraints.match-type-check" title="patterns.constraints.match-type-check"><span>[patterns<wbr>.constraints<wbr>.match-type-check]</span></a>
</div>

<ol start="2">
<li>When type checking an expression <code>match e_s { a_1 =&gt; e_1, ... a_n =&gt; e_n }</code>,
for each match arm <code>a_i</code> which contains a pattern of form <code>p_i | q_i</code>,
the pattern <code>p_i | q_i</code> is considered ill formed if,
at the depth <code>d</code> where it exists the fragment of <code>e_s</code> at depth <code>d</code>,
the type of the expression fragment does not unify with <code>p_i | q_i</code>.</li>
</ol>
<div class="rule" id="r-patterns.constraints.exhaustiveness-or-pattern"><a class="rule-link" href="#r-patterns.constraints.exhaustiveness-or-pattern" title="patterns.constraints.exhaustiveness-or-pattern"><span>[patterns<wbr>.constraints<wbr>.exhaustiveness-or-pattern]</span></a>
</div>

<ol start="3">
<li>
<p>With respect to exhaustiveness checking, a pattern <code>p | q</code> is considered to cover <code>p</code> as well as <code>q</code>.
For some constructor <code>c(x, ..)</code> the distributive law applies such that <code>c(p | q, ..rest)</code> covers the same set of value as <code>c(p, ..rest) | c(q, ..rest)</code> does.
This can be applied recursively until there are no more nested patterns of form <code>p | q</code> other than those that exist at the top level.</p>
<p>Note that by <em>“constructor”</em> we do not refer to tuple struct patterns, but rather we refer to a pattern for any product type.
This includes enum variants, tuple structs, structs with named fields, arrays, tuples, and slices.</p>
</li>
</ol>
<div class="rule" id="r-patterns.behavior"><a class="rule-link" href="#r-patterns.behavior" title="patterns.behavior"><span>[patterns<wbr>.behavior]</span></a>
</div>

<h3 id="dynamic-semantics"><a class="header" href="#dynamic-semantics">Dynamic semantics</a></h3>
<div class="rule" id="r-patterns.behavior.nested-or-patterns"><a class="rule-link" href="#r-patterns.behavior.nested-or-patterns" title="patterns.behavior.nested-or-patterns"><span>[patterns<wbr>.behavior<wbr>.nested-or-patterns]</span></a>
</div>

<ol>
<li>The dynamic semantics of pattern matching a scrutinee expression <code>e_s</code> against a pattern <code>c(p | q, ..rest)</code> at depth <code>d</code> where <code>c</code> is some constructor,
<code>p</code> and <code>q</code> are arbitrary patterns,
and <code>rest</code> is optionally any remaining potential factors in <code>c</code>,
is defined as being the same as that of <code>c(p, ..rest) | c(q, ..rest)</code>.</li>
</ol>
<div class="rule" id="r-patterns.precedence"><a class="rule-link" href="#r-patterns.precedence" title="patterns.precedence"><span>[patterns<wbr>.precedence]</span></a>
</div>

<h3 id="precedence-with-other-undelimited-patterns"><a class="header" href="#precedence-with-other-undelimited-patterns">Precedence with other undelimited patterns</a></h3>
<p>As shown elsewhere in this chapter, there are several types of patterns that are syntactically undelimited, including identifier patterns, reference patterns, and or-patterns.
Or-patterns always have the lowest-precedence.
This allows us to reserve syntactic space for a possible future type ascription feature and also to reduce ambiguity.
For example, <code>x @ A(..) | B(..)</code> will result in an error that <code>x</code> is not bound in all patterns.
<code>&amp;A(x) | B(x)</code> will result in a type mismatch between <code>x</code> in the different subpatterns.</p>
<hr>
<ol class="footnote-definition">
<li id="footnote-obsolete-range-edition">
<p>The <a href="patterns.html#grammar-ObsoleteRangePattern">ObsoleteRangePattern</a> syntax has been removed in the 2021 edition. <a href="#fr-obsolete-range-edition-1">↩</a></p>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="expressions/underscore-expr.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="type-system.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="expressions/underscore-expr.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="type-system.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/reference-da60281b.js"></script>


        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const fragmentMap =
                    {"#rest-patterns":"patterns.html#rest-pattern"}
                ;
                const target = fragmentMap[window.location.hash];
                if (target) {
                    let url = new URL(target, window.location.href);
                    window.location.replace(url.href);
                }
            });
        </script>

    </div>
    </body>
</html>
