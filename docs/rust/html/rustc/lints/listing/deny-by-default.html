<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Deny-by-default Lints - The rustc book</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../../css/general-2459343d.css">
        <link rel="stylesheet" href="../../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex-29630132.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc-d63a11d1.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The rustc book</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rust/tree/HEAD/src/doc/rustc" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rust/edit/main/src/doc/rustc/src/lints/listing/deny-by-default.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="deny-by-default-lints"><a class="header" href="#deny-by-default-lints">Deny-by-default Lints</a></h1>
<p>These lints are all set to the ‘deny’ level by default.</p>
<ul>
<li><a href="#ambiguous-associated-items"><code>ambiguous_associated_items</code></a></li>
<li><a href="#arithmetic-overflow"><code>arithmetic_overflow</code></a></li>
<li><a href="#binary-asm-labels"><code>binary_asm_labels</code></a></li>
<li><a href="#bindings-with-variant-name"><code>bindings_with_variant_name</code></a></li>
<li><a href="#conflicting-repr-hints"><code>conflicting_repr_hints</code></a></li>
<li><a href="#dangerous-implicit-autorefs"><code>dangerous_implicit_autorefs</code></a></li>
<li><a href="#default-overrides-default-fields"><code>default_overrides_default_fields</code></a></li>
<li><a href="#dependency-on-unit-never-type-fallback"><code>dependency_on_unit_never_type_fallback</code></a></li>
<li><a href="#deref-nullptr"><code>deref_nullptr</code></a></li>
<li><a href="#elided-lifetimes-in-associated-constant"><code>elided_lifetimes_in_associated_constant</code></a></li>
<li><a href="#enum-intrinsics-non-enums"><code>enum_intrinsics_non_enums</code></a></li>
<li><a href="#exceeding-bitshifts"><code>exceeding-bitshifts</code></a></li>
<li><a href="#explicit-builtin-cfgs-in-flags"><code>explicit_builtin_cfgs_in_flags</code></a></li>
<li><a href="#ill-formed-attribute-input"><code>ill_formed_attribute_input</code></a></li>
<li><a href="#incomplete-include"><code>incomplete_include</code></a></li>
<li><a href="#ineffective-unstable-trait-impl"><code>ineffective_unstable_trait_impl</code></a></li>
<li><a href="#invalid-atomic-ordering"><code>invalid_atomic_ordering</code></a></li>
<li><a href="#invalid-doc-attributes"><code>invalid_doc_attributes</code></a></li>
<li><a href="#invalid-from-utf8-unchecked"><code>invalid_from_utf8_unchecked</code></a></li>
<li><a href="#invalid-macro-export-arguments"><code>invalid_macro_export_arguments</code></a></li>
<li><a href="#invalid-null-arguments"><code>invalid_null_arguments</code></a></li>
<li><a href="#invalid-reference-casting"><code>invalid_reference_casting</code></a></li>
<li><a href="#invalid-type-param-default"><code>invalid_type_param_default</code></a></li>
<li><a href="#legacy-derive-helpers"><code>legacy_derive_helpers</code></a></li>
<li><a href="#let-underscore-lock"><code>let_underscore_lock</code></a></li>
<li><a href="#long-running-const-eval"><code>long_running_const_eval</code></a></li>
<li><a href="#macro-expanded-macro-exports-accessed-by-absolute-paths"><code>macro_expanded_macro_exports_accessed_by_absolute_paths</code></a></li>
<li><a href="#mutable-transmutes"><code>mutable_transmutes</code></a></li>
<li><a href="#named-asm-labels"><code>named_asm_labels</code></a></li>
<li><a href="#never-type-fallback-flowing-into-unsafe"><code>never_type_fallback_flowing_into_unsafe</code></a></li>
<li><a href="#no-mangle-const-items"><code>no_mangle_const_items</code></a></li>
<li><a href="#out-of-scope-macro-calls"><code>out_of_scope_macro_calls</code></a></li>
<li><a href="#overflowing-literals"><code>overflowing_literals</code></a></li>
<li><a href="#patterns-in-fns-without-body"><code>patterns_in_fns_without_body</code></a></li>
<li><a href="#private-macro-use"><code>private_macro_use</code></a></li>
<li><a href="#proc-macro-derive-resolution-fallback"><code>proc_macro_derive_resolution_fallback</code></a></li>
<li><a href="#pub-use-of-private-extern-crate"><code>pub_use_of_private_extern_crate</code></a></li>
<li><a href="#repr-transparent-non-zst-fields"><code>repr_transparent_non_zst_fields</code></a></li>
<li><a href="#semicolon-in-expressions-from-macros"><code>semicolon_in_expressions_from_macros</code></a></li>
<li><a href="#soft-unstable"><code>soft_unstable</code></a></li>
<li><a href="#test-unstable-lint"><code>test_unstable_lint</code></a></li>
<li><a href="#text-direction-codepoint-in-comment"><code>text_direction_codepoint_in_comment</code></a></li>
<li><a href="#text-direction-codepoint-in-literal"><code>text_direction_codepoint_in_literal</code></a></li>
<li><a href="#unconditional-panic"><code>unconditional_panic</code></a></li>
<li><a href="#undropped-manually-drops"><code>undropped_manually_drops</code></a></li>
<li><a href="#unknown-crate-types"><code>unknown_crate_types</code></a></li>
<li><a href="#useless-deprecated"><code>useless_deprecated</code></a></li>
</ul>
<h2 id="ambiguous-associated-items"><a class="header" href="#ambiguous-associated-items">ambiguous-associated-items</a></h2>
<p>The <code>ambiguous_associated_items</code> lint detects ambiguity between
<a href="https://doc.rust-lang.org/reference/items/associated-items.html">associated items</a> and <a href="https://doc.rust-lang.org/reference/items/enumerations.html">enum variants</a>.</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<pre><code class="language-rust compile_fail">enum E {
    V
}

trait Tr {
    type V;
    fn foo() -&gt; Self::V;
}

impl Tr for E {
    type V = u8;
    // `Self::V` is ambiguous because it may refer to the associated type or
    // the enum variant.
    fn foo() -&gt; Self::V { 0 }
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: ambiguous associated item
  --&gt; lint_example.rs:15:17
   |
15 |     fn foo() -&gt; Self::V { 0 }
   |                 ^^^^^^^ help: use fully-qualified syntax: `&lt;E as Tr&gt;::V`
   |
   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
   = note: for more information, see issue #57644 &lt;https://github.com/rust-lang/rust/issues/57644&gt;
note: `V` could refer to the variant defined here
  --&gt; lint_example.rs:3:5
   |
 3 |     V
   |     ^
note: `V` could also refer to the associated type defined here
  --&gt; lint_example.rs:7:5
   |
 7 |     type V;
   |     ^^^^^^
   = note: `#[deny(ambiguous_associated_items)]` (part of `#[deny(future_incompatible)]`) on by default

</code></pre>
<h3 id="explanation"><a class="header" href="#explanation">Explanation</a></h3>
<p>Previous versions of Rust did not allow accessing enum variants
through <a href="https://doc.rust-lang.org/reference/items/type-aliases.html#type-aliases">type aliases</a>. When this ability was added (see <a href="https://github.com/rust-lang/rfcs/blob/master/text/2338-type-alias-enum-variants.md">RFC 2338</a>), this
introduced some situations where it can be ambiguous what a type
was referring to.</p>
<p>To fix this ambiguity, you should use a <a href="https://doc.rust-lang.org/reference/paths.html#qualified-paths">qualified path</a> to explicitly
state which type to use. For example, in the above example the
function can be written as <code>fn f() -&gt; &lt;Self as Tr&gt;::V { 0 }</code> to
specifically refer to the associated type.</p>
<p>This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a hard
error in the future. See <a href="https://github.com/rust-lang/rust/issues/57644">issue #57644</a> for more details.</p>
<h2 id="arithmetic-overflow"><a class="header" href="#arithmetic-overflow">arithmetic-overflow</a></h2>
<p>The <code>arithmetic_overflow</code> lint detects that an arithmetic operation
will <a href="https://doc.rust-lang.org/reference/expressions/operator-expr.html#overflow">overflow</a>.</p>
<h3 id="example-1"><a class="header" href="#example-1">Example</a></h3>
<pre><code class="language-rust compile_fail">1_i32 &lt;&lt; 32;</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: this arithmetic operation will overflow
 --&gt; lint_example.rs:2:1
  |
2 | 1_i32 &lt;&lt; 32;
  | ^^^^^^^^^^^ attempt to shift left by `32_i32`, which would overflow
  |
  = note: `#[deny(arithmetic_overflow)]` on by default

</code></pre>
<h3 id="explanation-1"><a class="header" href="#explanation-1">Explanation</a></h3>
<p>It is very likely a mistake to perform an arithmetic operation that
overflows its value. If the compiler is able to detect these kinds of
overflows at compile-time, it will trigger this lint. Consider
adjusting the expression to avoid overflow, or use a data type that
will not overflow.</p>
<h2 id="binary-asm-labels"><a class="header" href="#binary-asm-labels">binary-asm-labels</a></h2>
<p>The <code>binary_asm_labels</code> lint detects the use of numeric labels containing only binary
digits in the inline <code>asm!</code> macro.</p>
<h3 id="example-2"><a class="header" href="#example-2">Example</a></h3>
<pre><code class="language-rust ignore (fails on non-x86_64)">#![cfg(target_arch = "x86_64")]

use std::arch::asm;

fn main() {
    unsafe {
        asm!("0: jmp 0b");
    }
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: avoid using labels containing only the digits `0` and `1` in inline assembly
 --&gt; &lt;source&gt;:7:15
  |
7 |         asm!("0: jmp 0b");
  |               ^ use a different label that doesn't start with `0` or `1`
  |
  = help: start numbering with `2` instead
  = note: an LLVM bug makes these labels ambiguous with a binary literal number on x86
  = note: see &lt;https://github.com/llvm/llvm-project/issues/99547&gt; for more information
  = note: `#[deny(binary_asm_labels)]` on by default
</code></pre>
<h3 id="explanation-2"><a class="header" href="#explanation-2">Explanation</a></h3>
<p>An <a href="https://github.com/llvm/llvm-project/issues/99547">LLVM bug</a> causes this code to fail to compile because it interprets the <code>0b</code> as a binary
literal instead of a reference to the previous local label <code>0</code>. To work around this bug,
don’t use labels that could be confused with a binary literal.</p>
<p>This behavior is platform-specific to x86 and x86-64.</p>
<p>See the explanation in <a href="https://doc.rust-lang.org/nightly/rust-by-example/unsafe/asm.html#labels">Rust By Example</a> for more details.</p>
<h2 id="bindings-with-variant-name"><a class="header" href="#bindings-with-variant-name">bindings-with-variant-name</a></h2>
<p>The <code>bindings_with_variant_name</code> lint detects pattern bindings with
the same name as one of the matched variants.</p>
<h3 id="example-3"><a class="header" href="#example-3">Example</a></h3>
<pre><code class="language-rust compile_fail">pub enum Enum {
    Foo,
    Bar,
}

pub fn foo(x: Enum) {
    match x {
        Foo =&gt; {}
        Bar =&gt; {}
    }
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error[E0170]: pattern binding `Foo` is named the same as one of the variants of the type `main::Enum`
 --&gt; lint_example.rs:9:9
  |
9 |         Foo =&gt; {}
  |         ^^^ help: to match on the variant, qualify the path: `main::Enum::Foo`
  |
  = note: `#[deny(bindings_with_variant_name)]` on by default

</code></pre>
<h3 id="explanation-3"><a class="header" href="#explanation-3">Explanation</a></h3>
<p>It is usually a mistake to specify an enum variant name as an
<a href="https://doc.rust-lang.org/reference/patterns.html#identifier-patterns">identifier pattern</a>. In the example above, the <code>match</code> arms are
specifying a variable name to bind the value of <code>x</code> to. The second arm
is ignored because the first one matches <em>all</em> values. The likely
intent is that the arm was intended to match on the enum variant.</p>
<p>Two possible solutions are:</p>
<ul>
<li>Specify the enum variant using a <a href="https://doc.rust-lang.org/reference/patterns.html#path-patterns">path pattern</a>, such as
<code>Enum::Foo</code>.</li>
<li>Bring the enum variants into local scope, such as adding <code>use Enum::*;</code> to the beginning of the <code>foo</code> function in the example
above.</li>
</ul>
<h2 id="conflicting-repr-hints"><a class="header" href="#conflicting-repr-hints">conflicting-repr-hints</a></h2>
<p>The <code>conflicting_repr_hints</code> lint detects <a href="https://doc.rust-lang.org/reference/type-layout.html#representations"><code>repr</code> attributes</a> with
conflicting hints.</p>
<h3 id="example-4"><a class="header" href="#example-4">Example</a></h3>
<pre><code class="language-rust compile_fail">#[repr(u32, u64)]
enum Foo {
    Variant1,
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error[E0566]: conflicting representation hints
 --&gt; lint_example.rs:2:8
  |
2 | #[repr(u32, u64)]
  |        ^^^  ^^^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #68585 &lt;https://github.com/rust-lang/rust/issues/68585&gt;
  = note: `#[deny(conflicting_repr_hints)]` (part of `#[deny(future_incompatible)]`) on by default

</code></pre>
<h3 id="explanation-4"><a class="header" href="#explanation-4">Explanation</a></h3>
<p>The compiler incorrectly accepted these conflicting representations in
the past. This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a
hard error in the future. See <a href="https://github.com/rust-lang/rust/issues/68585">issue #68585</a> for more details.</p>
<p>To correct the issue, remove one of the conflicting hints.</p>
<h2 id="dangerous-implicit-autorefs"><a class="header" href="#dangerous-implicit-autorefs">dangerous-implicit-autorefs</a></h2>
<p>The <code>dangerous_implicit_autorefs</code> lint checks for implicitly taken references
to dereferences of raw pointers.</p>
<h3 id="example-5"><a class="header" href="#example-5">Example</a></h3>
<pre><code class="language-rust compile_fail">unsafe fn fun(ptr: *mut [u8]) -&gt; *mut [u8] {
    unsafe { &amp;raw mut (*ptr)[..16] }
    //                      ^^^^^^ this calls `IndexMut::index_mut(&amp;mut ..., ..16)`,
    //                             implicitly creating a reference
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: implicit autoref creates a reference to the dereference of a raw pointer
 --&gt; lint_example.rs:3:23
  |
3 |     unsafe { &amp;raw mut (*ptr)[..16] }
  |                       ^^---^^^^^^^
  |                         |
  |                         this raw pointer has type `*mut [u8]`
  |
  = note: creating a reference requires the pointer target to be valid and imposes aliasing requirements
note: autoref is being applied to this expression, resulting in: `&amp;mut [u8]`
 --&gt; lint_example.rs:3:23
  |
3 |     unsafe { &amp;raw mut (*ptr)[..16] }
  |                       ^^^^^^
  = note: `#[deny(dangerous_implicit_autorefs)]` on by default
help: try using a raw pointer method instead; or if this reference is intentional, make it explicit
  |
3 |     unsafe { &amp;raw mut (&amp;mut (*ptr))[..16] }
  |                       +++++       +

</code></pre>
<h3 id="explanation-5"><a class="header" href="#explanation-5">Explanation</a></h3>
<p>When working with raw pointers it’s usually undesirable to create references,
since they inflict additional safety requirements. Unfortunately, it’s possible
to take a reference to the dereference of a raw pointer implicitly, which inflicts
the usual reference requirements.</p>
<p>If you are sure that you can soundly take a reference, then you can take it explicitly:</p>
<pre><code class="language-rust">unsafe fn fun(ptr: *mut [u8]) -&gt; *mut [u8] {
    unsafe { &amp;raw mut (&amp;mut *ptr)[..16] }
}</code></pre>
<p>Otherwise try to find an alternative way to achieve your goals using only raw pointers:</p>
<pre><code class="language-rust">use std::ptr;

fn fun(ptr: *mut [u8]) -&gt; *mut [u8] {
    ptr::slice_from_raw_parts_mut(ptr.cast(), 16)
}</code></pre>
<h2 id="default-overrides-default-fields"><a class="header" href="#default-overrides-default-fields">default-overrides-default-fields</a></h2>
<p>The <code>default_overrides_default_fields</code> lint checks for manual <code>impl</code> blocks of the
<code>Default</code> trait of types with default field values.</p>
<h3 id="example-6"><a class="header" href="#example-6">Example</a></h3>
<pre><code class="language-rust compile_fail">#![feature(default_field_values)]
struct Foo {
    x: i32 = 101,
    y: NonDefault,
}

struct NonDefault;

#[deny(default_overrides_default_fields)]
impl Default for Foo {
    fn default() -&gt; Foo {
        Foo { x: 100, y: NonDefault }
    }
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: `Default` impl doesn't use the declared default field values
  --&gt; lint_example.rs:11:1
   |
11 | / impl Default for Foo {
12 | |     fn default() -&gt; Foo {
13 | |         Foo { x: 100, y: NonDefault }
   | |                  --- this field has a default value
14 | |     }
15 | | }
   | |_^
   |
   = help: use the default values in the `impl` with `Struct { mandatory_field, .. }` to avoid them diverging over time
note: the lint level is defined here
  --&gt; lint_example.rs:10:8
   |
10 | #[deny(default_overrides_default_fields)]
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

</code></pre>
<h3 id="explanation-6"><a class="header" href="#explanation-6">Explanation</a></h3>
<p>Manually writing a <code>Default</code> implementation for a type that has
default field values runs the risk of diverging behavior between
<code>Type { .. }</code> and <code>&lt;Type as Default&gt;::default()</code>, which would be a
foot-gun for users of that type that would expect these to be
equivalent. If <code>Default</code> can’t be derived due to some fields not
having a <code>Default</code> implementation, we encourage the use of <code>..</code> for
the fields that do have a default field value.</p>
<h2 id="dependency-on-unit-never-type-fallback"><a class="header" href="#dependency-on-unit-never-type-fallback">dependency-on-unit-never-type-fallback</a></h2>
<p>The <code>dependency_on_unit_never_type_fallback</code> lint detects cases where code compiles with
<a href="https://doc.rust-lang.org/nightly/core/primitive.never.html#never-type-fallback">never type fallback</a> being <a href="https://doc.rust-lang.org/core/primitive.unit.html"><code>()</code></a>, but will stop compiling with fallback being <a href="https://doc.rust-lang.org/core/primitive.never.html"><code>!</code></a>.</p>
<h3 id="example-7"><a class="header" href="#example-7">Example</a></h3>
<pre><code class="language-rust compile_fail edition2021"><span class="boring">#![deny(dependency_on_unit_never_type_fallback)]
</span>fn main() {
    if true {
        // return has type `!` which, is some cases, causes never type fallback
        return
    } else {
        // the type produced by this call is not specified explicitly,
        // so it will be inferred from the previous branch
        Default::default()
    };
    // depending on the fallback, this may compile (because `()` implements `Default`),
    // or it may not (because `!` does not implement `Default`)
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: this function depends on never type fallback being `()`
 --&gt; lint_example.rs:2:1
  |
2 | fn main() {
  | ^^^^^^^^^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in Rust 2024 and in a future release in all editions!
  = note: for more information, see &lt;https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html&gt;
  = help: specify the types explicitly
note: in edition 2024, the requirement `!: Default` will fail
 --&gt; lint_example.rs:9:9
  |
9 |         Default::default()
  |         ^^^^^^^^^^^^^^^^^^
note: the lint level is defined here
 --&gt; lint_example.rs:1:9
  |
1 | #![deny(dependency_on_unit_never_type_fallback)]
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: use `()` annotations to avoid fallback changes
  |
9 |         &lt;() as Default&gt;::default()
  |         ++++++        +

</code></pre>
<h3 id="explanation-7"><a class="header" href="#explanation-7">Explanation</a></h3>
<p>Due to historic reasons never type fallback was <code>()</code>, meaning that <code>!</code> got spontaneously
coerced to <code>()</code>. There are plans to change that, but they may make the code such as above
not compile. Instead of depending on the fallback, you should specify the type explicitly:</p>
<pre><code>if true {
    return
} else {
    // type is explicitly specified, fallback can't hurt us no more
    &lt;() as Default&gt;::default()
};
</code></pre>
<p>See <a href="https://github.com/rust-lang/rust/issues/123748">Tracking Issue for making <code>!</code> fall back to <code>!</code></a>.</p>
<h2 id="deref-nullptr"><a class="header" href="#deref-nullptr">deref-nullptr</a></h2>
<p>The <code>deref_nullptr</code> lint detects when a null pointer is dereferenced,
which causes <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html">undefined behavior</a>.</p>
<h3 id="example-8"><a class="header" href="#example-8">Example</a></h3>
<pre><code class="language-rust compile_fail"><span class="boring">#![allow(unused)]
</span>use std::ptr;
unsafe {
    let x = &amp;*ptr::null::&lt;i32&gt;();
    let x = ptr::addr_of!(*ptr::null::&lt;i32&gt;());
    let x = *(0 as *const i32);
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: dereferencing a null pointer
 --&gt; lint_example.rs:5:14
  |
5 |     let x = &amp;*ptr::null::&lt;i32&gt;();
  |              ^^^^^^^^^^^^^^^^^^^ this code causes undefined behavior when executed
  |
  = note: `#[deny(deref_nullptr)]` on by default


error: dereferencing a null pointer
 --&gt; lint_example.rs:7:13
  |
7 |     let x = *(0 as *const i32);
  |             ^^^^^^^^^^^^^^^^^^ this code causes undefined behavior when executed

</code></pre>
<h3 id="explanation-8"><a class="header" href="#explanation-8">Explanation</a></h3>
<p>Dereferencing a null pointer causes <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html">undefined behavior</a> if it is accessed
(loaded from or stored to).</p>
<h2 id="elided-lifetimes-in-associated-constant"><a class="header" href="#elided-lifetimes-in-associated-constant">elided-lifetimes-in-associated-constant</a></h2>
<p>The <code>elided_lifetimes_in_associated_constant</code> lint detects elided lifetimes
in associated constants when there are other lifetimes in scope. This was
accidentally supported, and this lint was later relaxed to allow eliding
lifetimes to <code>'static</code> when there are no lifetimes in scope.</p>
<h3 id="example-9"><a class="header" href="#example-9">Example</a></h3>
<pre><code class="language-rust compile_fail">#![deny(elided_lifetimes_in_associated_constant)]

struct Foo&lt;'a&gt;(&amp;'a ());

impl&lt;'a&gt; Foo&lt;'a&gt; {
    const STR: &amp;str = "hello, world";
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: `&amp;` without an explicit lifetime name cannot be used here
 --&gt; lint_example.rs:7:16
  |
7 |     const STR: &amp;str = "hello, world";
  |                ^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #115010 &lt;https://github.com/rust-lang/rust/issues/115010&gt;
note: cannot automatically infer `'static` because of other lifetimes in scope
 --&gt; lint_example.rs:6:6
  |
6 | impl&lt;'a&gt; Foo&lt;'a&gt; {
  |      ^^
note: the lint level is defined here
 --&gt; lint_example.rs:1:9
  |
1 | #![deny(elided_lifetimes_in_associated_constant)]
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
help: use the `'static` lifetime
  |
7 |     const STR: &amp;'static str = "hello, world";
  |                 +++++++

</code></pre>
<h3 id="explanation-9"><a class="header" href="#explanation-9">Explanation</a></h3>
<p>Previous version of Rust</p>
<p>Implicit static-in-const behavior was decided <a href="https://github.com/rust-lang/rust/issues/38831">against</a> for associated
constants because of ambiguity. This, however, regressed and the compiler
erroneously treats elided lifetimes in associated constants as lifetime
parameters on the impl.</p>
<p>This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a
hard error in the future.</p>
<h2 id="enum-intrinsics-non-enums"><a class="header" href="#enum-intrinsics-non-enums">enum-intrinsics-non-enums</a></h2>
<p>The <code>enum_intrinsics_non_enums</code> lint detects calls to
intrinsic functions that require an enum (<a href="https://doc.rust-lang.org/core/mem/fn.discriminant.html"><code>core::mem::discriminant</code></a>,
<a href="https://doc.rust-lang.org/core/mem/fn.variant_count.html"><code>core::mem::variant_count</code></a>), but are called with a non-enum type.</p>
<h3 id="example-10"><a class="header" href="#example-10">Example</a></h3>
<pre><code class="language-rust compile_fail">#![deny(enum_intrinsics_non_enums)]
core::mem::discriminant::&lt;i32&gt;(&amp;123);</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: the return value of `mem::discriminant` is unspecified when called with a non-enum type
 --&gt; lint_example.rs:3:1
  |
3 | core::mem::discriminant::&lt;i32&gt;(&amp;123);
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
note: the argument to `discriminant` should be a reference to an enum, but it was passed a reference to a `i32`, which is not an enum
 --&gt; lint_example.rs:3:32
  |
3 | core::mem::discriminant::&lt;i32&gt;(&amp;123);
  |                                ^^^^
note: the lint level is defined here
 --&gt; lint_example.rs:1:9
  |
1 | #![deny(enum_intrinsics_non_enums)]
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^

</code></pre>
<h3 id="explanation-10"><a class="header" href="#explanation-10">Explanation</a></h3>
<p>In order to accept any enum, the <code>mem::discriminant</code> and
<code>mem::variant_count</code> functions are generic over a type <code>T</code>.
This makes it technically possible for <code>T</code> to be a non-enum,
in which case the return value is unspecified.</p>
<p>This lint prevents such incorrect usage of these functions.</p>
<h2 id="exceeding-bitshifts"><a class="header" href="#exceeding-bitshifts">exceeding-bitshifts</a></h2>
<p>The lint <code>exceeding-bitshifts</code> has been renamed to <a href="#arithmetic-overflow"><code>arithmetic-overflow</code></a>.</p>
<h2 id="explicit-builtin-cfgs-in-flags"><a class="header" href="#explicit-builtin-cfgs-in-flags">explicit-builtin-cfgs-in-flags</a></h2>
<p>The <code>explicit_builtin_cfgs_in_flags</code> lint detects builtin cfgs set via the <code>--cfg</code> flag.</p>
<h3 id="example-11"><a class="header" href="#example-11">Example</a></h3>
<pre><code class="language-text">rustc --cfg unix
</code></pre>
<pre><code class="language-rust ignore (needs command line option)">fn main() {}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: unexpected `--cfg unix` flag
  |
  = note: config `unix` is only supposed to be controlled by `--target`
  = note: manually setting a built-in cfg can and does create incoherent behaviors
  = note: `#[deny(explicit_builtin_cfgs_in_flags)]` on by default
</code></pre>
<h3 id="explanation-11"><a class="header" href="#explanation-11">Explanation</a></h3>
<p>Setting builtin cfgs can and does produce incoherent behavior, it’s better to the use
the appropriate <code>rustc</code> flag that controls the config. For example setting the <code>windows</code>
cfg but on Linux based target.</p>
<h2 id="ill-formed-attribute-input"><a class="header" href="#ill-formed-attribute-input">ill-formed-attribute-input</a></h2>
<p>The <code>ill_formed_attribute_input</code> lint detects ill-formed attribute
inputs that were previously accepted and used in practice.</p>
<h3 id="example-12"><a class="header" href="#example-12">Example</a></h3>
<pre><code class="language-rust compile_fail">#[inline = "this is not valid"]
fn foo() {}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: valid forms for the attribute are `#[inline(always)]`, `#[inline(never)]`, and `#[inline]`
 --&gt; lint_example.rs:2:1
  |
2 | #[inline = "this is not valid"]
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #57571 &lt;https://github.com/rust-lang/rust/issues/57571&gt;
  = note: `#[deny(ill_formed_attribute_input)]` (part of `#[deny(future_incompatible)]`) on by default

</code></pre>
<h3 id="explanation-12"><a class="header" href="#explanation-12">Explanation</a></h3>
<p>Previously, inputs for many built-in attributes weren’t validated and
nonsensical attribute inputs were accepted. After validation was
added, it was determined that some existing projects made use of these
invalid forms. This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this
to a hard error in the future. See <a href="https://github.com/rust-lang/rust/issues/57571">issue #57571</a> for more details.</p>
<p>Check the <a href="https://doc.rust-lang.org/nightly/reference/attributes.html">attribute reference</a> for details on the valid inputs for
attributes.</p>
<h2 id="incomplete-include"><a class="header" href="#incomplete-include">incomplete-include</a></h2>
<p>The <code>incomplete_include</code> lint detects the use of the <a href="https://doc.rust-lang.org/std/macro.include.html"><code>include!</code></a>
macro with a file that contains more than one expression.</p>
<h3 id="example-13"><a class="header" href="#example-13">Example</a></h3>
<pre><code class="language-rust ignore (needs separate file)">fn main() {
    include!("foo.txt");
}</code></pre>
<p>where the file <code>foo.txt</code> contains:</p>
<pre><code class="language-text">println!("hi!");
</code></pre>
<p>produces:</p>
<pre><code class="language-text">error: include macro expected single expression in source
 --&gt; foo.txt:1:14
  |
1 | println!("1");
  |              ^
  |
  = note: `#[deny(incomplete_include)]` on by default
</code></pre>
<h3 id="explanation-13"><a class="header" href="#explanation-13">Explanation</a></h3>
<p>The <a href="https://doc.rust-lang.org/std/macro.include.html"><code>include!</code></a> macro is currently only intended to be used to
include a single <a href="https://doc.rust-lang.org/reference/expressions.html">expression</a> or multiple <a href="https://doc.rust-lang.org/reference/items.html">items</a>. Historically it
would ignore any contents after the first expression, but that can be
confusing. In the example above, the <code>println!</code> expression ends just
before the semicolon, making the semicolon “extra” information that is
ignored. Perhaps even more surprising, if the included file had
multiple print statements, the subsequent ones would be ignored!</p>
<p>One workaround is to place the contents in braces to create a <a href="https://doc.rust-lang.org/reference/expressions/block-expr.html">block
expression</a>. Also consider alternatives, like using functions to
encapsulate the expressions, or use <a href="https://doc.rust-lang.org/reference/procedural-macros.html">proc-macros</a>.</p>
<p>This is a lint instead of a hard error because existing projects were
found to hit this error. To be cautious, it is a lint for now. The
future semantics of the <code>include!</code> macro are also uncertain, see
<a href="https://github.com/rust-lang/rust/issues/35560">issue #35560</a>.</p>
<h2 id="ineffective-unstable-trait-impl"><a class="header" href="#ineffective-unstable-trait-impl">ineffective-unstable-trait-impl</a></h2>
<p>The <code>ineffective_unstable_trait_impl</code> lint detects <code>#[unstable]</code> attributes which are not used.</p>
<h3 id="example-14"><a class="header" href="#example-14">Example</a></h3>
<pre><code class="language-rust compile_fail">#![feature(staged_api)]

#[derive(Clone)]
#[stable(feature = "x", since = "1")]
struct S {}

#[unstable(feature = "y", issue = "none")]
impl Copy for S {}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: an `#[unstable]` annotation here has no effect
 --&gt; lint_example.rs:8:1
  |
8 | #[unstable(feature = "y", issue = "none")]
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: see issue #55436 &lt;https://github.com/rust-lang/rust/issues/55436&gt; for more information
  = note: `#[deny(ineffective_unstable_trait_impl)]` on by default

</code></pre>
<h3 id="explanation-14"><a class="header" href="#explanation-14">Explanation</a></h3>
<p><code>staged_api</code> does not currently support using a stability attribute on <code>impl</code> blocks.
<code>impl</code>s are always stable if both the type and trait are stable, and always unstable otherwise.</p>
<h2 id="invalid-atomic-ordering"><a class="header" href="#invalid-atomic-ordering">invalid-atomic-ordering</a></h2>
<p>The <code>invalid_atomic_ordering</code> lint detects passing an <code>Ordering</code>
to an atomic operation that does not support that ordering.</p>
<h3 id="example-15"><a class="header" href="#example-15">Example</a></h3>
<pre><code class="language-rust compile_fail"><span class="boring">use core::sync::atomic::{AtomicU8, Ordering};
</span>let atom = AtomicU8::new(0);
let value = atom.load(Ordering::Release);
<span class="boring">let _ = value;</span></code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: atomic loads cannot have `Release` or `AcqRel` ordering
 --&gt; lint_example.rs:4:23
  |
4 | let value = atom.load(Ordering::Release);
  |                       ^^^^^^^^^^^^^^^^^
  |
  = help: consider using ordering modes `Acquire`, `SeqCst` or `Relaxed`
  = note: `#[deny(invalid_atomic_ordering)]` on by default

</code></pre>
<h3 id="explanation-15"><a class="header" href="#explanation-15">Explanation</a></h3>
<p>Some atomic operations are only supported for a subset of the
<code>atomic::Ordering</code> variants. Passing an unsupported variant will cause
an unconditional panic at runtime, which is detected by this lint.</p>
<p>This lint will trigger in the following cases: (where <code>AtomicType</code> is an
atomic type from <code>core::sync::atomic</code>, such as <code>AtomicBool</code>,
<code>AtomicPtr</code>, <code>AtomicUsize</code>, or any of the other integer atomics).</p>
<ul>
<li>
<p>Passing <code>Ordering::Acquire</code> or <code>Ordering::AcqRel</code> to
<code>AtomicType::store</code>.</p>
</li>
<li>
<p>Passing <code>Ordering::Release</code> or <code>Ordering::AcqRel</code> to
<code>AtomicType::load</code>.</p>
</li>
<li>
<p>Passing <code>Ordering::Relaxed</code> to <code>core::sync::atomic::fence</code> or
<code>core::sync::atomic::compiler_fence</code>.</p>
</li>
<li>
<p>Passing <code>Ordering::Release</code> or <code>Ordering::AcqRel</code> as the failure
ordering for any of <code>AtomicType::compare_exchange</code>,
<code>AtomicType::compare_exchange_weak</code>, <code>AtomicType::update</code>, or
<code>AtomicType::try_update</code>.</p>
</li>
</ul>
<h2 id="invalid-doc-attributes"><a class="header" href="#invalid-doc-attributes">invalid-doc-attributes</a></h2>
<p>The <code>invalid_doc_attributes</code> lint detects when the <code>#[doc(...)]</code> is
misused.</p>
<h3 id="example-16"><a class="header" href="#example-16">Example</a></h3>
<pre><code class="language-rust compile_fail">#![deny(warnings)]

pub mod submodule {
    #![doc(test(no_crate_inject))]
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: this attribute can only be applied at the crate level
 --&gt; lint_example.rs:5:17
  |
5 |     #![doc(test(no_crate_inject))]
  |                 ^^^^^^^^^^^^^^^
  |
  = note: read &lt;https://doc.rust-lang.org/nightly/rustdoc/the-doc-attribute.html#at-the-crate-level&gt; for more information
  = note: `#[deny(invalid_doc_attributes)]` on by default

</code></pre>
<h3 id="explanation-16"><a class="header" href="#explanation-16">Explanation</a></h3>
<p>Previously, incorrect usage of the <code>#[doc(..)]</code> attribute was not
being validated. Usually these should be rejected as a hard error,
but this lint was introduced to avoid breaking any existing
crates which included them.</p>
<h2 id="invalid-from-utf8-unchecked"><a class="header" href="#invalid-from-utf8-unchecked">invalid-from-utf8-unchecked</a></h2>
<p>The <code>invalid_from_utf8_unchecked</code> lint checks for calls to
<code>std::str::from_utf8_unchecked</code> and <code>std::str::from_utf8_unchecked_mut</code>
with a known invalid UTF-8 value.</p>
<h3 id="example-17"><a class="header" href="#example-17">Example</a></h3>
<pre><code class="language-rust compile_fail"><span class="boring">#[allow(unused)]
</span>unsafe {
    std::str::from_utf8_unchecked(b"Ru\x82st");
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: calls to `std::str::from_utf8_unchecked` with an invalid literal are undefined behavior
 --&gt; lint_example.rs:4:5
  |
4 |     std::str::from_utf8_unchecked(b"Ru\x82st");
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-----------^
  |                                   |
  |                                   the literal was valid UTF-8 up to the 2 bytes
  |
  = note: `#[deny(invalid_from_utf8_unchecked)]` on by default

</code></pre>
<h3 id="explanation-17"><a class="header" href="#explanation-17">Explanation</a></h3>
<p>Creating such a <code>str</code> would result in undefined behavior as per documentation
for <code>std::str::from_utf8_unchecked</code> and <code>std::str::from_utf8_unchecked_mut</code>.</p>
<h2 id="invalid-macro-export-arguments"><a class="header" href="#invalid-macro-export-arguments">invalid-macro-export-arguments</a></h2>
<p>The <code>invalid_macro_export_arguments</code> lint detects cases where <code>#[macro_export]</code> is being used with invalid arguments.</p>
<h3 id="example-18"><a class="header" href="#example-18">Example</a></h3>
<pre><code class="language-rust compile_fail">#![deny(invalid_macro_export_arguments)]

#[macro_export(invalid_parameter)]
macro_rules! myMacro {
   () =&gt; {
        // [...]
   }
}

#[macro_export(too, many, items)]</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: valid forms for the attribute are `#[macro_export(local_inner_macros)]` and `#[macro_export]`
 --&gt; lint_example.rs:4:1
  |
4 | #[macro_export(invalid_parameter)]
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #57571 &lt;https://github.com/rust-lang/rust/issues/57571&gt;
note: the lint level is defined here
 --&gt; lint_example.rs:1:9
  |
1 | #![deny(invalid_macro_export_arguments)]
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

</code></pre>
<h3 id="explanation-18"><a class="header" href="#explanation-18">Explanation</a></h3>
<p>The only valid argument is <code>#[macro_export(local_inner_macros)]</code> or no argument (<code>#[macro_export]</code>).
You can’t have multiple arguments in a <code>#[macro_export(..)]</code>, or mention arguments other than <code>local_inner_macros</code>.</p>
<h2 id="invalid-null-arguments"><a class="header" href="#invalid-null-arguments">invalid-null-arguments</a></h2>
<p>The <code>invalid_null_arguments</code> lint checks for invalid usage of null pointers in arguments.</p>
<h3 id="example-19"><a class="header" href="#example-19">Example</a></h3>
<pre><code class="language-rust compile_fail"><span class="boring">use std::{slice, ptr};
</span>// Undefined behavior
<span class="boring">let _slice: &amp;[u8] =
</span>unsafe { slice::from_raw_parts(ptr::null(), 0) };</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: calling this function with a null pointer is undefined behavior, even if the result of the function is unused
 --&gt; lint_example.rs:5:10
  |
5 | unsafe { slice::from_raw_parts(ptr::null(), 0) };
  |          ^^^^^^^^^^^^^^^^^^^^^^-----------^^^^
  |                                |
  |                                null pointer originates from here
  |
  = help: for more information, visit &lt;https://doc.rust-lang.org/std/ptr/index.html&gt; and &lt;https://doc.rust-lang.org/reference/behavior-considered-undefined.html&gt;
  = note: `#[deny(invalid_null_arguments)]` on by default

</code></pre>
<h3 id="explanation-19"><a class="header" href="#explanation-19">Explanation</a></h3>
<p>Calling methods whos safety invariants requires non-null ptr with a null pointer
is <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html">Undefined Behavior</a>!</p>
<h2 id="invalid-reference-casting"><a class="header" href="#invalid-reference-casting">invalid-reference-casting</a></h2>
<p>The <code>invalid_reference_casting</code> lint checks for casts of <code>&amp;T</code> to <code>&amp;mut T</code>
without using interior mutability.</p>
<h3 id="example-20"><a class="header" href="#example-20">Example</a></h3>
<pre><code class="language-rust compile_fail">fn x(r: &amp;i32) {
    unsafe {
        *(r as *const i32 as *mut i32) += 1;
    }
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: assigning to `&amp;T` is undefined behavior, consider using an `UnsafeCell`
 --&gt; lint_example.rs:4:9
  |
4 |         *(r as *const i32 as *mut i32) += 1;
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: for more information, visit &lt;https://doc.rust-lang.org/book/ch15-05-interior-mutability.html&gt;
  = note: `#[deny(invalid_reference_casting)]` on by default

</code></pre>
<h3 id="explanation-20"><a class="header" href="#explanation-20">Explanation</a></h3>
<p>Casting <code>&amp;T</code> to <code>&amp;mut T</code> without using interior mutability is undefined behavior,
as it’s a violation of Rust reference aliasing requirements.</p>
<p><code>UnsafeCell</code> is the only way to obtain aliasable data that is considered
mutable.</p>
<h2 id="invalid-type-param-default"><a class="header" href="#invalid-type-param-default">invalid-type-param-default</a></h2>
<p>The <code>invalid_type_param_default</code> lint detects type parameter defaults
erroneously allowed in an invalid location.</p>
<h3 id="example-21"><a class="header" href="#example-21">Example</a></h3>
<pre><code class="language-rust compile_fail">fn foo&lt;T=i32&gt;(t: T) {}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: defaults for generic parameters are not allowed here
 --&gt; lint_example.rs:2:8
  |
2 | fn foo&lt;T=i32&gt;(t: T) {}
  |        ^^^^^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #36887 &lt;https://github.com/rust-lang/rust/issues/36887&gt;
  = note: `#[deny(invalid_type_param_default)]` (part of `#[deny(future_incompatible)]`) on by default

</code></pre>
<h3 id="explanation-21"><a class="header" href="#explanation-21">Explanation</a></h3>
<p>Default type parameters were only intended to be allowed in certain
situations, but historically the compiler allowed them everywhere.
This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a hard
error in the future. See <a href="https://github.com/rust-lang/rust/issues/36887">issue #36887</a> for more details.</p>
<h2 id="legacy-derive-helpers"><a class="header" href="#legacy-derive-helpers">legacy-derive-helpers</a></h2>
<p>The <code>legacy_derive_helpers</code> lint detects derive helper attributes
that are used before they are introduced.</p>
<h3 id="example-22"><a class="header" href="#example-22">Example</a></h3>
<pre><code class="language-rust ignore (needs extern crate)">#[serde(rename_all = "camelCase")]
#[derive(Deserialize)]
struct S { /* fields */ }</code></pre>
<p>produces:</p>
<pre><code class="language-text">warning: derive helper attribute is used before it is introduced
  --&gt; $DIR/legacy-derive-helpers.rs:1:3
   |
 1 | #[serde(rename_all = "camelCase")]
   |   ^^^^^
...
 2 | #[derive(Deserialize)]
   |          ----------- the attribute is introduced here
</code></pre>
<h3 id="explanation-22"><a class="header" href="#explanation-22">Explanation</a></h3>
<p>Attributes like this work for historical reasons, but attribute expansion works in
left-to-right order in general, so, to resolve <code>#[serde]</code>, compiler has to try to “look
into the future” at not yet expanded part of the item , but such attempts are not always
reliable.</p>
<p>To fix the warning place the helper attribute after its corresponding derive.</p>
<pre><code class="language-rust ignore (needs extern crate)">#[derive(Deserialize)]
#[serde(rename_all = "camelCase")]
struct S { /* fields */ }</code></pre>
<h2 id="let-underscore-lock"><a class="header" href="#let-underscore-lock">let-underscore-lock</a></h2>
<p>The <code>let_underscore_lock</code> lint checks for statements which don’t bind
a mutex to anything, causing the lock to be released immediately instead
of at end of scope, which is typically incorrect.</p>
<h3 id="example-23"><a class="header" href="#example-23">Example</a></h3>
<pre><code class="language-rust compile_fail">use std::sync::{Arc, Mutex};
use std::thread;
let data = Arc::new(Mutex::new(0));

thread::spawn(move || {
    // The lock is immediately released instead of at the end of the
    // scope, which is probably not intended.
    let _ = data.lock().unwrap();
    println!("doing some work");
    let mut lock = data.lock().unwrap();
    *lock += 1;
});</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: non-binding let on a synchronization lock
 --&gt; lint_example.rs:9:9
  |
9 |     let _ = data.lock().unwrap();
  |         ^ this lock is not assigned to a binding and is immediately dropped
  |
  = note: `#[deny(let_underscore_lock)]` (part of `#[deny(let_underscore)]`) on by default
help: consider binding to an unused variable to avoid immediately dropping the value
  |
9 |     let _unused = data.lock().unwrap();
  |          ++++++
help: consider immediately dropping the value
  |
9 -     let _ = data.lock().unwrap();
9 +     drop(data.lock().unwrap());
  |

</code></pre>
<h3 id="explanation-23"><a class="header" href="#explanation-23">Explanation</a></h3>
<p>Statements which assign an expression to an underscore causes the
expression to immediately drop instead of extending the expression’s
lifetime to the end of the scope. This is usually unintended,
especially for types like <code>MutexGuard</code>, which are typically used to
lock a mutex for the duration of an entire scope.</p>
<p>If you want to extend the expression’s lifetime to the end of the scope,
assign an underscore-prefixed name (such as <code>_foo</code>) to the expression.
If you do actually want to drop the expression immediately, then
calling <code>std::mem::drop</code> on the expression is clearer and helps convey
intent.</p>
<h2 id="long-running-const-eval"><a class="header" href="#long-running-const-eval">long-running-const-eval</a></h2>
<p>The <code>long_running_const_eval</code> lint is emitted when const
eval is running for a long time to ensure rustc terminates
even if you accidentally wrote an infinite loop.</p>
<h3 id="example-24"><a class="header" href="#example-24">Example</a></h3>
<pre><code class="language-rust compile_fail">const FOO: () = loop {};</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: constant evaluation is taking a long time
 --&gt; lint_example.rs:2:17
  |
2 | const FOO: () = loop {};
  |                 ^^^^^^^
  |
  = note: this lint makes sure the compiler doesn't get stuck due to infinite loops in const eval.
          If your compilation actually takes a long time, you can safely allow the lint.
help: the constant being evaluated
 --&gt; lint_example.rs:2:1
  |
2 | const FOO: () = loop {};
  | ^^^^^^^^^^^^^
  = note: `#[deny(long_running_const_eval)]` on by default

</code></pre>
<h3 id="explanation-24"><a class="header" href="#explanation-24">Explanation</a></h3>
<p>Loops allow const evaluation to compute arbitrary code, but may also
cause infinite loops or just very long running computations.
Users can enable long running computations by allowing the lint
on individual constants or for entire crates.</p>
<h3 id="unconditional-warnings"><a class="header" href="#unconditional-warnings">Unconditional warnings</a></h3>
<p>Note that regardless of whether the lint is allowed or set to warn,
the compiler will issue warnings if constant evaluation runs significantly
longer than this lint’s limit. These warnings are also shown to downstream
users from crates.io or similar registries. If you are above the lint’s limit,
both you and downstream users might be exposed to these warnings.
They might also appear on compiler updates, as the compiler makes minor changes
about how complexity is measured: staying below the limit ensures that there
is enough room, and given that the lint is disabled for people who use your
dependency it means you will be the only one to get the warning and can put
out an update in your own time.</p>
<h2 id="macro-expanded-macro-exports-accessed-by-absolute-paths"><a class="header" href="#macro-expanded-macro-exports-accessed-by-absolute-paths">macro-expanded-macro-exports-accessed-by-absolute-paths</a></h2>
<p>The <code>macro_expanded_macro_exports_accessed_by_absolute_paths</code> lint
detects macro-expanded <a href="https://doc.rust-lang.org/reference/macros-by-example.html#path-based-scope"><code>macro_export</code></a> macros from the current crate
that cannot be referred to by absolute paths.</p>
<h3 id="example-25"><a class="header" href="#example-25">Example</a></h3>
<pre><code class="language-rust compile_fail">macro_rules! define_exported {
    () =&gt; {
        #[macro_export]
        macro_rules! exported {
            () =&gt; {};
        }
    };
}

define_exported!();

fn main() {
    crate::exported!();
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: macro-expanded `macro_export` macros from the current crate cannot be referred to by absolute paths
  --&gt; lint_example.rs:13:5
   |
13 |     crate::exported!();
   |     ^^^^^^^^^^^^^^^
   |
   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
   = note: for more information, see issue #52234 &lt;https://github.com/rust-lang/rust/issues/52234&gt;
note: the macro is defined here
  --&gt; lint_example.rs:4:9
   |
 4 | /         macro_rules! exported {
 5 | |             () =&gt; {};
 6 | |         }
   | |_________^
...
10 |   define_exported!();
   |   ------------------ in this macro invocation
   = note: `#[deny(macro_expanded_macro_exports_accessed_by_absolute_paths)]` (part of `#[deny(future_incompatible)]`) on by default
   = note: this error originates in the macro `define_exported` (in Nightly builds, run with -Z macro-backtrace for more info)

</code></pre>
<h3 id="explanation-25"><a class="header" href="#explanation-25">Explanation</a></h3>
<p>The intent is that all macros marked with the <code>#[macro_export]</code>
attribute are made available in the root of the crate. However, when a
<code>macro_rules!</code> definition is generated by another macro, the macro
expansion is unable to uphold this rule. This is a
<a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a hard error in the
future. See <a href="https://github.com/rust-lang/rust/issues/53495">issue #53495</a> for more details.</p>
<h2 id="mutable-transmutes"><a class="header" href="#mutable-transmutes">mutable-transmutes</a></h2>
<p>The <code>mutable_transmutes</code> lint catches transmuting from <code>&amp;T</code> to <code>&amp;mut T</code> because it is <a href="https://doc.rust-lang.org/reference/behavior-considered-undefined.html">undefined behavior</a>.</p>
<h3 id="example-26"><a class="header" href="#example-26">Example</a></h3>
<pre><code class="language-rust compile_fail">unsafe {
    let y = std::mem::transmute::&lt;&amp;i32, &amp;mut i32&gt;(&amp;5);
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: transmuting &amp;T to &amp;mut T is undefined behavior, even if the reference is unused, consider instead using an UnsafeCell
 --&gt; lint_example.rs:3:13
  |
3 |     let y = std::mem::transmute::&lt;&amp;i32, &amp;mut i32&gt;(&amp;5);
  |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[deny(mutable_transmutes)]` on by default

</code></pre>
<h3 id="explanation-26"><a class="header" href="#explanation-26">Explanation</a></h3>
<p>Certain assumptions are made about aliasing of data, and this transmute
violates those assumptions. Consider using <a href="https://doc.rust-lang.org/std/cell/struct.UnsafeCell.html"><code>UnsafeCell</code></a> instead.</p>
<h2 id="named-asm-labels"><a class="header" href="#named-asm-labels">named-asm-labels</a></h2>
<p>The <code>named_asm_labels</code> lint detects the use of named labels in the
inline <code>asm!</code> macro.</p>
<h3 id="example-27"><a class="header" href="#example-27">Example</a></h3>
<pre><code class="language-rust compile_fail"><span class="boring">#![feature(asm_experimental_arch)]
</span>use std::arch::asm;

fn main() {
    unsafe {
        asm!("foo: bar");
    }
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: avoid using named labels in inline assembly
 --&gt; lint_example.rs:6:15
  |
6 |         asm!("foo: bar");
  |               ^^^
  |
  = help: only local labels of the form `&lt;number&gt;:` should be used in inline asm
  = note: see the asm section of Rust By Example &lt;https://doc.rust-lang.org/nightly/rust-by-example/unsafe/asm.html#labels&gt; for more information
  = note: `#[deny(named_asm_labels)]` on by default

</code></pre>
<h3 id="explanation-27"><a class="header" href="#explanation-27">Explanation</a></h3>
<p>LLVM is allowed to duplicate inline assembly blocks for any
reason, for example when it is in a function that gets inlined. Because
of this, GNU assembler <a href="https://sourceware.org/binutils/docs/as/Symbol-Names.html#Local-Labels">local labels</a> <em>must</em> be used instead of labels
with a name. Using named labels might cause assembler or linker errors.</p>
<p>See the explanation in <a href="https://doc.rust-lang.org/nightly/rust-by-example/unsafe/asm.html#labels">Rust By Example</a> for more details.</p>
<h2 id="never-type-fallback-flowing-into-unsafe"><a class="header" href="#never-type-fallback-flowing-into-unsafe">never-type-fallback-flowing-into-unsafe</a></h2>
<p>The <code>never_type_fallback_flowing_into_unsafe</code> lint detects cases where never type fallback
affects unsafe function calls.</p>
<h3 id="never-type-fallback"><a class="header" href="#never-type-fallback">Never type fallback</a></h3>
<p>When the compiler sees a value of type <a href="https://doc.rust-lang.org/core/primitive.never.html"><code>!</code></a> it implicitly inserts a coercion (if possible),
to allow type check to infer any type:</p>
<pre><code class="language-ignore (illustrative-and-has-placeholders)">// this
let x: u8 = panic!();

// is (essentially) turned by the compiler into
let x: u8 = absurd(panic!());

// where absurd is a function with the following signature
// (it's sound, because `!` always marks unreachable code):
fn absurd&lt;T&gt;(never: !) -&gt; T { ... }
</code></pre>
<p>While it’s convenient to be able to use non-diverging code in one of the branches (like
<code>if a { b } else { return }</code>) this could lead to compilation errors:</p>
<pre><code class="language-compile_fail">// this
{ panic!() };

// gets turned into this
{ absurd(panic!()) }; // error: can't infer the type of `absurd`
</code></pre>
<p>To prevent such errors, compiler remembers where it inserted <code>absurd</code> calls, and if it
can’t infer their type, it sets the type to fallback. <code>{ absurd::&lt;Fallback&gt;(panic!()) };</code>.
This is what is known as “never type fallback”.</p>
<h3 id="example-28"><a class="header" href="#example-28">Example</a></h3>
<pre><code class="language-rust compile_fail">fn main() {
    if true {
        // return has type `!` which, is some cases, causes never type fallback
        return
    } else {
        // `zeroed` is an unsafe function, which returns an unbounded type
        unsafe { std::mem::zeroed() }
    };
    // depending on the fallback, `zeroed` may create `()` (which is completely sound),
    // or `!` (which is instant undefined behavior)
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: never type fallback affects this call to an `unsafe` function
 --&gt; lint_example.rs:7:18
  |
7 |         unsafe { std::mem::zeroed() }
  |                  ^^^^^^^^^^^^^^^^^^
  |
  = warning: this changes meaning in Rust 2024 and in a future release in all editions!
  = note: for more information, see &lt;https://doc.rust-lang.org/edition-guide/rust-2024/never-type-fallback.html&gt;
  = help: specify the type explicitly
  = note: `#[deny(never_type_fallback_flowing_into_unsafe)]` (part of `#[deny(rust_2024_compatibility)]`) on by default
help: use `()` annotations to avoid fallback changes
  |
7 |         unsafe { std::mem::zeroed::&lt;()&gt;() }
  |                                  ++++++

</code></pre>
<h3 id="explanation-28"><a class="header" href="#explanation-28">Explanation</a></h3>
<p>Due to historic reasons never type fallback was <code>()</code>, meaning that <code>!</code> got spontaneously
coerced to <code>()</code>. There are plans to change that, but they may make the code such as above
unsound. Instead of depending on the fallback, you should specify the type explicitly:</p>
<pre><code>if true {
    return
} else {
    // type is explicitly specified, fallback can't hurt us no more
    unsafe { std::mem::zeroed::&lt;()&gt;() }
};
</code></pre>
<p>See <a href="https://github.com/rust-lang/rust/issues/123748">Tracking Issue for making <code>!</code> fall back to <code>!</code></a>.</p>
<h2 id="no-mangle-const-items"><a class="header" href="#no-mangle-const-items">no-mangle-const-items</a></h2>
<p>The <code>no_mangle_const_items</code> lint detects any <code>const</code> items with the
<a href="https://doc.rust-lang.org/reference/abi.html#the-no_mangle-attribute"><code>no_mangle</code> attribute</a>.</p>
<h3 id="example-29"><a class="header" href="#example-29">Example</a></h3>
<pre><code class="language-rust compile_fail edition2021">#[no_mangle]
const FOO: i32 = 5;</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: const items should never be `#[no_mangle]`
 --&gt; lint_example.rs:3:1
  |
3 | const FOO: i32 = 5;
  | ------^^^^^^^^^^^^^
  | |
  | help: try a static value: `pub static`
  |
  = note: `#[deny(no_mangle_const_items)]` on by default

</code></pre>
<h3 id="explanation-29"><a class="header" href="#explanation-29">Explanation</a></h3>
<p>Constants do not have their symbols exported, and therefore, this
probably means you meant to use a <a href="https://doc.rust-lang.org/reference/items/static-items.html"><code>static</code></a>, not a <a href="https://doc.rust-lang.org/reference/items/constant-items.html"><code>const</code></a>.</p>
<h2 id="out-of-scope-macro-calls"><a class="header" href="#out-of-scope-macro-calls">out-of-scope-macro-calls</a></h2>
<p>The <code>out_of_scope_macro_calls</code> lint detects <code>macro_rules</code> called when they are not in scope,
above their definition, which may happen in key-value attributes.</p>
<h3 id="example-30"><a class="header" href="#example-30">Example</a></h3>
<pre><code class="language-rust compile_fail">#![doc = in_root!()]

macro_rules! in_root { () =&gt; { "" } }

fn main() {}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: cannot find macro `in_root` in the current scope when looking from the crate root
 --&gt; lint_example.rs:1:10
  |
1 | #![doc = in_root!()]
  |          ^^^^^^^ not found from the crate root
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #124535 &lt;https://github.com/rust-lang/rust/issues/124535&gt;
  = help: import `macro_rules` with `use` to make it callable above its definition
  = note: `#[deny(out_of_scope_macro_calls)]` (part of `#[deny(future_incompatible)]`) on by default

</code></pre>
<h3 id="explanation-30"><a class="header" href="#explanation-30">Explanation</a></h3>
<p>The scope in which a <code>macro_rules</code> item is visible starts at that item and continues
below it. This is more similar to <code>let</code> than to other items, which are in scope both above
and below their definition.
Due to a bug <code>macro_rules</code> were accidentally in scope inside some key-value attributes
above their definition. The lint catches such cases.
To address the issue turn the <code>macro_rules</code> into a regularly scoped item by importing it
with <code>use</code>.</p>
<p>This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a
hard error in the future.</p>
<h2 id="overflowing-literals"><a class="header" href="#overflowing-literals">overflowing-literals</a></h2>
<p>The <code>overflowing_literals</code> lint detects literals out of range for their type.</p>
<h3 id="example-31"><a class="header" href="#example-31">Example</a></h3>
<pre><code class="language-rust compile_fail">let x: u8 = 1000;</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: literal out of range for `u8`
 --&gt; lint_example.rs:2:13
  |
2 | let x: u8 = 1000;
  |             ^^^^
  |
  = note: the literal `1000` does not fit into the type `u8` whose range is `0..=255`
  = note: `#[deny(overflowing_literals)]` on by default

</code></pre>
<h3 id="explanation-31"><a class="header" href="#explanation-31">Explanation</a></h3>
<p>It is usually a mistake to use a literal that overflows its type
Change either the literal or its type such that the literal is
within the range of its type.</p>
<h2 id="patterns-in-fns-without-body"><a class="header" href="#patterns-in-fns-without-body">patterns-in-fns-without-body</a></h2>
<p>The <code>patterns_in_fns_without_body</code> lint detects <code>mut</code> identifier
patterns as a parameter in functions without a body.</p>
<h3 id="example-32"><a class="header" href="#example-32">Example</a></h3>
<pre><code class="language-rust compile_fail">trait Trait {
    fn foo(mut arg: u8);
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: patterns aren't allowed in functions without bodies
 --&gt; lint_example.rs:3:12
  |
3 |     fn foo(mut arg: u8);
  |            ^^^^^^^ help: remove `mut` from the parameter: `arg`
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #35203 &lt;https://github.com/rust-lang/rust/issues/35203&gt;
  = note: `#[deny(patterns_in_fns_without_body)]` (part of `#[deny(future_incompatible)]`) on by default

</code></pre>
<h3 id="explanation-32"><a class="header" href="#explanation-32">Explanation</a></h3>
<p>To fix this, remove <code>mut</code> from the parameter in the trait definition;
it can be used in the implementation. That is, the following is OK:</p>
<pre><code class="language-rust">trait Trait {
    fn foo(arg: u8); // Removed `mut` here
}

impl Trait for i32 {
    fn foo(mut arg: u8) { // `mut` here is OK

    }
}</code></pre>
<p>Trait definitions can define functions without a body to specify a
function that implementors must define. The parameter names in the
body-less functions are only allowed to be <code>_</code> or an <a href="https://doc.rust-lang.org/reference/identifiers.html">identifier</a> for
documentation purposes (only the type is relevant). Previous versions
of the compiler erroneously allowed <a href="https://doc.rust-lang.org/reference/patterns.html#identifier-patterns">identifier patterns</a> with the
<code>mut</code> keyword, but this was not intended to be allowed. This is a
<a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a hard error in the
future. See <a href="https://github.com/rust-lang/rust/issues/35203">issue #35203</a> for more details.</p>
<h2 id="private-macro-use"><a class="header" href="#private-macro-use">private-macro-use</a></h2>
<p>The <code>private_macro_use</code> lint detects private macros that are imported
with <code>#[macro_use]</code>.</p>
<h3 id="example-33"><a class="header" href="#example-33">Example</a></h3>
<pre><code class="language-rust ignore (needs extern crate)">// extern_macro.rs
macro_rules! foo_ { () =&gt; {}; }
use foo_ as foo;

// code.rs

#![deny(private_macro_use)]

#[macro_use]
extern crate extern_macro;

fn main() {
    foo!();
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: cannot find macro `foo` in this scope
</code></pre>
<h3 id="explanation-33"><a class="header" href="#explanation-33">Explanation</a></h3>
<p>This lint arises from overlooking visibility checks for macros
in an external crate.</p>
<p>This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a
hard error in the future.</p>
<h2 id="proc-macro-derive-resolution-fallback"><a class="header" href="#proc-macro-derive-resolution-fallback">proc-macro-derive-resolution-fallback</a></h2>
<p>The <code>proc_macro_derive_resolution_fallback</code> lint detects proc macro
derives using inaccessible names from parent modules.</p>
<h3 id="example-34"><a class="header" href="#example-34">Example</a></h3>
<pre><code class="language-rust ignore (proc-macro)">// foo.rs
#![crate_type = "proc-macro"]

extern crate proc_macro;

use proc_macro::*;

#[proc_macro_derive(Foo)]
pub fn foo1(a: TokenStream) -&gt; TokenStream {
    drop(a);
    "mod __bar { static mut BAR: Option&lt;Something&gt; = None; }".parse().unwrap()
}</code></pre>
<pre><code class="language-rust ignore (needs-dependency)">// bar.rs
#[macro_use]
extern crate foo;

struct Something;

#[derive(Foo)]
struct Another;

fn main() {}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">warning: cannot find type `Something` in this scope
 --&gt; src/main.rs:8:10
  |
8 | #[derive(Foo)]
  |          ^^^ names from parent modules are not accessible without an explicit import
  |
  = note: `#[warn(proc_macro_derive_resolution_fallback)]` on by default
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #50504 &lt;https://github.com/rust-lang/rust/issues/50504&gt;
</code></pre>
<h3 id="explanation-34"><a class="header" href="#explanation-34">Explanation</a></h3>
<p>If a proc-macro generates a module, the compiler unintentionally
allowed items in that module to refer to items in the crate root
without importing them. This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to
transition this to a hard error in the future. See <a href="https://github.com/rust-lang/rust/issues/50504">issue #50504</a> for
more details.</p>
<h2 id="pub-use-of-private-extern-crate"><a class="header" href="#pub-use-of-private-extern-crate">pub-use-of-private-extern-crate</a></h2>
<p>The <code>pub_use_of_private_extern_crate</code> lint detects a specific
situation of re-exporting a private <code>extern crate</code>.</p>
<h3 id="example-35"><a class="header" href="#example-35">Example</a></h3>
<pre><code class="language-rust compile_fail">extern crate core;
pub use core as reexported_core;</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error[E0365]: extern crate `core` is private and cannot be re-exported
 --&gt; lint_example.rs:3:9
  |
3 | pub use core as reexported_core;
  |         ^^^^^^^^^^^^^^^^^^^^^^^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #127909 &lt;https://github.com/rust-lang/rust/issues/127909&gt;
  = note: `#[deny(pub_use_of_private_extern_crate)]` (part of `#[deny(future_incompatible)]`) on by default
help: consider making the `extern crate` item publicly accessible
  |
2 | pub extern crate core;
  | +++

</code></pre>
<h3 id="explanation-35"><a class="header" href="#explanation-35">Explanation</a></h3>
<p>A public <code>use</code> declaration should not be used to publically re-export a
private <code>extern crate</code>. <code>pub extern crate</code> should be used instead.</p>
<p>This was historically allowed, but is not the intended behavior
according to the visibility rules. This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a>
lint to transition this to a hard error in the future. See <a href="https://github.com/rust-lang/rust/issues/127909">issue
#127909</a> for more details.</p>
<h2 id="repr-transparent-non-zst-fields"><a class="header" href="#repr-transparent-non-zst-fields">repr-transparent-non-zst-fields</a></h2>
<p>The <code>repr_transparent_non_zst_fields</code> lint
detects types marked <code>#[repr(transparent)]</code> that (transitively)
contain a type that is not guaranteed to remain a ZST type under all configurations.</p>
<h3 id="example-36"><a class="header" href="#example-36">Example</a></h3>
<pre><code class="language-rust ignore (needs external crate)">#![deny(repr_transparent_external_private_fields)]
use foo::NonExhaustiveZst;

#[repr(C)]
struct CZst([u8; 0]);

#[repr(transparent)]
struct Bar(u32, ([u32; 0], NonExhaustiveZst));
#[repr(transparent)]
struct Baz(u32, CZst);</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: zero-sized fields in repr(transparent) cannot contain external non-exhaustive types
 --&gt; src/main.rs:5:28
  |
5 | struct Bar(u32, ([u32; 0], NonExhaustiveZst));
  |                            ^^^^^^^^^^^^^^^^
  |
note: the lint level is defined here
 --&gt; src/main.rs:1:9
  |
1 | #![deny(repr_transparent_external_private_fields)]
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #78586 &lt;https://github.com/rust-lang/rust/issues/78586&gt;
  = note: this field contains `NonExhaustiveZst`, which is marked with `#[non_exhaustive]`, so it could become non-zero-sized in the future.

error: zero-sized fields in repr(transparent) cannot contain `#[repr(C)]` types
 --&gt; src/main.rs:5:28
  |
5 | struct Baz(u32, CZst);
  |                 ^^^^
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #78586 &lt;https://github.com/rust-lang/rust/issues/78586&gt;
  = note: this field contains `CZst`, which is a `#[repr(C)]` type, so it is not guaranteed to be zero-sized on all targets.
</code></pre>
<h3 id="explanation-36"><a class="header" href="#explanation-36">Explanation</a></h3>
<p>Previous, Rust accepted fields that contain external private zero-sized types, even though
those types could gain a non-zero-sized field in a future, semver-compatible update.</p>
<p>Rust also accepted fields that contain <code>repr(C)</code> zero-sized types, even though those types
are not guaranteed to be zero-sized on all targets, and even though those types can
make a difference for the ABI (and therefore cannot be ignored by <code>repr(transparent)</code>).</p>
<p>This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this
to a hard error in the future. See <a href="https://github.com/rust-lang/rust/issues/78586">issue #78586</a> for more details.</p>
<h2 id="semicolon-in-expressions-from-macros"><a class="header" href="#semicolon-in-expressions-from-macros">semicolon-in-expressions-from-macros</a></h2>
<p>The <code>semicolon_in_expressions_from_macros</code> lint detects trailing semicolons
in macro bodies when the macro is invoked in expression position.
This was previous accepted, but is being phased out.</p>
<h3 id="example-37"><a class="header" href="#example-37">Example</a></h3>
<pre><code class="language-rust compile_fail">#![deny(semicolon_in_expressions_from_macros)]
macro_rules! foo {
    () =&gt; { true; }
}

fn main() {
    let val = match true {
        true =&gt; false,
        _ =&gt; foo!()
    };
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: trailing semicolon in macro used in expression position
 --&gt; lint_example.rs:3:17
  |
3 |     () =&gt; { true; }
  |                 ^
...
9 |         _ =&gt; foo!()
  |              ------ in this macro invocation
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = note: for more information, see issue #79813 &lt;https://github.com/rust-lang/rust/issues/79813&gt;
note: the lint level is defined here
 --&gt; lint_example.rs:1:9
  |
1 | #![deny(semicolon_in_expressions_from_macros)]
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  = note: this error originates in the macro `foo` (in Nightly builds, run with -Z macro-backtrace for more info)

</code></pre>
<h3 id="explanation-37"><a class="header" href="#explanation-37">Explanation</a></h3>
<p>Previous, Rust ignored trailing semicolon in a macro
body when a macro was invoked in expression position.
However, this makes the treatment of semicolons in the language
inconsistent, and could lead to unexpected runtime behavior
in some circumstances (e.g. if the macro author expects
a value to be dropped).</p>
<p>This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this
to a hard error in the future. See <a href="https://github.com/rust-lang/rust/issues/79813">issue #79813</a> for more details.</p>
<h2 id="soft-unstable"><a class="header" href="#soft-unstable">soft-unstable</a></h2>
<p>The <code>soft_unstable</code> lint detects unstable features that were unintentionally allowed on
stable. This is a <a href="../index.html#future-incompatible-lints">future-incompatible</a> lint to transition this to a hard error in the
future. See <a href="https://github.com/rust-lang/rust/issues/64266">issue #64266</a> for more details.</p>
<h2 id="test-unstable-lint"><a class="header" href="#test-unstable-lint">test-unstable-lint</a></h2>
<p>The <code>test_unstable_lint</code> lint tests unstable lints and is perma-unstable.</p>
<h3 id="example-38"><a class="header" href="#example-38">Example</a></h3>
<pre><code class="language-rust">// This lint is intentionally used to test the compiler's behavior
// when an unstable lint is enabled without the corresponding feature gate.
#![allow(test_unstable_lint)]</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">warning: unknown lint: `test_unstable_lint`
 --&gt; lint_example.rs:4:10
  |
4 | #![allow(test_unstable_lint)]
  |          ^^^^^^^^^^^^^^^^^^
  |
  = note: the `test_unstable_lint` lint is unstable
  = help: add `#![feature(test_unstable_lint)]` to the crate attributes to enable
  = note: this compiler was built on 2026-01-25; consider upgrading it if it is out of date
  = note: `#[warn(unknown_lints)]` on by default

</code></pre>
<h3 id="explanation-38"><a class="header" href="#explanation-38">Explanation</a></h3>
<p>In order to test the behavior of unstable lints, a permanently-unstable
lint is required. This lint can be used to trigger warnings and errors
from the compiler related to unstable lints.</p>
<h2 id="text-direction-codepoint-in-comment"><a class="header" href="#text-direction-codepoint-in-comment">text-direction-codepoint-in-comment</a></h2>
<p>The <code>text_direction_codepoint_in_comment</code> lint detects Unicode codepoints in comments that
change the visual representation of text on screen in a way that does not correspond to
their on memory representation.</p>
<h3 id="example-39"><a class="header" href="#example-39">Example</a></h3>
<pre><code class="language-rust compile_fail">#![deny(text_direction_codepoint_in_comment)]
fn main() {
    println!("{:?}"); // '‮');
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: unicode codepoint changing visible direction of text present in comment
 --&gt; lint_example.rs:3:23
  |
3 |     println!("{:?}"); // '�');
  |                       ^^^^-^^^
  |                       |   |
  |                       |   '\u{202e}'
  |                       this comment contains an invisible unicode text flow control codepoint
  |
  = note: these kind of unicode codepoints change the way text flows on applications that support them, but can cause confusion because they change the order of characters on the screen
note: the lint level is defined here
 --&gt; lint_example.rs:1:9
  |
1 | #![deny(text_direction_codepoint_in_comment)]
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  = help: if their presence wasn't intentional, you can remove them

</code></pre>
<h3 id="explanation-39"><a class="header" href="#explanation-39">Explanation</a></h3>
<p>Unicode allows changing the visual flow of text on screen in order to support scripts that
are written right-to-left, but a specially crafted comment can make code that will be
compiled appear to be part of a comment, depending on the software used to read the code.
To avoid potential problems or confusion, such as in CVE-2021-42574, by default we deny
their use.</p>
<h2 id="text-direction-codepoint-in-literal"><a class="header" href="#text-direction-codepoint-in-literal">text-direction-codepoint-in-literal</a></h2>
<p>The <code>text_direction_codepoint_in_literal</code> lint detects Unicode codepoints that change the
visual representation of text on screen in a way that does not correspond to their on
memory representation.</p>
<h3 id="explanation-40"><a class="header" href="#explanation-40">Explanation</a></h3>
<p>The unicode characters <code>\u{202A}</code>, <code>\u{202B}</code>, <code>\u{202D}</code>, <code>\u{202E}</code>, <code>\u{2066}</code>,
<code>\u{2067}</code>, <code>\u{2068}</code>, <code>\u{202C}</code> and <code>\u{2069}</code> make the flow of text on screen change
its direction on software that supports these codepoints. This makes the text “abc” display
as “cba” on screen. By leveraging software that supports these, people can write specially
crafted literals that make the surrounding code seem like it’s performing one action, when
in reality it is performing another. Because of this, we proactively lint against their
presence to avoid surprises.</p>
<h3 id="example-40"><a class="header" href="#example-40">Example</a></h3>
<pre><code class="language-rust compile_fail">#![deny(text_direction_codepoint_in_literal)]
fn main() {
    println!("{:?}", '‮');
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: unicode codepoint changing visible direction of text present in literal
 --&gt; lint_example.rs:3:22
  |
3 |     println!("{:?}", '�');
  |                      ^-^
  |                      ||
  |                      |'\u{202e}'
  |                      this literal contains an invisible unicode text flow control codepoint
  |
  = note: these kind of unicode codepoints change the way text flows on applications that support them, but can cause confusion because they change the order of characters on the screen
note: the lint level is defined here
 --&gt; lint_example.rs:1:9
  |
1 | #![deny(text_direction_codepoint_in_literal)]
  |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  = help: if their presence wasn't intentional, you can remove them
help: if you want to keep them but make them visible in your source code, you can escape them
  |
3 -     println!("{:?}", '�');
3 +     println!("{:?}", '\u{202e}');
  |

</code></pre>
<h2 id="unconditional-panic"><a class="header" href="#unconditional-panic">unconditional-panic</a></h2>
<p>The <code>unconditional_panic</code> lint detects an operation that will cause a
panic at runtime.</p>
<h3 id="example-41"><a class="header" href="#example-41">Example</a></h3>
<pre><code class="language-rust compile_fail"><span class="boring">#![allow(unused)]
</span>let x = 1 / 0;</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: this operation will panic at runtime
 --&gt; lint_example.rs:3:9
  |
3 | let x = 1 / 0;
  |         ^^^^^ attempt to divide `1_i32` by zero
  |
  = note: `#[deny(unconditional_panic)]` on by default

</code></pre>
<h3 id="explanation-41"><a class="header" href="#explanation-41">Explanation</a></h3>
<p>This lint detects code that is very likely incorrect because it will
always panic, such as division by zero and out-of-bounds array
accesses. Consider adjusting your code if this is a bug, or using the
<code>panic!</code> or <code>unreachable!</code> macro instead in case the panic is intended.</p>
<h2 id="undropped-manually-drops"><a class="header" href="#undropped-manually-drops">undropped-manually-drops</a></h2>
<p>The <code>undropped_manually_drops</code> lint check for calls to <code>std::mem::drop</code> with
a value of <code>std::mem::ManuallyDrop</code> which doesn’t drop.</p>
<h3 id="example-42"><a class="header" href="#example-42">Example</a></h3>
<pre><code class="language-rust compile_fail">struct S;
drop(std::mem::ManuallyDrop::new(S));</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: calls to `std::mem::drop` with `std::mem::ManuallyDrop` instead of the inner value does nothing
 --&gt; lint_example.rs:3:1
  |
3 | drop(std::mem::ManuallyDrop::new(S));
  | ^^^^^------------------------------^
  |      |
  |      argument has type `ManuallyDrop&lt;S&gt;`
  |
  = note: `#[deny(undropped_manually_drops)]` on by default
help: use `std::mem::ManuallyDrop::into_inner` to get the inner value
  |
3 | drop(std::mem::ManuallyDrop::into_inner(std::mem::ManuallyDrop::new(S)));
  |      +++++++++++++++++++++++++++++++++++                              +

</code></pre>
<h3 id="explanation-42"><a class="header" href="#explanation-42">Explanation</a></h3>
<p><code>ManuallyDrop</code> does not drop it’s inner value so calling <code>std::mem::drop</code> will
not drop the inner value of the <code>ManuallyDrop</code> either.</p>
<h2 id="unknown-crate-types"><a class="header" href="#unknown-crate-types">unknown-crate-types</a></h2>
<p>The <code>unknown_crate_types</code> lint detects an unknown crate type found in
a <a href="https://doc.rust-lang.org/reference/linkage.html"><code>crate_type</code> attribute</a>.</p>
<h3 id="example-43"><a class="header" href="#example-43">Example</a></h3>
<pre><code class="language-rust compile_fail">#![crate_type="lol"]
fn main() {}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: invalid `crate_type` value
 --&gt; lint_example.rs:1:15
  |
1 | #![crate_type="lol"]
  |               ^^^^^
  |
  = note: `#[deny(unknown_crate_types)]` on by default

</code></pre>
<h3 id="explanation-43"><a class="header" href="#explanation-43">Explanation</a></h3>
<p>An unknown value give to the <code>crate_type</code> attribute is almost
certainly a mistake.</p>
<h2 id="useless-deprecated"><a class="header" href="#useless-deprecated">useless-deprecated</a></h2>
<p>The <code>useless_deprecated</code> lint detects deprecation attributes with no effect.</p>
<h3 id="example-44"><a class="header" href="#example-44">Example</a></h3>
<pre><code class="language-rust compile_fail">struct X;

#[deprecated = "message"]
impl Default for X {
    fn default() -&gt; Self {
        X
    }
}</code></pre>
<p>This will produce:</p>
<pre><code class="language-text">error: `#[deprecated]` attribute cannot be used on trait impl blocks
 --&gt; lint_example.rs:4:1
  |
4 | #[deprecated = "message"]
  | ^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
  = help: `#[deprecated]` can be applied to associated consts, associated types, constants, crates, data types, enum variants, foreign statics, functions, inherent impl blocks, macro defs, modules, statics, struct fields, traits, type aliases, unions, and use statements
  = note: `#[deny(useless_deprecated)]` on by default

</code></pre>
<h3 id="explanation-44"><a class="header" href="#explanation-44">Explanation</a></h3>
<p>Deprecation attributes have no effect on trait implementations.</p>
<script>
document.addEventListener("DOMContentLoaded", (event) => {
    var fragments = {
        "#exceeding-bitshifts": "deny-by-default.html#arithmetic-overflow",
};
    var target = fragments[window.location.hash];
    if (target) {
        var url = window.location.toString();
        var base = url.substring(0, url.lastIndexOf('/'));
        window.location.replace(base + "/" + target);
    }
});
</script>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../lints/listing/warn-by-default.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../../json.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../lints/listing/warn-by-default.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../../json.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../../mark-09e88c2c.min.js"></script>
        <script src="../../searcher-c2a407aa.js"></script>

        <script src="../../clipboard-1626706a.min.js"></script>
        <script src="../../highlight-abc7f01d.js"></script>
        <script src="../../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
