<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Codegen Options - The rustc book</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-65f7077a.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-46ab57f5.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The rustc book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rust/tree/HEAD/src/doc/rustc" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/rust/edit/main/src/doc/rustc/src/codegen-options/index.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="codegen-options"><a class="header" href="#codegen-options">Codegen Options</a></h1>
<p>All of these options are passed to <code>rustc</code> via the <code>-C</code> flag, short for “codegen.” You can see
a version of this list for your exact compiler by running <code>rustc -C help</code>.</p>
<h2 id="ar"><a class="header" href="#ar">ar</a></h2>
<p>This option is deprecated and does nothing.</p>
<h2 id="code-model"><a class="header" href="#code-model">code-model</a></h2>
<p>This option lets you choose which code model to use. <br>Code models put constraints on address ranges that the program and its symbols may use. <br>With smaller address ranges machine instructions
may be able to use more compact addressing modes.</p>
<p>The specific ranges depend on target architectures and addressing modes available to them. <br>For x86 more detailed description of its code models can be found in
<a href="https://github.com/hjl-tools/x86-psABI/wiki/x86-64-psABI-1.0.pdf">System V Application Binary Interface</a>
specification.</p>
<p>Supported values for this option are:</p>
<ul>
<li><code>tiny</code> - Tiny code model.</li>
<li><code>small</code> - Small code model. This is the default model for majority of supported targets.</li>
<li><code>kernel</code> - Kernel code model.</li>
<li><code>medium</code> - Medium code model.</li>
<li><code>large</code> - Large code model.</li>
</ul>
<p>Supported values can also be discovered by running <code>rustc --print code-models</code>.</p>
<h2 id="codegen-units"><a class="header" href="#codegen-units">codegen-units</a></h2>
<p>This flag controls the maximum number of code generation units the crate is
split into. It takes an integer greater than 0.</p>
<p>When a crate is split into multiple codegen units, LLVM is able to process
them in parallel. Increasing parallelism may speed up compile times, but may
also produce slower code. Setting this to 1 may improve the performance of
generated code, but may be slower to compile.</p>
<p>The default value, if not specified, is 16 for non-incremental builds. For
incremental builds the default is 256 which allows caching to be more granular.</p>
<h2 id="collapse-macro-debuginfo"><a class="header" href="#collapse-macro-debuginfo">collapse-macro-debuginfo</a></h2>
<p>This flag controls whether code locations from a macro definition are collapsed into a single
location associated with that macro’s call site, when generating debuginfo for this crate.</p>
<p>This option, if passed, overrides both default collapsing behavior and <code>#[collapse_debuginfo]</code>
attributes in code.</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code>: collapse code locations in debuginfo.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: do not collapse code locations in debuginfo.</li>
<li><code>external</code>: collapse code locations in debuginfo only if the macro comes from a different crate.</li>
</ul>
<h2 id="control-flow-guard"><a class="header" href="#control-flow-guard">control-flow-guard</a></h2>
<p>This flag controls whether LLVM enables the Windows <a href="https://docs.microsoft.com/en-us/windows/win32/secbp/control-flow-guard">Control Flow
Guard</a>
platform security feature. This flag is currently ignored for non-Windows targets.
It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code>, <code>checks</code>, or no value: enable Control Flow Guard.</li>
<li><code>nochecks</code>: emit Control Flow Guard metadata without runtime enforcement checks (this
should only be used for testing purposes as it does not provide security enforcement).</li>
<li><code>n</code>, <code>no</code>, <code>off</code>, <code>false</code>: do not enable Control Flow Guard (the default).</li>
</ul>
<h2 id="debug-assertions"><a class="header" href="#debug-assertions">debug-assertions</a></h2>
<p>This flag lets you turn <code>cfg(debug_assertions)</code> <a href="../../reference/conditional-compilation.html#debug_assertions">conditional
compilation</a> on
or off. It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code>, or no value: enable debug-assertions.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: disable debug-assertions.</li>
</ul>
<p>If not specified, debug assertions are automatically enabled only if the
<a href="#opt-level">opt-level</a> is 0.</p>
<h2 id="debuginfo"><a class="header" href="#debuginfo">debuginfo</a></h2>
<p>This flag controls the generation of debug information. It takes one of the
following values:</p>
<ul>
<li><code>0</code> or <code>none</code>: no debug info at all (the default).</li>
<li><code>line-directives-only</code>: line info directives only. For the nvptx* targets this enables <a href="https://reviews.llvm.org/D46061">profiling</a>. For other use cases, <code>line-tables-only</code> is the better, more compatible choice.</li>
<li><code>line-tables-only</code>: line tables only. Generates the minimal amount of debug info for backtraces with filename/line number info, but not anything else, i.e. no variable or function parameter info.</li>
<li><code>1</code> or <code>limited</code>: debug info without type or variable-level information.</li>
<li><code>2</code> or <code>full</code>: full debug info.</li>
</ul>
<p>Note: The <a href="../command-line-arguments.html#option-g-debug"><code>-g</code> flag</a> is an alias for <code>-C debuginfo=2</code>.</p>
<h2 id="default-linker-libraries"><a class="header" href="#default-linker-libraries">default-linker-libraries</a></h2>
<p>This flag controls whether or not the linker includes its default libraries.
It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code>: include default libraries.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code> or no value: exclude default libraries (the default).</li>
</ul>
<p>For example, for gcc flavor linkers, this issues the <code>-nodefaultlibs</code> flag to
the linker.</p>
<h2 id="dlltool"><a class="header" href="#dlltool">dlltool</a></h2>
<p>On <code>windows-gnu</code> targets, this flag controls which dlltool <code>rustc</code> invokes to
generate import libraries when using the <a href="../../reference/items/external-blocks.html#the-link-attribute"><code>raw-dylib</code> link kind</a>.
It takes a path to <a href="https://sourceware.org/binutils/docs/binutils/dlltool.html">the dlltool executable</a>.
If this flag is not specified, a dlltool executable will be inferred based on
the host environment and target.</p>
<h2 id="dwarf-version"><a class="header" href="#dwarf-version">dwarf-version</a></h2>
<p>This option controls the version of DWARF that the compiler emits, on platforms
that use DWARF to encode debug information. It takes one of the following
values:</p>
<ul>
<li><code>2</code>: DWARF version 2 (the default on certain platforms, like Android).</li>
<li><code>3</code>: DWARF version 3 (the default on certain platforms, like AIX).</li>
<li><code>4</code>: DWARF version 4 (the default on most platforms, like Linux &amp; macOS).</li>
<li><code>5</code>: DWARF version 5.</li>
</ul>
<p>DWARF version 1 is not supported.</p>
<h2 id="embed-bitcode"><a class="header" href="#embed-bitcode">embed-bitcode</a></h2>
<p>This flag controls whether or not the compiler embeds LLVM bitcode into object
files. It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: put bitcode in rlibs (the default).</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: omit bitcode from rlibs.</li>
</ul>
<p>LLVM bitcode is required when rustc is performing link-time optimization (LTO).
Embedded bitcode will appear in rustc-generated object files inside of a section
whose name is defined by the target platform. Most of the time this is <code>.llvmbc</code>.</p>
<p>The use of <code>-C embed-bitcode=no</code> can significantly improve compile times and
reduce generated file sizes if your compilation does not actually need bitcode
(e.g. if you’re not performing LTO). For these reasons, Cargo uses <code>-C embed-bitcode=no</code>
whenever possible. Likewise, if you are building directly with <code>rustc</code> we recommend
using <code>-C embed-bitcode=no</code> whenever you are not using LTO.</p>
<p>If combined with <code>-C lto</code>, <code>-C embed-bitcode=no</code> will cause <code>rustc</code> to abort
at start-up, because the combination is invalid.</p>
<blockquote>
<p><strong>Note</strong>: if you’re building Rust code with LTO then you probably don’t even
need the <code>embed-bitcode</code> option turned on. You’ll likely want to use
<code>-Clinker-plugin-lto</code> instead which skips generating object files entirely and
simply replaces object files with LLVM bitcode. The only purpose for
<code>-Cembed-bitcode</code> is when you’re generating an rlib that is both being used
with and without LTO. For example Rust’s standard library ships with embedded
bitcode since users link to it both with and without LTO.</p>
<p>This also may make you wonder why the default is <code>yes</code> for this option. The
reason for that is that it’s how it was for rustc 1.44 and prior. In 1.45 this
option was added to turn off what had always been the default.</p>
</blockquote>
<h2 id="extra-filename"><a class="header" href="#extra-filename">extra-filename</a></h2>
<p>This option allows you to put extra data in each output filename. It takes a
string to add as a suffix to the filename. See the <a href="../command-line-arguments.html#option-emit"><code>--emit</code>
flag</a> for more information.</p>
<h2 id="force-frame-pointers"><a class="header" href="#force-frame-pointers">force-frame-pointers</a></h2>
<p>This flag forces the use of frame pointers. It takes one of the following
values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: force-enable frame pointers.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: do not force-enable frame pointers. This does
not necessarily mean frame pointers will be removed.</li>
</ul>
<p>The default behaviour, if frame pointers are not force-enabled, depends on the
target.</p>
<h2 id="force-unwind-tables"><a class="header" href="#force-unwind-tables">force-unwind-tables</a></h2>
<p>This flag forces the generation of unwind tables. It takes one of the following
values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: Unwind tables are forced to be generated.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: Unwind tables are not forced to be generated. If unwind
tables are required by the target an error will be emitted.</li>
</ul>
<p>The default if not specified depends on the target.</p>
<h2 id="incremental"><a class="header" href="#incremental">incremental</a></h2>
<p>This flag allows you to enable incremental compilation, which allows <code>rustc</code>
to save information after compiling a crate to be reused when recompiling the
crate, improving re-compile times. This takes a path to a directory where
incremental files will be stored.</p>
<p>Using incremental compilation inhibits certain optimizations (for example by increasing the amount of codegen units) and is therefore not recommended for release builds.</p>
<h2 id="inline-threshold"><a class="header" href="#inline-threshold">inline-threshold</a></h2>
<p>This option is deprecated and does nothing.</p>
<p>Consider using <code>-Cllvm-args=--inline-threshold=...</code>.</p>
<h2 id="instrument-coverage"><a class="header" href="#instrument-coverage">instrument-coverage</a></h2>
<p>This option enables instrumentation-based code coverage support. See the
chapter on <a href="../instrument-coverage.html">instrumentation-based code coverage</a> for more information.</p>
<p>Note that while the <code>-C instrument-coverage</code> option is stable, the profile data
format produced by the resulting instrumentation may change, and may not work
with coverage tools other than those built and shipped with the compiler.</p>
<h2 id="jump-tables"><a class="header" href="#jump-tables">jump-tables</a></h2>
<p>This option is used to allow or prevent the LLVM codegen backend from creating
jump tables when lowering switches from Rust code.</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: allow jump tables (the default).</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: disable jump tables.</li>
</ul>
<p>To prevent jump tables being created from Rust code, a target must ensure
all crates are compiled with jump tables disabled.</p>
<p>Note, in many cases the Rust toolchain is distributed with precompiled
crates, such as the core and std crates, which could possibly include
jump tables. Furthermore, this option does not guarantee a target will
be free of jump tables. They could arise from external dependencies,
inline asm, or other complicated interactions when using crates which
are compiled with jump table support.</p>
<p>Disabling jump tables can be used to help provide protection against
jump-oriented-programming (JOP) attacks.</p>
<h2 id="link-arg"><a class="header" href="#link-arg">link-arg</a></h2>
<p>This flag lets you append a single extra argument to the linker invocation.</p>
<p>“Append” is significant; you can pass this flag multiple times to add multiple arguments.</p>
<p>On Unix-like targets that use <code>cc</code> as the linker driver, use <code>-Clink-arg=-Wl,$ARG</code> to pass an argument to the actual linker.</p>
<h2 id="link-args"><a class="header" href="#link-args">link-args</a></h2>
<p>This flag lets you append multiple extra arguments to the linker invocation. The
options should be separated by spaces.</p>
<h2 id="link-dead-code"><a class="header" href="#link-dead-code">link-dead-code</a></h2>
<p>Tries to generate and link dead code that would otherwise not be generated or
linked. It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: try to keep dead code.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: remove dead code (the default).</li>
</ul>
<p>This flag was historically used to help improve some older forms of code
coverage measurement. Its use is not recommended.</p>
<h2 id="link-self-contained"><a class="header" href="#link-self-contained">link-self-contained</a></h2>
<p>This flag controls whether the linker will use libraries and objects shipped with Rust instead of
those in the system.  It also controls which binary is used for the linker itself. This allows
overriding cases when detection fails or the user wants to use shipped libraries.</p>
<p>You can enable or disable the usage of any self-contained components using one of the following values:</p>
<ul>
<li>no value: rustc will use heuristic to disable self-contained mode if system has necessary tools.</li>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code>: use only libraries/objects shipped with Rust.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: rely on the user or the linker to provide non-Rust libraries/objects.</li>
</ul>
<p>It is also possible to enable or disable specific self-contained components in a more granular way.
You can pass a comma-separated list of self-contained components, individually enabled
(<code>+component</code>) or disabled (<code>-component</code>).</p>
<p>Currently, only the <code>linker</code> granular option is stabilized, and only on the <code>x86_64-unknown-linux-gnu</code> target:</p>
<ul>
<li><code>linker</code>: toggle the usage of self-contained linker binaries (linker, dlltool, and their necessary libraries)</li>
</ul>
<p>Note that only the <code>-linker</code> opt-out is stable on the <code>x86_64-unknown-linux-gnu</code> target: <code>+linker</code> is
already the default on this target.</p>
<h4 id="implementation-notes"><a class="header" href="#implementation-notes">Implementation notes</a></h4>
<p>On the <code>x86_64-unknown-linux-gnu</code> target, when using the default linker flavor (using <code>cc</code> as the
linker driver) and linker features (to try using <code>lld</code>), <code>rustc</code> will try to use the self-contained
linker by passing a <code>-B /path/to/sysroot/</code> link argument to the driver to find <code>rust-lld</code> in the
sysroot. For backwards-compatibility, and to limit name and <code>PATH</code> collisions, this is done using a
shim executable (the <code>lld-wrapper</code> tool) that forwards execution to the <code>rust-lld</code> executable itself.</p>
<h2 id="linker"><a class="header" href="#linker">linker</a></h2>
<p>This flag controls which linker <code>rustc</code> invokes to link your code. It takes a
path to the linker executable. If this flag is not specified, the linker will
be inferred based on the target. See also the <a href="#linker-flavor">linker-flavor</a>
flag for another way to specify the linker.</p>
<p>Note that on Unix-like targets (for example, <code>*-unknown-linux-gnu</code> or <code>*-unknown-freebsd</code>)
the C compiler (for example <code>cc</code> or <code>clang</code>) is used as the “linker” here, serving as a linker driver.
It will invoke the actual linker with all the necessary flags to be able to link against the system libraries like libc.</p>
<h2 id="linker-features"><a class="header" href="#linker-features">linker-features</a></h2>
<p>The <code>-Clinker-features</code> flag allows enabling or disabling specific features used during linking.</p>
<p>These feature flags are a flexible extension mechanism that is complementary to linker flavors,
designed to avoid the combinatorial explosion of having to create a new set of flavors for each
linker feature we’d want to use.</p>
<p>The flag accepts a comma-separated list of features, individually enabled (<code>+feature</code>) or disabled
(<code>-feature</code>).</p>
<p>Currently only one is stable, and only on the <code>x86_64-unknown-linux-gnu</code> target:</p>
<ul>
<li><code>lld</code>: to toggle trying to use the lld linker, either the system-installed binary, or the self-contained
<code>rust-lld</code> linker (via the <a href="#link-self-contained"><code>-Clink-self-contained=+linker</code></a> flag).</li>
</ul>
<p>For example, use:</p>
<ul>
<li><code>-Clinker-features=+lld</code> to opt into using the <code>lld</code> linker, when possible (see the Implementation notes below)</li>
<li><code>-Clinker-features=-lld</code> to opt out instead, for targets where it is configured as the default linker</li>
</ul>
<p>Note that only the <code>-lld</code> opt-out is stable on the <code>x86_64-unknown-linux-gnu</code> target: <code>+lld</code> is
already the default on this target.</p>
<h4 id="implementation-notes-1"><a class="header" href="#implementation-notes-1">Implementation notes</a></h4>
<p>On the <code>x86_64-unknown-linux-gnu</code> target, when using the default linker flavor (using <code>cc</code> as the
linker driver), <code>rustc</code> will try to use lld by passing a <code>-fuse-ld=lld</code> link argument to the driver.
<code>rustc</code> will also try to detect if that <em>causes</em> an error during linking (for example, if GCC is too
old to understand the flag, and returns an error) and will then retry linking without this argument,
as a fallback.</p>
<p>If the user <em>also</em> passes a <code>-Clink-arg=-fuse-ld=$value</code>, both will be given to the linker
driver but the user’s will be passed last, and would generally have priority over <code>rustc</code>’s.</p>
<h2 id="linker-flavor"><a class="header" href="#linker-flavor">linker-flavor</a></h2>
<p>This flag controls the linker flavor used by <code>rustc</code>. If a linker is given with
the <a href="#linker"><code>-C linker</code> flag</a>, then the linker flavor is inferred from the
value provided. If no linker is given then the linker flavor is used to
determine the linker to use. Every <code>rustc</code> target defaults to some linker
flavor. Valid options are:</p>
<ul>
<li><code>em</code>: use <a href="https://emscripten.org/docs/tools_reference/emcc.html">Emscripten <code>emcc</code></a>.</li>
<li><code>gcc</code>: use the <code>cc</code> executable, which is typically gcc or clang on many systems.</li>
<li><code>ld</code>: use the <code>ld</code> executable.</li>
<li><code>msvc</code>: use the <code>link.exe</code> executable from Microsoft Visual Studio MSVC.</li>
<li><code>wasm-ld</code>: use the <a href="https://lld.llvm.org/WebAssembly.html"><code>wasm-ld</code></a>
executable, a port of LLVM <code>lld</code> for WebAssembly.</li>
<li><code>ld64.lld</code>: use the LLVM <code>lld</code> executable with the <a href="https://releases.llvm.org/12.0.0/tools/lld/docs/Driver.html"><code>-flavor darwin</code>
flag</a> for Apple’s <code>ld</code>.</li>
<li><code>ld.lld</code>: use the LLVM <code>lld</code> executable with the <a href="https://releases.llvm.org/12.0.0/tools/lld/docs/Driver.html"><code>-flavor gnu</code>
flag</a> for GNU binutils’ <code>ld</code>.</li>
<li><code>lld-link</code>: use the LLVM <code>lld</code> executable with the <a href="https://releases.llvm.org/12.0.0/tools/lld/docs/Driver.html"><code>-flavor link</code>
flag</a> for Microsoft’s <code>link.exe</code>.</li>
</ul>
<h2 id="linker-plugin-lto"><a class="header" href="#linker-plugin-lto">linker-plugin-lto</a></h2>
<p>This flag defers LTO optimizations to the linker. See
<a href="../linker-plugin-lto.html">linker-plugin-LTO</a> for more details. It takes one of
the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: enable linker plugin LTO.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: disable linker plugin LTO (the default).</li>
<li>A path to the linker plugin.</li>
</ul>
<p>More specifically this flag will cause the compiler to replace its typical
object file output with LLVM bitcode files. For example an rlib produced with
<code>-Clinker-plugin-lto</code> will still have <code>*.o</code> files in it, but they’ll all be LLVM
bitcode instead of actual machine code. It is expected that the native platform
linker is capable of loading these LLVM bitcode files and generating code at
link time (typically after performing optimizations).</p>
<p>Note that rustc can also read its own object files produced with
<code>-Clinker-plugin-lto</code>. If an rlib is only ever going to get used later with a
<code>-Clto</code> compilation then you can pass <code>-Clinker-plugin-lto</code> to speed up
compilation and avoid generating object files that aren’t used.</p>
<h2 id="llvm-args"><a class="header" href="#llvm-args">llvm-args</a></h2>
<p>This flag can be used to pass a list of arguments directly to LLVM.</p>
<p>The list must be separated by spaces.</p>
<p>Pass <code>--help</code> to see a list of options.</p>
<div class="warning">
<p>Because this flag directly talks to LLVM, it is not subject to the usual stability guarantees of rustc’s CLI interface.</p>
</div>

<h2 id="lto"><a class="header" href="#lto">lto</a></h2>
<p>This flag controls whether LLVM uses <a href="https://llvm.org/docs/LinkTimeOptimization.html">link time
optimizations</a> to produce
better optimized code, using whole-program analysis, at the cost of longer
linking time. It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code>, <code>fat</code>, or no value: perform “fat” LTO which attempts to
perform optimizations across all crates within the dependency graph.</li>
<li><code>thin</code>: perform <a href="http://blog.llvm.org/2016/06/thinlto-scalable-and-incremental-lto.html">“thin”
LTO</a>.
This is similar to “fat”, but takes substantially less time to run while
still achieving performance gains similar to “fat”.
For larger projects like the Rust compiler, ThinLTO can even result in better performance than fat LTO.</li>
<li><code>n</code>, <code>no</code>, <code>off</code>, <code>false</code>: disables LTO.</li>
</ul>
<p>If <code>-C lto</code> is not specified, then the compiler will attempt to perform “thin
local LTO” which performs “thin” LTO on the local crate only across its
<a href="#codegen-units">codegen units</a>. When <code>-C lto</code> is not specified, LTO is
disabled if codegen units is 1 or optimizations are disabled (<a href="#opt-level"><code>-C opt-level=0</code></a>). That is:</p>
<ul>
<li>When <code>-C lto</code> is not specified:
<ul>
<li><code>codegen-units=1</code>: disable LTO.</li>
<li><code>opt-level=0</code>: disable LTO.</li>
</ul>
</li>
<li>When <code>-C lto</code> is specified:
<ul>
<li><code>lto</code>: 16 codegen units, perform fat LTO across crates.</li>
<li><code>codegen-units=1</code> + <code>lto</code>: 1 codegen unit, fat LTO across crates.</li>
</ul>
</li>
</ul>
<p>See also <a href="#linker-plugin-lto">linker-plugin-lto</a> for cross-language LTO.</p>
<h2 id="metadata"><a class="header" href="#metadata">metadata</a></h2>
<p>This option allows you to control the metadata used for symbol mangling. This
takes a space-separated list of strings. Mangled symbols will incorporate a
hash of the metadata. This may be used, for example, to differentiate symbols
between two different versions of the same crate being linked.</p>
<h2 id="no-prepopulate-passes"><a class="header" href="#no-prepopulate-passes">no-prepopulate-passes</a></h2>
<p>This flag tells the pass manager to use an empty list of passes, instead of the
usual pre-populated list of passes.</p>
<p>When combined with <code>-O --emit llvm-ir</code>, it can be used to see the optimized LLVM IR emitted by rustc before any optimizations are applied by LLVM.</p>
<h2 id="no-redzone"><a class="header" href="#no-redzone">no-redzone</a></h2>
<p>This flag allows you to disable <a href="https://en.wikipedia.org/wiki/Red_zone_(computing)">the
red zone</a>. It takes one
of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: disable the red zone.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: enable the red zone.</li>
</ul>
<p>The default behaviour, if the flag is not specified, depends on the target.</p>
<h2 id="no-stack-check"><a class="header" href="#no-stack-check">no-stack-check</a></h2>
<p>This option is deprecated and does nothing.</p>
<h2 id="no-vectorize-loops"><a class="header" href="#no-vectorize-loops">no-vectorize-loops</a></h2>
<p>This flag disables <a href="https://llvm.org/docs/Vectorizers.html#the-loop-vectorizer">loop
vectorization</a>.</p>
<h2 id="no-vectorize-slp"><a class="header" href="#no-vectorize-slp">no-vectorize-slp</a></h2>
<p>This flag disables vectorization using
<a href="https://llvm.org/docs/Vectorizers.html#the-slp-vectorizer">superword-level
parallelism</a>.</p>
<h2 id="opt-level"><a class="header" href="#opt-level">opt-level</a></h2>
<p>This flag controls the optimization level.</p>
<ul>
<li><code>0</code>: no optimizations, also turns on
<a href="#debug-assertions"><code>cfg(debug_assertions)</code></a> (the default).</li>
<li><code>1</code>: basic optimizations.</li>
<li><code>2</code>: some optimizations.</li>
<li><code>3</code>: all optimizations.</li>
<li><code>s</code>: optimize for binary size.</li>
<li><code>z</code>: optimize for binary size, but more aggressively. Often results in larger binaries than <code>s</code></li>
</ul>
<p>Note: The <a href="../command-line-arguments.html#option-o-optimize"><code>-O</code> flag</a> is an alias for <code>-C opt-level=3</code>.</p>
<p>The default is <code>0</code>.</p>
<h2 id="overflow-checks"><a class="header" href="#overflow-checks">overflow-checks</a></h2>
<p>This flag allows you to control the behavior of <a href="../../reference/expressions/operator-expr.html#overflow">runtime integer
overflow</a>. When
overflow-checks are enabled, a panic will occur on overflow. This flag takes
one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: enable overflow checks.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: disable overflow checks.</li>
</ul>
<p>If not specified, overflow checks are enabled if
<a href="#debug-assertions">debug-assertions</a> are enabled, disabled otherwise.</p>
<h2 id="panic"><a class="header" href="#panic">panic</a></h2>
<p>This option lets you control what happens when the code panics.</p>
<ul>
<li><code>abort</code>: terminate the process upon panic</li>
<li><code>immediate-abort</code>: terminate the process upon panic, and do not call any panic hooks</li>
<li><code>unwind</code>: unwind the stack upon panic</li>
</ul>
<p>If not specified, the default depends on the target.</p>
<p>If any crate in the crate graph uses <code>abort</code>, the final binary (<code>bin</code>, <code>dylib</code>, <code>cdylib</code>, <code>staticlib</code>) must also use <code>abort</code>.
If any crate in the crate graph uses <code>immediate-abort</code>, every crate in the graph must use <code>immediate-abort</code>.
If <code>std</code> is used as a <code>dylib</code> with <code>unwind</code>, the final binary must also use <code>unwind</code>.</p>
<h2 id="passes"><a class="header" href="#passes">passes</a></h2>
<p>This flag can be used to add extra <a href="http://llvm.org/docs/Passes.html">LLVM
passes</a> to the compilation.</p>
<p>The list must be separated by spaces.</p>
<p>See also the <a href="#no-prepopulate-passes"><code>no-prepopulate-passes</code></a> flag.</p>
<div class="warning">
<p>Because this flag directly talks to LLVM, it not subject to the usual stability guarantees of rustc’s CLI interface.</p>
</div>

<h2 id="prefer-dynamic"><a class="header" href="#prefer-dynamic">prefer-dynamic</a></h2>
<p>By default, <code>rustc</code> prefers to statically link dependencies. This option will
indicate that dynamic linking should be used if possible if both a static and
dynamic versions of a library are available.</p>
<p>There is <a href="https://github.com/rust-lang/rust/blob/HEAD/compiler/rustc_metadata/src/dependency_format.rs">an internal algorithm</a>
for determining whether or not it is possible to statically or dynamically link
with a dependency.</p>
<p>This flag takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: prefer dynamic linking.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: prefer static linking (the default).</li>
</ul>
<h2 id="profile-generate"><a class="header" href="#profile-generate">profile-generate</a></h2>
<p>This flag allows for creating instrumented binaries that will collect
profiling data for use with profile-guided optimization (PGO). The flag takes
an optional argument which is the path to a directory into which the
instrumented binary will emit the collected data. See the chapter on
<a href="../profile-guided-optimization.html">profile-guided optimization</a> for more information.</p>
<h2 id="profile-use"><a class="header" href="#profile-use">profile-use</a></h2>
<p>This flag specifies the profiling data file to be used for profile-guided
optimization (PGO). The flag takes a mandatory argument which is the path
to a valid <code>.profdata</code> file. See the chapter on
<a href="../profile-guided-optimization.html">profile-guided optimization</a> for more information.</p>
<h2 id="relocation-model"><a class="header" href="#relocation-model">relocation-model</a></h2>
<p>This option controls generation of
<a href="https://en.wikipedia.org/wiki/Position-independent_code">position-independent code (PIC)</a>.</p>
<p>Supported values for this option are:</p>
<h4 id="primary-relocation-models"><a class="header" href="#primary-relocation-models">Primary relocation models</a></h4>
<ul>
<li>
<p><code>static</code> - non-relocatable code, machine instructions may use absolute addressing modes.</p>
</li>
<li>
<p><code>pic</code> - fully relocatable position independent code,
machine instructions need to use relative addressing modes.  <br>Equivalent to the “uppercase” <code>-fPIC</code> or <code>-fPIE</code> options in other compilers,
depending on the produced crate types.  <br>This is the default model for majority of supported targets.</p>
</li>
<li>
<p><code>pie</code> - position independent executable, relocatable code but without support for symbol
interpositioning (replacing symbols by name using <code>LD_PRELOAD</code> and similar). Equivalent to the “uppercase” <code>-fPIE</code> option in other compilers. <code>pie</code>
code cannot be linked into shared libraries (you’ll get a linking error on attempt to do this).</p>
</li>
</ul>
<h4 id="special-relocation-models"><a class="header" href="#special-relocation-models">Special relocation models</a></h4>
<ul>
<li><code>dynamic-no-pic</code> - relocatable external references, non-relocatable code.  <br>Only makes sense on Darwin and is rarely used.  <br>If StackOverflow tells you to use this as an opt-out of PIC or PIE, don’t believe it,
use <code>-C relocation-model=static</code> instead.</li>
<li><code>ropi</code>, <code>rwpi</code> and <code>ropi-rwpi</code> - relocatable code and read-only data, relocatable read-write data,
and combination of both, respectively.  <br>Only makes sense for certain embedded ARM targets.</li>
<li><code>default</code> - relocation model default to the current target.  <br>Only makes sense as an override for some other explicitly specified relocation model
previously set on the command line.</li>
</ul>
<p>Supported values can also be discovered by running <code>rustc --print relocation-models</code>.</p>
<h4 id="linking-effects"><a class="header" href="#linking-effects">Linking effects</a></h4>
<p>In addition to codegen effects, <code>relocation-model</code> has effects during linking.</p>
<p>If the relocation model is <code>pic</code> and the current target supports position-independent executables
(PIE), the linker will be instructed (<code>-pie</code>) to produce one.  <br>If the target doesn’t support both position-independent and statically linked executables,
then <code>-C target-feature=+crt-static</code> “wins” over <code>-C relocation-model=pic</code>,
and the linker is instructed (<code>-static</code>) to produce a statically linked
but not position-independent executable.</p>
<h2 id="relro-level"><a class="header" href="#relro-level">relro-level</a></h2>
<p>This flag controls what level of RELRO (Relocation Read-Only) is enabled. RELRO is an exploit
mitigation which makes the Global Offset Table (GOT) read-only.</p>
<p>Supported values for this option are:</p>
<ul>
<li><code>off</code>: Dynamically linked functions are resolved lazily and the GOT is writable.</li>
<li><code>partial</code>: Dynamically linked functions are resolved lazily and written into the Procedure
Linking Table (PLT) part of the GOT (<code>.got.plt</code>). The non-PLT part of the GOT (<code>.got</code>) is made
read-only and both are moved to prevent writing from buffer overflows.</li>
<li><code>full</code>: Dynamically linked functions are resolved at the start of program execution and the
Global Offset Table (<code>.got</code>/<code>.got.plt</code>) is populated eagerly and then made read-only. The GOT is
also moved to prevent writing from buffer overflows. Full RELRO uses more memory and increases
process startup time.</li>
</ul>
<p>This flag is ignored on platforms where RELRO is not supported (targets which do not use the ELF
binary format), such as Windows or macOS. Each rustc target has its own default for RELRO. rustc
enables Full RELRO by default on platforms where it is supported.</p>
<h2 id="remark"><a class="header" href="#remark">remark</a></h2>
<p>This flag lets you print remarks for optimization passes.</p>
<p>The list of passes should be separated by spaces.</p>
<p><code>all</code> will remark on every pass.</p>
<h2 id="rpath"><a class="header" href="#rpath">rpath</a></h2>
<p>This flag controls whether rustc sets an <a href="https://en.wikipedia.org/wiki/Rpath"><code>rpath</code></a> for the binary.
It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: enable rpath.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: disable rpath (the default).</li>
</ul>
<p>This flag only does something on Unix-like platforms (Mach-O and ELF), it is ignored on other platforms.</p>
<p>If enabled, rustc will add output-relative (using <code>@load_path</code> on Mach-O and <code>$ORIGIN</code> on ELF respectively) rpaths to all <code>dylib</code> dependencies.</p>
<p>For example, for the following directory structure, with <code>libdep.so</code> being a <code>dylib</code> crate compiled with <code>-Cprefer-dynamic</code>:</p>
<pre><code class="language-text">dep
 |- libdep.so
a.rs
</code></pre>
<p><code>rustc a.rs --extern dep=dep/libdep.so -Crpath</code> will, on x86-64 Linux, result in approximately the following <code>DT_RUNPATH</code>: <code>$ORIGIN/dep:$ORIGIN/$RELATIVE_PATH_TO_SYSROOT/lib/rustlib/x86_64-unknown-linux-gnu/lib</code> (where <code>RELATIVE_PATH_TO_SYSROOT</code> depends on the build directory location).</p>
<p>This is primarily useful for local development, to ensure that all the <code>dylib</code> dependencies can be found appropriately.</p>
<p>To set the rpath to a different value (which can be useful for distribution), <code>-Clink-arg</code> with a platform-specific linker argument can be used to set the rpath directly.</p>
<h2 id="save-temps"><a class="header" href="#save-temps">save-temps</a></h2>
<p>This flag controls whether temporary files generated during compilation are
deleted once compilation finishes. It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: save temporary files.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: delete temporary files (the default).</li>
</ul>
<h2 id="soft-float"><a class="header" href="#soft-float">soft-float</a></h2>
<p>This option controls whether <code>rustc</code> generates code that emulates floating
point instructions in software. It takes one of the following values:</p>
<ul>
<li><code>y</code>, <code>yes</code>, <code>on</code>, <code>true</code> or no value: use soft floats.</li>
<li><code>n</code>, <code>no</code>, <code>off</code> or <code>false</code>: use hardware floats (the default).</li>
</ul>
<p>This flag only works on <code>*eabihf</code> targets and <strong>is unsound and deprecated</strong>.</p>
<h2 id="split-debuginfo"><a class="header" href="#split-debuginfo">split-debuginfo</a></h2>
<p>This option controls the emission of “split debuginfo” for debug information
that <code>rustc</code> generates. The default behavior of this option is
platform-specific, and not all possible values for this option work on all
platforms. Possible values are:</p>
<ul>
<li>
<p><code>off</code> - This is the default for platforms with ELF binaries and windows-gnu
(not Windows MSVC and not macOS). This typically means that DWARF debug
information can be found in the final artifact in sections of the executable.
This option is not supported on Windows MSVC. On macOS this options prevents
the final execution of <code>dsymutil</code> to generate debuginfo.</p>
</li>
<li>
<p><code>packed</code> - This is the default for Windows MSVC and macOS. The term
“packed” here means that all the debug information is packed into a separate
file from the main executable. On Windows MSVC this is a <code>*.pdb</code> file, on
macOS this is a <code>*.dSYM</code> folder, and on other platforms this is a <code>*.dwp</code>
file.</p>
</li>
<li>
<p><code>unpacked</code> - This means that debug information will be found in separate
files for each compilation unit (object file). This is not supported on
Windows MSVC. On macOS this means the original object files will contain
debug information. On other Unix platforms this means that <code>*.dwo</code> files will
contain debug information.</p>
</li>
</ul>
<p>Note that all three options are supported on Linux and Apple platforms,
<code>packed</code> is supported on Windows-MSVC, and all other platforms support <code>off</code>.
Attempting to use an unsupported option requires using the nightly channel
with the <code>-Z unstable-options</code> flag.</p>
<h2 id="strip"><a class="header" href="#strip">strip</a></h2>
<p>The option <code>-C strip=val</code> controls stripping of debuginfo and similar auxiliary
data from binaries during linking.</p>
<p>Supported values for this option are:</p>
<ul>
<li><code>none</code> - debuginfo and symbols are not modified.</li>
<li><code>debuginfo</code> - debuginfo sections and debuginfo symbols from the symbol table
section are stripped at link time and are not copied to the produced binary.
This should leave backtraces mostly-intact but may make using a debugger like
gdb or lldb ineffectual. Prior to 1.79, this unintentionally disabled the
generation of <code>*.pdb</code> files on MSVC, resulting in the absence of symbols.</li>
<li><code>symbols</code> - same as <code>debuginfo</code>, but the rest of the symbol table section is
stripped as well, depending on platform support. On platforms which depend on
this symbol table for backtraces, profiling, and similar, this can affect
them so negatively as to make the trace incomprehensible. Programs which may
be combined with others, such as CLI pipelines and developer tooling, or even
anything which wants crash-reporting, should usually avoid <code>-Cstrip=symbols</code>.</li>
</ul>
<p>Note that, at any level, removing debuginfo only necessarily impacts “friendly”
introspection. <code>-Cstrip</code> cannot be relied on as a meaningful security or
obfuscation measure, as disassemblers and decompilers can extract considerable
information even in the absence of symbols.</p>
<h2 id="symbol-mangling-version"><a class="header" href="#symbol-mangling-version">symbol-mangling-version</a></h2>
<p>This option controls the <a href="https://en.wikipedia.org/wiki/Name_mangling">name mangling</a> format for encoding Rust item names
for the purpose of generating object code and linking.</p>
<p>Supported values for this option are:</p>
<ul>
<li><code>v0</code> — The “v0” mangling scheme.</li>
</ul>
<p>The default, if not specified, will use a compiler-chosen default which may
change in the future.</p>
<p>See the <a href="../symbol-mangling/index.html">Symbol Mangling</a> chapter for details on symbol mangling and the mangling format.</p>
<h2 id="target-cpu"><a class="header" href="#target-cpu">target-cpu</a></h2>
<p>This instructs <code>rustc</code> to generate code specifically for a particular processor.</p>
<p>You can run <code>rustc --print target-cpus</code> to see the valid options to pass
and the default target CPU for the current build target.
Each target has a default base CPU. Special values include:</p>
<ul>
<li><code>native</code> can be passed to use the processor of the host machine.</li>
<li><code>generic</code> refers to an LLVM target with minimal features but modern tuning.</li>
</ul>
<h2 id="target-feature"><a class="header" href="#target-feature">target-feature</a></h2>
<p>Individual targets will support different features; this flag lets you control
enabling or disabling a feature. Each feature should be prefixed with a <code>+</code> to
enable it or <code>-</code> to disable it.</p>
<p>Features from multiple <code>-C target-feature</code> options are combined. <br>Multiple features can be specified in a single option by separating them
with commas - <code>-C target-feature=+x,-y</code>. <br>If some feature is specified more than once with both <code>+</code> and <code>-</code>,
then values passed later override values passed earlier. <br>For example, <code>-C target-feature=+x,-y,+z -Ctarget-feature=-x,+y</code>
is equivalent to <code>-C target-feature=-x,+y,+z</code>.</p>
<p>To see the valid options and an example of use, run <code>rustc --print target-features</code>.</p>
<p>Using this flag is unsafe and might result in <a href="../targets/known-issues.html">undefined runtime
behavior</a>.</p>
<p>See also the <a href="../../reference/attributes/codegen.html#the-target_feature-attribute"><code>target_feature</code>
attribute</a>
for controlling features per-function.</p>
<p>This also supports the feature <code>+crt-static</code> and <code>-crt-static</code> to control
<a href="../../reference/linkage.html#static-and-dynamic-c-runtimes">static C runtime linkage</a>.</p>
<p>Each target and <a href="#target-cpu"><code>target-cpu</code></a> has a default set of enabled
features.</p>
<h2 id="tune-cpu"><a class="header" href="#tune-cpu">tune-cpu</a></h2>
<p>This instructs <code>rustc</code> to schedule code specifically for a particular
processor. This does not affect the compatibility (instruction sets or ABI),
but should make your code slightly more efficient on the selected CPU.</p>
<p>The valid options are the same as those for <a href="#target-cpu"><code>target-cpu</code></a>.
The default is <code>None</code>, which LLVM translates as the <code>target-cpu</code>.</p>
<p>This is an unstable option. Use <code>-Z tune-cpu=machine</code> to specify a value.</p>
<p>Due to limitations in LLVM (12.0.0-git9218f92), this option is currently
effective only for x86 targets.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../command-line-arguments/print-options.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../jobserver.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../command-line-arguments/print-options.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../jobserver.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
