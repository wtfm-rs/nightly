<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Creates schedule groups with specific properties to create custom scheduling pipelines."><title>sched_group_barrier in core::arch::amdgpu - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-b10cf797.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="core" data-themes="" data-resource-suffix="1.95.0" data-rustdoc-version="1.95.0-nightly (5c49c4f7c 2026-01-20)" data-channel="nightly" data-search-js="search-86d08462.js" data-stringdex-js="stringdex-b897f86f.js" data-settings-js="settings-170eb4bf.js" ><script src="../../../static.files/storage-f9617a14.js"></script><script defer src="sidebar-items1.95.0.js"></script><script defer src="../../../static.files/main-7bab91a1.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-ffcac47a.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">sched_group_barrier</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../core/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-9a9549ea.svg" alt="logo"></a><h2><a href="../../../core/index.html">core</a><span class="version">1.95.0-nightly</span></h2></div><div class="version">(5c49c4f7c	2026-01-20)</div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In core::<wbr>arch::<wbr>amdgpu</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">core</a>::<wbr><a href="../index.html">arch</a>::<wbr><a href="index.html">amdgpu</a></div><h1>Function <span class="fn">sched_<wbr>group_<wbr>barrier</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/core/stdarch/crates/core_arch/src/amdgpu/mod.rs.html#350-353">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe fn sched_group_barrier&lt;const MASK: <a class="primitive" href="../../primitive.u32.html">u32</a>, const SIZE: <a class="primitive" href="../../primitive.u32.html">u32</a>, const SYNC_ID: <a class="primitive" href="../../primitive.u32.html">u32</a>&gt;()</code></pre><span class="item-info"><div class="stab unstable"><span class="emoji">ðŸ”¬</span><span>This is a nightly-only experimental API. (<code>stdarch_amdgpu</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/149988">#149988</a>)</span></div><div class="stab portability">Available on <strong><code>target_arch=amdgpu</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Creates schedule groups with specific properties to create custom scheduling pipelines.</p>
<p>The ordering between groups is enforced by the instruction scheduler.
The intrinsic applies to the code that precedes the intrinsic.
The intrinsic takes three values that control the behavior of the schedule groups.</p>
<ul>
<li><code>mask</code>: Classify instruction groups using the <a href="fn.sched_barrier.html" title="fn core::arch::amdgpu::sched_barrier"><code>sched_barrier</code></a> mask values.</li>
<li><code>size</code>: The number of instructions that are in the group.</li>
<li><code>sync_id</code>: Order is enforced between groups with matching values.</li>
</ul>
<p>The mask can include multiple instruction types. It is undefined behavior to set values beyond the range of valid masks.</p>
<p>Combining multiple <code>sched_group_barrier</code> intrinsics enables an ordering of specific instruction types during instruction scheduling.
For example, the following enforces a sequence of 1 VMEM read, followed by 1 VALU instruction, followed by 5 MFMA instructions.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// 1 VMEM read
</span>sched_group_barrier::&lt;<span class="number">32</span>, <span class="number">1</span>, <span class="number">0</span>&gt;()
<span class="comment">// 1 VALU
</span>sched_group_barrier::&lt;<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>&gt;()
<span class="comment">// 5 MFMA
</span>sched_group_barrier::&lt;<span class="number">8</span>, <span class="number">5</span>, <span class="number">0</span>&gt;()</code></pre><a class="test-arrow" target="_blank" title="Run code" href="https://play.rust-lang.org/?code=//+1+VMEM+read%0Asched_group_barrier::%3C32,+1,+0%3E()%0A//+1+VALU%0Asched_group_barrier::%3C2,+1,+0%3E()%0A//+5+MFMA%0Asched_group_barrier::%3C8,+5,+0%3E()&amp;edition=2024"></a></div></div></details></section></div></main></body></html>