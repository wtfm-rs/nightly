<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Changes the timestamps of the file or symlink at the specified path."><title>set_times_nofollow in std::fs - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-bbd8d786.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="std" data-themes="" data-resource-suffix="1.95.0" data-rustdoc-version="1.95.0-nightly (d222ddc4d 2026-01-23)" data-channel="nightly" data-search-js="search-86d08462.js" data-stringdex-js="stringdex-b897f86f.js" data-settings-js="settings-170eb4bf.js" ><script src="../../static.files/storage-f9617a14.js"></script><script defer src="sidebar-items1.95.0.js"></script><script defer src="../../static.files/main-12f88f4f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-ffcac47a.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">set_times_nofollow</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../std/index.html"><img class="rust-logo" src="../../static.files/rust-logo-9a9549ea.svg" alt="logo"></a><h2><a href="../../std/index.html">std</a><span class="version">1.95.0-nightly</span></h2></div><div class="version">(d222ddc4d	2026-01-23)</div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">set_<wbr>times_<wbr>nofollow</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#platform-specific-behavior" title="Platform-specific behavior">Platform-specific behavior</a></li><li><a href="#errors" title="Errors">Errors</a></li><li><a href="#examples" title="Examples">Examples</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In std::fs</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">std</a>::<wbr><a href="index.html">fs</a></div><h1>Function <span class="fn">set_<wbr>times_<wbr>nofollow</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/std/fs.rs.html#503-505">Source</a> </span></div><pre class="rust item-decl"><code>pub fn set_times_nofollow&lt;P: <a class="trait" href="../convert/trait.AsRef.html" title="trait std::convert::AsRef">AsRef</a>&lt;<a class="struct" href="../path/struct.Path.html" title="struct std::path::Path">Path</a>&gt;&gt;(
    path: P,
    times: <a class="struct" href="struct.FileTimes.html" title="struct std::fs::FileTimes">FileTimes</a>,
) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</code></pre><span class="item-info"><div class="stab unstable"><span class="emoji">ðŸ”¬</span><span>This is a nightly-only experimental API. (<code>fs_set_times</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/147455">#147455</a>)</span></div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Changes the timestamps of the file or symlink at the specified path.</p>
<p>This function will attempt to set the access and modification times
to the times specified. Differ from <code>set_times</code>, if the path refers to a symbolic link,
this function will change the timestamps of the symlink itself, not the target file.</p>
<h2 id="platform-specific-behavior"><a class="doc-anchor" href="#platform-specific-behavior">Â§</a>Platform-specific behavior</h2>
<p>This function currently corresponds to the <code>utimensat</code> function with <code>AT_SYMLINK_NOFOLLOW</code> on
Unix platforms, the <code>setattrlist</code> function with <code>FSOPT_NOFOLLOW</code> on Apple platforms, and the
<code>SetFileTime</code> function on Windows.</p>
<h2 id="errors"><a class="doc-anchor" href="#errors">Â§</a>Errors</h2>
<p>This function will return an error if the user lacks permission to change timestamps on the
target file or symlink. It may also return an error if the OS does not support it.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">Â§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#![feature(fs_set_times)]
</span><span class="kw">use </span>std::fs::{<span class="self">self</span>, FileTimes};
<span class="kw">use </span>std::time::SystemTime;

<span class="kw">fn </span>main() -&gt; std::io::Result&lt;()&gt; {
    <span class="kw">let </span>now = SystemTime::now();
    <span class="kw">let </span>times = FileTimes::new()
        .set_accessed(now)
        .set_modified(now);
    fs::set_times_nofollow(<span class="string">"symlink.txt"</span>, times)<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre><a class="test-arrow" target="_blank" title="Run code" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(fs_set_times)%5D%0A%0Ause+std::fs::%7Bself,+FileTimes%7D;%0Ause+std::time::SystemTime;%0A%0Afn+main()+-%3E+std::io::Result%3C()%3E+%7B%0A++++let+now+=+SystemTime::now();%0A++++let+times+=+FileTimes::new()%0A++++++++.set_accessed(now)%0A++++++++.set_modified(now);%0A++++fs::set_times_nofollow(%22symlink.txt%22,+times)?;%0A++++Ok(())%0A%7D&amp;version=nightly&amp;edition=2024"></a></div></div></details></section></div></main></body></html>